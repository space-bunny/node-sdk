!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,i){r.apply(this,[e,t,i].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.StompStreamClient=t.MqttStreamClient=t.AmqpStreamClient=t.StreamClient=t.StompClient=t.MqttClient=t.AmqpClient=t.Client=void 0;var i=n(2),o=r(i),s=n(295),a=r(s),u=n(339),c=r(u),l=n(347),f=r(l),h=n(348),p=r(h),d=n(349),v=r(d);"undefined"!=typeof window&&(window.StompClient=c["default"],window.StompStreamClient=v["default"]),t.Client=o["default"],t.AmqpClient=o["default"],t.MqttClient=a["default"],t.StompClient=c["default"],t.StreamClient=f["default"],t.AmqpStreamClient=f["default"],t.MqttStreamClient=p["default"],t.StompStreamClient=v["default"]},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),u=r(a),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(49),f=r(l),h=n(50),p=r(h),d=n(88),v=r(d),g=n(108),y=r(g),m=n(172),b=r(m),_=n(294),w=r(_),E=n(293).CONFIG,x=function(t){function n(e){i(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t._amqpConnection=void 0,t._amqpChannels={};var r=E.amqp;return t._protocol=r.protocol,t._tlsProtocol=r.tls.protocol,t._inputQueueArgs=r.inputQueueArgs,t._deviceExchangeArgs=r.deviceExchangeArgs,t._subscribeArgs=r.subscribeArgs,t._publishArgs=r.publishArgs,t._connectionOpts=r.connectionOpts,t}return s(n,t),c(n,[{key:"onReceive",value:function(e,t){var n=this;return t=(0,f["default"])(this._subscribeArgs,t),t.noAck=null===t.ack,new p["default"](function(r,i){n._createChannel("input",t).then(function(r){return v["default"].all([r.checkQueue(n.deviceId()+"."+n._inboxTopic,n._inputQueueArgs),r.consume(n.deviceId()+"."+n._inboxTopic,function(i){var o=new w["default"](i,n._deviceId,t),s=n._autoAck(t.ack);return o.blackListed()?void(s&&r.nack(i,t.allUpTo,t.requeue)):(e(n._parseContent(o.content),o.fields,o.properties),void(s&&r.ack(i,t.allUpTo)))},t)])}).then(function(e){r(e)})["catch"](function(e){i(e)})})}},{key:"publish",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=(0,f["default"])(this._publishArgs,i),new p["default"](function(o,s){r._createChannel("output",i).then(function(o){var s=new e(r._encapsulateContent(n)),a=[o.checkExchange(r.deviceId()),o.publish(r.deviceId(),r._routingKeyFor(t),s,i)];return i.withConfirm===!0&&a.push(o.waitForConfirms()),v["default"].all(a)}).then(function(e){o(e)})["catch"](function(e){s(e)})})}},{key:"disconnect",value:function(){var e=this;return new p["default"](function(t,n){void 0===e._amqpConnection?n("Not Connected"):e._amqpConnection.close().then(function(){e._amqpConnection=void 0,e._amqpChannels={},e.emit("disconnect"),t(!0)})["catch"](function(e){n(e)})})}},{key:"connect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,f["default"])(this._connectionOpts,t);return new p["default"](function(t,r){e.getEndpointConfigs().then(function(i){var o=i.connection;if(void 0===e._amqpConnection){var s="";return e._tls?(s=e._tlsProtocol+"://"+(o.deviceId||o.client)+":"+(o.secret+"@"+o.host+":")+(o.protocols.amqp.tlsPort+"/"+o.vhost.replace("/","%2f")),n=(0,f["default"])(n,e._tlsOpts)):s=e._protocol+"://"+(o.deviceId||o.client)+":"+(o.secret+"@"+o.host+":")+(o.protocols.amqp.port+"/"+o.vhost.replace("/","%2f")),y["default"].connect(s,n).then(function(n){n.on("error",function(t){e.emit("error",t),r(t)}),n.on("close",function(t){e.emit("close",t),e._amqpConnection=void 0}),n.on("blocked",function(t){e.emit("blocked",t),console.warn(t)}),n.on("unblocked",function(t){e.emit("unblocked",t),console.warn(t)}),e._amqpConnection=n,e.emit("connect"),t(e._amqpConnection)})["catch"](function(e){r(e)})}t(e._amqpConnection)})["catch"](function(e){r(e)})})}},{key:"isConnected",value:function(){return void 0!==this._amqpConnection}},{key:"_createChannel",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=""+e+(n.withConfirm===!0?"WithConfirm":""),new p["default"](function(r,i){t._amqpChannels[e]?r(t._amqpChannels[e]):t.connect().then(function(e){return n.withConfirm===!0?e.createConfirmChannel():e.createChannel()}).then(function(n){t._amqpChannels[e]=n,r(n)})["catch"](function(e){i(e)})})}},{key:"_closeChannel",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=""+e+(n.withConfirm===!0?"WithConfirm":""),new p["default"](function(n,r){var i=t._amqpChannels[e];void 0===i?r("Invalid Channel Object"):i.close().then(function(){t._amqpChannels[e]=void 0,n(!0)})["catch"](function(e){r(e)})})}},{key:"_routingKeyFor",value:function(e){return this.deviceId()+"."+e}},{key:"_autoAck",value:function(e){if(e)switch((0,u["default"])(E[this._protocol].ackTypes,e)||console.error("Wrong acknowledge type"),e){case"auto":return!0;default:return!1}return!0}}]),n}(b["default"]);t["default"]=x}).call(t,n(3).Buffer)},function(e,t,n){(function(e,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function o(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,n){if(o()<n)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n),t.__proto__=e.prototype):(null===t&&(t=new e(n)),t.length=n),t}function e(t,n,r){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(t,n,r);if("number"==typeof t){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return a(this,t,n,r)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?p(e,t,n,r):"string"==typeof t?f(e,t,n):d(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}function l(t,n){if(u(n),t=s(t,n<0?0:0|v(n)),!e.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)t[r]=0;return t}function f(t,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!e.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|y(n,r);t=s(t,i);var o=t.write(n,r);return o!==i&&(t=t.slice(0,o)),t}function h(e,t){var n=t.length<0?0:0|v(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(t,n,r,i){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,r):new Uint8Array(n,r,i),e.TYPED_ARRAY_SUPPORT?(t=n,t.__proto__=e.prototype):t=h(t,n),t}function d(t,n){if(e.isBuffer(n)){var r=0|v(n.length);return t=s(t,r),0===t.length?t:(n.copy(t,0,0,r),t)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||$(n.length)?s(t,0):h(t,n);if("Buffer"===n.type&&Z(n.data))return h(t,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function g(t){return+t!=t&&(t=0),e.alloc(+t)}function y(t,n){if(e.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(t).length;default:if(i)return W(t).length;n=(""+n).toLowerCase(),i=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return B(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(t,n,r,i,o){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=e.from(n,i)),e.isBuffer(n))return 0===n.length?-1:w(t,n,r,i,o);if("number"==typeof n)return n=255&n,e.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,n,r):Uint8Array.prototype.lastIndexOf.call(t,n,r):w(t,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,u=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}var c;if(i){var l=-1;for(c=n;c<a;c++)if(o(e,c)===o(t,l===-1?0:c-l)){if(l===-1&&(l=c),c-l+1===u)return l*s}else l!==-1&&(c-=c-l),l=-1}else for(n+u>a&&(n=a-u),c=n;c>=0;c--){for(var f=!0,h=0;h<u;h++)if(o(e,c+h)!==o(t,h)){f=!1;break}if(f)return c}return-1}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function x(e,t,n,r){return Y(W(t,e.length-n),e,n,r)}function k(e,t,n,r){return Y(K(t),e,n,r)}function I(e,t,n,r){return k(e,t,n,r)}function C(e,t,n,r){return Y(G(t),e,n,r)}function S(e,t,n,r){return Y(V(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function B(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var u,c,l,f;switch(a){case 1:o<128&&(s=o);break;case 2:u=e[i+1],128===(192&u)&&(f=(31&o)<<6|63&u,f>127&&(s=f));break;case 3:u=e[i+1],c=e[i+2],128===(192&u)&&128===(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,f>65535&&f<1114112&&(s=f))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return U(r)}function U(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ee));return n}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=Q(e[o]);return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function F(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,n,r,i,o,s){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function L(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return i||N(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,n,r,23,4),n+4}function q(e,t,n,r,i){return i||N(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,n,r,52,8),n+8}function z(e){if(e=H(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function H(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Q(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function V(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function G(e){return X.toByteArray(z(e))}function Y(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function $(e){return e!==e}var X=n(4),J=n(5),Z=n(6);t.Buffer=e,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),t.kMaxLength=o(),e.poolSize=8192,e._augment=function(t){return t.__proto__=e.prototype,t},e.from=function(e,t,n){return a(null,e,t,n)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(e,t,n){return c(null,e,t,n)},e.allocUnsafe=function(e){return l(null,e)},e.allocUnsafeSlow=function(e){return l(null,e)},e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,i=n.length,o=0,s=Math.min(r,i);o<s;++o)if(t[o]!==n[o]){r=t[o],i=n[o];break}return r<i?-1:i<r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Z(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var i=e.allocUnsafe(n),o=0;for(r=0;r<t.length;++r){var s=t[r];if(!e.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},e.byteLength=y,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},e.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},e.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?B(this,0,e):m.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t,n,r,i,o){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var s=o-i,a=r-n,u=Math.min(s,a),c=this.slice(i,o),l=t.slice(n,r),f=0;f<u;++f)if(c[f]!==l[f]){s=c[f],a=l[f];break}return s<a?-1:a<s?1:0},e.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},e.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},e.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return I(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;e.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<t&&(n=t);var i;if(e.TYPED_ARRAY_SUPPORT)i=this.subarray(t,n),i.__proto__=e.prototype;else{var o=n-t;i=new e(o,(void 0));for(var s=0;s<o;++s)i[s]=this[s+t]}return i},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||F(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||F(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},e.prototype.readUInt8=function(e,t){return t||F(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||F(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||F(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||F(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||F(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},e.prototype.readInt8=function(e,t){return t||F(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},e.prototype.readInt16LE=function(e,t){t||F(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||F(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||F(e,4,this.length),J.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||F(e,4,this.length),J.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||F(e,8,this.length),J.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||F(e,8,this.length),J.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t=0|t,n=0|n,!r){var i=Math.pow(2,8*n)-1;P(this,e,t,n,i,0)}var o=1,s=0;for(this[t]=255&e;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t=0|t,n=0|n,!r){var i=Math.pow(2,8*n)-1;P(this,e,t,n,i,0)}var o=n-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n},e.prototype.writeUInt8=function(t,n,r){return t=+t,n=0|n,r||P(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,r){return t=+t,n=0|n,r||P(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):L(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,r){return t=+t,n=0|n,r||P(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):L(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,r){return t=+t,n=0|n,r||P(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):M(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,r){return t=+t,n=0|n,r||P(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):M(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t=0|t,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},e.prototype.writeInt8=function(t,n,r){return t=+t,n=0|n,r||P(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,r){return t=+t,n=0|n,r||P(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):L(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,r){return t=+t,n=0|n,r||P(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):L(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,r){return t=+t,n=0|n,r||P(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):M(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,r){return t=+t,n=0|n,r||P(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):M(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return q(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return q(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var o,s=i-r;if(this===t&&r<n&&n<i)for(o=s-1;o>=0;--o)t[o+n]=this[o+r];else if(s<1e3||!e.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)t[o+n]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),n);return s},e.prototype.fill=function(t,n,r,i){if("string"==typeof t){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!e.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t=255&t);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var s;if("number"==typeof t)for(s=n;s<r;++s)this[s]=t;else{var a=e.isBuffer(t)?t:W(new e(t,i).toString()),u=a.length;for(s=0;s<r-n;++s)this[s+n]=a[s%u]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,n(3).Buffer,function(){return this}())},function(e,t){"use strict";function n(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function r(e){var t=n(e),r=t[0],i=t[1];return 3*(r+i)/4-i}function i(e,t,n){return 3*(t+n)/4-n}function o(e){for(var t,r=n(e),o=r[0],s=r[1],a=new f(i(e,o,s)),u=0,c=s>0?o-4:o,h=0;h<c;h+=4)t=l[e.charCodeAt(h)]<<18|l[e.charCodeAt(h+1)]<<12|l[e.charCodeAt(h+2)]<<6|l[e.charCodeAt(h+3)],a[u++]=t>>16&255,a[u++]=t>>8&255,a[u++]=255&t;return 2===s&&(t=l[e.charCodeAt(h)]<<2|l[e.charCodeAt(h+1)]>>4,a[u++]=255&t),1===s&&(t=l[e.charCodeAt(h)]<<10|l[e.charCodeAt(h+1)]<<4|l[e.charCodeAt(h+2)]>>2,a[u++]=t>>8&255,a[u++]=255&t),a}function s(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function a(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(s(r));return i.join("")}function u(e){for(var t,n=e.length,r=n%3,i=[],o=16383,s=0,u=n-r;s<u;s+=o)i.push(a(e,s,s+o>u?u:s+o));return 1===r?(t=e[n-1],i.push(c[t>>2]+c[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),i.join("")}t.byteLength=r,t.toByteArray=o,t.fromByteArray=u;for(var c=[],l=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=h.length;p<d;++p)c[p]=h[p],l[h.charCodeAt(p)]=p;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),t+=s+f>=1?h/u:h*Math.pow(2,1-f),t*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=d,s/=256,c-=8);e[n+p-d]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){function r(e,t,n,r){e=o(e)?e:u(e),n=n&&!r?a(n):0;var l=e.length;return n<0&&(n=c(l+n,0)),s(e)?n<=l&&e.indexOf(t,n)>-1:!!l&&i(e,t,n)>-1}var i=n(8),o=n(12),s=n(22),a=n(25),u=n(29),c=Math.max;e.exports=r},function(e,t,n){function r(e,t,n){return t===t?s(e,t,n):i(e,o,n)}var i=n(9),o=n(10),s=n(11);e.exports=r},function(e,t){function n(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}e.exports=n},function(e,t){function n(e){return e!==e}e.exports=n},function(e,t){function n(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}e.exports=n},function(e,t,n){function r(e){return null!=e&&o(e.length)&&!i(e)}var i=n(13),o=n(21);e.exports=r},function(e,t,n){function r(e){if(!o(e))return!1;var t=i(e);return t==a||t==u||t==s||t==c}var i=n(14),o=n(20),s="[object AsyncFunction]",a="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?u:a:c&&c in Object(e)?o(e):s(e)}var i=n(15),o=n(18),s=n(19),a="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;e.exports=r},function(e,t,n){var r=n(16),i=r.Symbol;e.exports=i},function(e,t,n){var r=n(17),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){function r(e){var t=s.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(i){}var o=a.call(e);return r&&(t?e[u]=n:delete e[u]),o}var i=n(15),o=Object.prototype,s=o.hasOwnProperty,a=o.toString,u=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},function(e,t,n){function r(e){return"string"==typeof e||!o(e)&&s(e)&&i(e)==a}var i=n(14),o=n(23),s=n(24),a="[object String]";e.exports=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){function r(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}var i=n(26);e.exports=r},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if(e=i(e),e===o||e===-o){var t=e<0?-1:1;return t*s}return e===e?e:0}var i=n(27),o=1/0,s=1.7976931348623157e308;e.exports=r},function(e,t,n){function r(e){if("number"==typeof e)return e;if(o(e))return s;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=c.test(e);return n||l.test(e)?f(e.slice(2),n?2:8):u.test(e)?s:+e}var i=n(20),o=n(28),s=NaN,a=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt;e.exports=r},function(e,t,n){function r(e){return"symbol"==typeof e||o(e)&&i(e)==s}var i=n(14),o=n(24),s="[object Symbol]";e.exports=r},function(e,t,n){function r(e){return null==e?[]:i(e,o(e))}var i=n(30),o=n(32);e.exports=r},function(e,t,n){function r(e,t){return i(t,function(t){return e[t]})}var i=n(31);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},function(e,t,n){function r(e){return s(e)?i(e):o(e)}var i=n(33),o=n(45),s=n(12);e.exports=r},function(e,t,n){function r(e,t){var n=s(e),r=!n&&o(e),l=!n&&!r&&a(e),h=!n&&!r&&!l&&c(e),p=n||r||l||h,d=p?i(e.length,String):[],v=d.length;for(var g in e)!t&&!f.call(e,g)||p&&("length"==g||l&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,v))||d.push(g);return d}var i=n(34),o=n(35),s=n(23),a=n(37),u=n(40),c=n(41),l=Object.prototype,f=l.hasOwnProperty;e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},function(e,t,n){var r=n(36),i=n(24),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=u},function(e,t,n){function r(e){return o(e)&&i(e)==s}var i=n(14),o=n(24),s="[object Arguments]";e.exports=r},function(e,t,n){(function(e){var r=n(16),i=n(39),o="object"==typeof t&&t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o,u=a?r.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||i;e.exports=l}).call(t,n(38)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){function n(){return!1}e.exports=n},function(e,t){function n(e,t){var n=typeof e;return t=null==t?r:t,!!t&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t,n){var r=n(42),i=n(43),o=n(44),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},function(e,t,n){function r(e){return s(e)&&o(e.length)&&!!O[i(e)]}var i=n(14),o=n(21),s=n(24),a="[object Arguments]",u="[object Array]",c="[object Boolean]",l="[object Date]",f="[object Error]",h="[object Function]",p="[object Map]",d="[object Number]",v="[object Object]",g="[object RegExp]",y="[object Set]",m="[object String]",b="[object WeakMap]",_="[object ArrayBuffer]",w="[object DataView]",E="[object Float32Array]",x="[object Float64Array]",k="[object Int8Array]",I="[object Int16Array]",C="[object Int32Array]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",B="[object Uint16Array]",U="[object Uint32Array]",O={};O[E]=O[x]=O[k]=O[I]=O[C]=O[S]=O[T]=O[B]=O[U]=!0,O[a]=O[u]=O[_]=O[c]=O[w]=O[l]=O[f]=O[h]=O[p]=O[d]=O[v]=O[g]=O[y]=O[m]=O[b]=!1,e.exports=r},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){(function(e){var r=n(17),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s&&r.process,u=function(){try{var e=o&&o.require&&o.require("util").types;return e?e:a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=u}).call(t,n(38)(e))},function(e,t,n){function r(e){if(!i(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}var i=n(46),o=n(47),s=Object.prototype,a=s.hasOwnProperty;e.exports=r},function(e,t){function n(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||r;return e===n}var r=Object.prototype;e.exports=n},function(e,t,n){var r=n(48),i=r(Object.keys,Object);e.exports=i},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){(function(e){!function(t){function n(e,t){if("object"!==i(e))return t;for(var r in t)"object"===i(e[r])&&"object"===i(t[r])?e[r]=n(e[r],t[r]):e[r]=t[r];return e}function r(e,t,r){var s=r[0],a=r.length;(e||"object"!==i(s))&&(s={});for(var u=0;u<a;++u){var c=r[u],l=i(c);if("object"===l)for(var f in c){var h=e?o.clone(c[f]):c[f];t?s[f]=n(s[f],h):s[f]=h}}return s}function i(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}var o=function(e){return r(e===!0,!1,arguments)},s="merge";o.recursive=function(e){return r(e===!0,!0,arguments)},o.clone=function(e){var t,n,r=e,s=i(e);if("array"===s)for(r=[],n=e.length,t=0;t<n;++t)r[t]=o.clone(e[t]);else if("object"===s){r={};for(t in e)r[t]=o.clone(e[t])}return r},t?e.exports=o:window[s]=o}("object"==typeof e&&e&&"object"==typeof e.exports&&e.exports)}).call(t,n(38)(e))},function(e,t,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(e){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=n(51)();o.noConflict=r,e.exports=o},function(e,t,n){(function(t){"use strict";e.exports=function(){function r(){}function i(e,t){if(null==e||e.constructor!==o)throw new b("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new b("expecting a function but got "+d.classString(t))}function o(e){e!==w&&i(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function s(e){this.promise._resolveCallback(e)}function a(e){this.promise._rejectCallback(e,!1)}function u(e){var t=new o(w);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}var c,l=function(){return new b("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},h=function(e){return o.reject(new b(e))},p={},d=n(53);c=d.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},d.notEnumerableProp(o,"_getDomain",c);var v=n(54),g=n(55),y=new g;v.defineProperty(o,"_async",{value:y});var m=n(59),b=o.TypeError=m.TypeError;o.RangeError=m.RangeError;var _=o.CancellationError=m.CancellationError;o.TimeoutError=m.TimeoutError,o.OperationalError=m.OperationalError,o.RejectionError=m.OperationalError,o.AggregateError=m.AggregateError;var w=function(){},E={},x={},k=n(60)(o,w),I=n(61)(o,w,k,h,r),C=n(62)(o),S=C.create,T=n(63)(o,C),B=(T.CapturedTrace,n(64)(o,k,x)),U=n(65)(x),O=n(66),j=d.errorObj,A=d.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;n<t-1;++n){var o=arguments[n];if(!d.isObject(o))return h("Catch statement predicate: expecting an object but got "+d.classString(o));r[i++]=o}return r.length=i,e=arguments[n],this.then(void 0,U(r,e,this))}return this.then(void 0,e)},o.prototype.reflect=function(){
return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(e,t){if(T.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+d.classString(e);arguments.length>1&&(n+=", "+d.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},o.prototype.done=function(e,t){var n=this._then(e,t,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(e){return"function"!=typeof e?h("expecting a function but got "+d.classString(e)):this.all()._then(e,void 0,void 0,E,void 0)},o.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new I(this).promise()},o.prototype.error=function(e){return this.caught(d.originatesFromRejection,e)},o.getNewLibraryCopy=e.exports,o.is=function(e){return e instanceof o},o.fromNode=o.fromCallback=function(e){var t=new o(w);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=A(e)(O(t,n));return r===j&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},o.all=function(e){return new I(e).promise()},o.cast=function(e){var t=k(e);return t instanceof o||(t=new o(w),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(e){var t=new o(w);return t._captureStackTrace(),t._rejectCallback(e,!0),t},o.setScheduler=function(e){if("function"!=typeof e)throw new b("expecting a function but got "+d.classString(e));return y.setScheduler(e)},o.prototype._then=function(e,t,n,r,i){var s=void 0!==i,a=s?i:new o(w),u=this._target(),l=u._bitField;s||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var f=c();if(0!==(50397184&l)){var h,p,v=u._settlePromiseCtx;0!==(33554432&l)?(p=u._rejectionHandler0,h=e):0!==(16777216&l)?(p=u._fulfillmentHandler0,h=t,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,p=new _("late cancellation observer"),u._attachExtraTrace(p),h=t),y.invoke(v,u,{handler:null===f?h:"function"==typeof h&&d.domainBind(f,h),promise:a,receiver:r,value:p})}else u._addCallbacks(e,t,a,r,f);return a},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(e){this._bitField=this._bitField&-65536|65535&e},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){y.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==p)return void 0===t&&this._isBound()?this._boundValue():t},o.prototype._promiseAt=function(e){return this[4*e-4+2]},o.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},o.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(e){var t=(e._bitField,e._fulfillmentHandler0),n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=p),this._addCallbacks(t,n,r,i,null)},o.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=p),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===i?e:d.domainBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=null===i?t:d.domainBind(i,t));else{var s=4*o-4;this[s+2]=n,this[s+3]=r,"function"==typeof e&&(this[s+0]=null===i?e:d.domainBind(i,e)),"function"==typeof t&&(this[s+1]=null===i?t:d.domainBind(i,t))}return this._setLength(o+1),o},o.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},o.prototype._resolveCallback=function(e,t){if(0===(117506048&this._bitField)){if(e===this)return this._rejectCallback(l(),!1);var n=k(e,this);if(!(n instanceof o))return this._fulfill(e);t&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0===(50397184&i)){var s=this._length();s>0&&r._migrateCallback0(this);for(var a=1;a<s;++a)r._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var u=new _("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(e,t,n){var r=d.ensureErrorObject(e),i=r===e;if(!i&&!n&&T.warnings()){var o="a promise was rejected with a non-error: "+d.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},o.prototype._resolveFromExecutor=function(e){if(e!==w){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)}},o.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;t===E?n&&"number"==typeof n.length?o=A(e).apply(this._boundValue(),n):(o=j,o.e=new b("cannot .spread() a non-array: "+d.classString(n))):o=A(e).call(t,n);var s=r._popContext();i=r._bitField,0===(65536&i)&&(o===x?r._reject(n):o===j?r._rejectCallback(o.e,!1):(T.checkForgottenReturns(o,s,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(e){this._rejectionHandler0=e},o.prototype._settlePromise=function(e,t,n,i){var s=e instanceof o,a=this._bitField,u=0!==(134217728&a);0!==(65536&a)?(s&&e._invokeInternalOnCancel(),n instanceof B&&n.isFinallyHandler()?(n.cancelPromise=e,A(t).call(n,i)===j&&e._reject(j.e)):t===f?e._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(e):s||e instanceof I?e._cancel():n.cancel()):"function"==typeof t?s?(u&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,i,e)):t.call(n,i,e):n instanceof r?n._isResolved()||(0!==(33554432&a)?n._promiseFulfilled(i,e):n._promiseRejected(i,e)):s&&(u&&e._setAsyncGuaranteed(),0!==(33554432&a)?e._fulfill(i):e._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,i=e.value;"function"==typeof t?n instanceof o?this._settlePromiseFromHandler(t,r,i,n):t.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},o.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},o.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},o.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!==(134217728&t)?this._settlePromises():y.settlePromises(this))}},o.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16))return this._setRejected(),this._fulfillmentHandler0=e,this._isFinal()?y.fatalError(e,d.isNode):void((65535&t)>0?y.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},o.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},o.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!==(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var e=this._bitField;return 0!==(33554432&e)?this._rejectionHandler0:0!==(16777216&e)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){T.deprecated("Promise.defer","new Promise");var e=new o(w);return{promise:e,resolve:s,reject:a}},d.notEnumerableProp(o,"_makeSelfResolutionError",l),n(67)(o,w,k,h,T),n(68)(o,w,k,T),n(69)(o,I,h,T),n(70)(o),n(71)(o),n(72)(o,I,k,w,y,c),o.Promise=o,o.version="3.5.1",n(73)(o,I,h,k,w,T),n(74)(o),n(75)(o,h,k,S,w,T),n(76)(o,w,T),n(77)(o,h,w,k,r,T),n(78)(o),n(79)(o,w),n(80)(o,I,k,h),n(81)(o,w,k,h),n(82)(o,I,h,k,w,T),n(83)(o,I,T),n(84)(o,I,h),n(85)(o,w),n(86)(o,w),n(87)(o),d.toFastProperties(o),d.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(w)),T.setBounds(g.firstLineError,d.lastLineError),o}}).call(t,n(52))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){v&&p&&(v=!1,p.length?d=p.concat(d):g=-1,d.length&&a())}function a(){if(!v){var e=i(s);v=!0;for(var t=d.length;t;){for(p=d,d=[];++g<t;)p&&p[g].run();g=-1,t=d.length}p=null,v=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function c(){}var l,f,h=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,d=[],v=!1,g=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new u(e,t)),1!==d.length||v||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){(function(t,r){"use strict";function i(){try{var e=U;return U=null,e.apply(this,arguments)}catch(t){return B.e=t,B}}function o(e){return U=e,i}function s(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function u(e){return s(e)?new Error(y(e)):e}function c(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i}function l(e,t,n){if(!S.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function f(e,t,n){if(s(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return S.defineProperty(e,t,r),e}function h(e){throw e}function p(e){try{if("function"==typeof e){var t=S.names(e.prototype),n=S.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=R.test(e+"")&&S.names(e).length>0;if(n||r||i)return!0}return!1}catch(o){return!1}}function d(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e}function v(e){return F.test(e)}function g(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r}function y(e){try{return e+""}catch(t){return"[no string representation]"}}function m(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function b(e){try{f(e,"isOperational",!0)}catch(t){}}function _(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function w(e){return m(e)&&S.propertyIsWritable(e,"stack")}function E(e){return{}.toString.call(e)}function x(e,t,n){for(var r=S.names(e),i=0;i<r.length;++i){var o=r[i];if(n(o))try{S.defineProperty(t,o,S.getDescriptor(e,o))}catch(s){}}}function k(e){return D?{NODE_ENV:"production"}[e]:void 0}function I(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(t){}}function C(e,t){return e.bind(t)}var S=n(54),T="undefined"==typeof navigator,B={e:{}},U,O="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof t?t:void 0!==this?this:null,j=function(e,t){function n(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)r.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var r={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},A=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(S.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(s){return r}for(var a=0;a<o.length;++a){var u=o[a];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(e,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}e=S.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var s=0;s<e.length;++s)if(r.call(e[s],o))continue e;i.push(o)}return i}}(),R=/this\s*\.\s*\S+\s*=/,F=/^[a-z$_][a-z$_0-9]*$/i,P=function(){return"stack"in new Error?function(e){return w(e)?e:new Error(y(e))}:function(e){if(w(e))return e;try{throw new Error(y(e))}catch(t){return t}}}(),L=function(e){return S.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var M="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};L=function(e){return S.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?M(e):null}}var N="undefined"!=typeof r&&"[object process]"===E(r).toLowerCase(),D="undefined"!=typeof r&&!0,q={isClass:p,isIdentifier:v,inheritedDataKeys:A,getDataPropertyOrDefault:l,thrower:h,isArray:S.isArray,asArray:L,notEnumerableProp:f,isPrimitive:s,isObject:a,isError:m,canEvaluate:T,errorObj:B,tryCatch:o,inherits:j,withAppended:c,maybeWrapAsError:u,toFastProperties:d,filledRange:g,toString:y,canAttachTrace:w,ensureErrorObject:P,originatesFromRejection:_,markAsOriginatingFromRejection:b,classString:E,copyDescriptors:x,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:N,hasEnvVariables:D,env:k,global:O,getNativePromise:I,domainBind:C};q.isRecentNode=q.isNode&&function(){var e=r.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),q.isNode&&q.toFastProperties(r);try{throw new Error}catch(z){q.lastLineError=z}e.exports=q}).call(t,function(){return this}(),n(52))},function(e,t){var n=function(){"use strict";return void 0===this}();if(n)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,i={}.toString,o={}.constructor.prototype,s=function(e){var t=[];for(var n in e)r.call(e,n)&&t.push(n);return t},a=function(e,t){return{value:e[t]}},u=function(e,t,n){return e[t]=n.value,e},c=function(e){return e},l=function(e){try{return Object(e).constructor.prototype}catch(t){return o}},f=function(e){try{return"[object Array]"===i.call(e)}catch(t){return!1}};e.exports={isArray:f,keys:s,names:s,defineProperty:u,getDescriptor:a,freeze:c,getPrototypeOf:l,isES5:n,propertyIsWritable:function(){return!0}}}},function(e,t,n){(function(t){"use strict";function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=c}function i(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function o(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function s(e){this._normalQueue._pushOne(e),this._queueTick()}var a;try{throw new Error}catch(u){a=u}var c=n(56),l=n(58),f=n(53);r.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(e,n){n?(t.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),t.exit(2)):this.throwLater(e)},r.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},f.hasDevTools?(r.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?i.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},r.prototype.invoke=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},r.prototype.settlePromises=function(e){this._trampolineEnabled?s.call(this,e):this._schedule(function(){e._settlePromises()})}):(r.prototype.invokeLater=i,r.prototype.invoke=o,r.prototype.settlePromises=s),r.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},e.exports=r,e.exports.firstLineError=a}).call(t,n(52))},function(e,t,n){(function(t,r,i){"use strict";var o,s=n(53),a=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},u=s.getNativePromise();if(s.isNode&&"undefined"==typeof MutationObserver){var c=t.setImmediate,l=r.nextTick;o=s.isRecentNode?function(e){c.call(t,e)}:function(e){l.call(r,e)}}else if("function"==typeof u&&"function"==typeof u.resolve){var f=u.resolve();o=function(e){f.then(e)}}else o="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof i?function(e){i(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:a:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){e.classList.toggle("foo"),n=!1});i.observe(r,t);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(e,t),o()}}();e.exports=o}).call(t,function(){return this}(),n(52),n(57).setImmediate)},function(e,t,n){(function(e,r){function i(e,t){this._id=e,this._clearFn=t}var o=n(52).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,u={},c=0;t.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=c++,r=!(arguments.length<2)&&a.call(arguments,1);return u[n]=!0,o(function(){u[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete u[e]}}).call(t,n(57).setImmediate,n(57).clearImmediate)},function(e,t){"use strict";function n(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t],e[o+t]=void 0}function r(e){this._capacity=e,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(e){return this._capacity<e},r.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},r.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var r=this._front,i=this._length,o=r+i&t-1;n(this,0,this,t,o)},e.exports=r},function(e,t,n){"use strict";function r(e,t){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:t),f(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(e){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(f(this,"message",e.message),f(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(e)}var o,s,a=n(54),u=a.freeze,c=n(53),l=c.inherits,f=c.notEnumerableProp,h=r("Warning","warning"),p=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(g){o=r("TypeError","type error"),s=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<y.length;++m)"function"==typeof Array.prototype[y[m]]&&(v.prototype[y[m]]=Array.prototype[y[m]]);a.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var b=0;v.prototype.toString=function(){var e=Array(4*b+1).join(" "),t="\n"+e+"AggregateError of:\n";b++,e=Array(4*b+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];r=i.join("\n"),t+=r+"\n"}return b--,t},l(i,Error);var _=Error.__BluebirdErrorTypes__;_||(_=u({CancellationError:p,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:v}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:_,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:h}},function(e,t,n){"use strict";e.exports=function(e,t){function r(n,r){if(l(n)){if(n instanceof e)return n;var i=o(n);if(i===c){r&&r._pushContext();var u=e.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(s(n)){var u=new e(t);return n._then(u._fulfill,u._reject,void 0,u,null),u}return a(n,i,r)}}return n}function i(e){return e.then}function o(e){try{return i(e)}catch(t){return c.e=t,c}}function s(e){try{return f.call(e,"_promise0")}catch(t){return!1}}function a(n,r,i){function o(e){a&&(a._resolveCallback(e),a=null)}function s(e){a&&(a._rejectCallback(e,f,!0),a=null)}var a=new e(t),l=a;i&&i._pushContext(),a._captureStackTrace(),i&&i._popContext();var f=!0,h=u.tryCatch(r).call(n,o,s);return f=!1,a&&h===c&&(a._rejectCallback(h.e,!0,!0),a=null),l}var u=n(53),c=u.errorObj,l=u.isObject,f={}.hasOwnProperty;return r}},function(e,t,n){"use strict";e.exports=function(e,t,r,i,o){function s(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function a(n){var r=this._promise=new e(t);n instanceof e&&r._propagateFrom(n,3),r._setOnCancel(this),this._values=n,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=n(53);u.isArray;return u.inherits(a,o),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function c(t,n){var o=r(this._values,this._promise);if(o instanceof e){o=o._target();var a=o._bitField;if(this._values=o,0===(50397184&a))return this._promise._setAsyncGuaranteed(),o._then(c,this._reject,void 0,this,n);if(0===(33554432&a))return 0!==(16777216&a)?this._reject(o._reason()):this._cancel();o=o._value()}if(o=u.asArray(o),null===o){var l=i("expecting an array or an iterable object but got "+u.classString(o)).reason();return void this._promise._rejectCallback(l,!1)}return 0===o.length?void(n===-5?this._resolveEmptyArray():this._resolve(s(n))):void this._iterate(o)},a.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,s=null,a=0;a<n;++a){var u=r(t[a],i);u instanceof e?(u=u._target(),s=u._bitField):s=null,o?null!==s&&u.suppressUnhandledRejections():null!==s?0===(50397184&s)?(u._proxy(this,a),this._values[a]=u):o=0!==(33554432&s)?this._promiseFulfilled(u._value(),a):0!==(16777216&s)?this._promiseRejected(u._reason(),a):this._promiseCancelled(a):o=this._promiseFulfilled(u,a)}o||i._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},a.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(e){return e},a}},function(e,t){"use strict";e.exports=function(e){function t(){this._trace=new t.CapturedTrace(r())}function n(){if(i)return new t}function r(){var e=o.length-1;if(e>=0)return o[e]}var i=!1,o=[];return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var e=o.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=n,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,s=e._peekContext,a=e.prototype._peekContext,u=e.prototype._promiseCreated;t.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=s,e.prototype._peekContext=a,e.prototype._promiseCreated=u,i=!1},i=!0,e.prototype._pushContext=t.prototype._pushContext,e.prototype._popContext=t.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},function(e,t,n){(function(t){"use strict";e.exports=function(e,r){function i(e,t){return{promise:t}}function o(){return!1}function s(e,t,n){var r=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+N.toString(e));r._attachCancellationCallback(e)})}catch(i){return i}}function a(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?N.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function u(){return this._onCancelField}function c(e){this._onCancelField=e}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(e,t){if(0!==(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function h(e,t){0!==(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}function p(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function d(){this._trace=new j(this._peekContext())}function v(e,t){if(D(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=k(e);N.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),N.notEnumerableProp(e,"__stackCleaned__",!0)}}}function g(e,t,n,r,i){if(void 0===e&&null!==t&&$){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",s="";if(t._trace){for(var a=t._trace.stack.split("\n"),u=E(a),c=u.length-1;c>=0;--c){var l=u[c];if(!z.test(l)){var f=l.match(H);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(u.length>0)for(var h=u[0],c=0;c<a.length;++c)if(a[c]===h){c>0&&(s="\n"+a[c-1]);break}}var p="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+s;r._warn(p,!0,t)}}function y(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),m(n)}function m(t,n,r){if(se.warnings){
var i,o=new M(t);if(n)r._attachExtraTrace(o);else if(se.longStackTraces&&(i=e._peekContext()))i.attachExtraTrace(o);else{var s=k(o);o.stack=s.message+"\n"+s.stack.join("\n")}te("warning",o)||I(o,"",!0)}}function b(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function _(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function w(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],s=-1,a=r.length-1;a>=0;--a)if(r[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=r[a];if(t[i]!==u)break;t.pop(),i--}t=r}}function E(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||Q.test(r),o=i&&re(r);i&&!o&&(K&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function x(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||Q.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}function k(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?x(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:E(t)}}function I(e,t,n){if("undefined"!=typeof console){var r;if(N.isObject(e)){var i=e.stack;r=t+W(i,e)}else r=t+String(e);"function"==typeof F?F(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function C(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(o){L.throwLater(o)}"unhandledRejection"===e?te(e,n,r)||i||I(n,"Unhandled rejection "):te(e,r)}function S(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():N.toString(e);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t))try{var r=JSON.stringify(e);t=r}catch(i){}0===t.length&&(t="(empty array)")}return"(<"+T(t)+">, no stack trace)"}function T(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function B(){return"function"==typeof oe}function U(e){var t=e.match(ie);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function O(e,t){if(B()){for(var n,r,i=e.stack.split("\n"),o=t.stack.split("\n"),s=-1,a=-1,u=0;u<i.length;++u){var c=U(i[u]);if(c){n=c.fileName,s=c.line;break}}for(var u=0;u<o.length;++u){var c=U(o[u]);if(c){r=c.fileName,a=c.line;break}}s<0||a<0||!n||!r||n!==r||s>=a||(re=function(e){if(q.test(e))return!0;var t=U(e);return!!(t&&t.fileName===n&&s<=t.line&&t.line<=a)})}}function j(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);oe(this,j),t>32&&this.uncycle()}var A,R,F,P=e._getDomain,L=e._async,M=n(59).Warning,N=n(53),D=N.canAttachTrace,q=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,z=/\((?:timers\.js):\d+:\d+\)/,H=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,Q=null,W=null,K=!1,V=!(0==N.env("BLUEBIRD_DEBUG")||!N.env("BLUEBIRD_DEBUG")&&"development"!==N.env("NODE_ENV")),G=!(0==N.env("BLUEBIRD_WARNINGS")||!V&&!N.env("BLUEBIRD_WARNINGS")),Y=!(0==N.env("BLUEBIRD_LONG_STACK_TRACES")||!V&&!N.env("BLUEBIRD_LONG_STACK_TRACES")),$=0!=N.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(G||!!N.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=e._bitField&-1048577|524288},e.prototype._ensurePossibleRejectionHandled=function(){if(0===(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},e.prototype._notifyUnhandledRejectionIsHandled=function(){C("rejectionHandled",A,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),C("unhandledRejection",R,e,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(e,t,n){return m(e,t,n||this)},e.onPossiblyUnhandledRejection=function(e){var t=P();R="function"==typeof e?null===t?e:N.domainBind(t,e):void 0},e.onUnhandledRejectionHandled=function(e){var t=P();A="function"==typeof e?null===t?e:N.domainBind(t,e):void 0};var X=function(){};e.longStackTraces=function(){if(L.haveItemsQueued()&&!se.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!se.longStackTraces&&B()){var t=e.prototype._captureStackTrace,n=e.prototype._attachExtraTrace;se.longStackTraces=!0,X=function(){if(L.haveItemsQueued()&&!se.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=t,e.prototype._attachExtraTrace=n,r.deactivateLongStackTraces(),L.enableTrampoline(),se.longStackTraces=!1},e.prototype._captureStackTrace=d,e.prototype._attachExtraTrace=v,r.activateLongStackTraces(),L.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return se.longStackTraces&&B()};var J=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return N.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!N.global.dispatchEvent(n)}}if("function"==typeof Event){var e=new Event("CustomEvent");return N.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!N.global.dispatchEvent(n)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),N.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!N.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),Z=function(){return N.isNode?function(){return t.emit.apply(t,arguments)}:N.global?function(e){var t="on"+e.toLowerCase(),n=N.global[t];return!!n&&(n.apply(N.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),ee={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:i},te=function(e){var t=!1;try{t=Z.apply(null,arguments)}catch(n){L.throwLater(n),t=!0}var r=!1;try{r=J(e,ee[e].apply(null,arguments))}catch(n){L.throwLater(n),r=!0}return r||t};e.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&X()),"warnings"in t){var n=t.warnings;se.warnings=!!n,$=se.warnings,N.isObject(n)&&"wForgottenReturn"in n&&($=!!n.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!se.cancellation){if(L.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=l,e.prototype._propagateFrom=f,e.prototype._onCancel=u,e.prototype._setOnCancel=c,e.prototype._attachCancellationCallback=a,e.prototype._execute=s,ne=f,se.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!se.monitoring?(se.monitoring=!0,e.prototype._fireEvent=te):!t.monitoring&&se.monitoring&&(se.monitoring=!1,e.prototype._fireEvent=o)),e},e.prototype._fireEvent=o,e.prototype._execute=function(e,t,n){try{e(t,n)}catch(r){return r}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(e){},e.prototype._attachCancellationCallback=function(e){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(e,t){};var ne=h,re=function(){return!1},ie=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;N.inherits(j,Error),r.CapturedTrace=j,j.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;e=this._length=r;for(var r=e-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<e;++r){var s=t[r].stack,a=n[s];if(void 0!==a&&a!==r){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var u=r>0?t[r-1]:this;a<e-1?(u._parent=t[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)t[l]._length=c,c++;return}}}},j.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=k(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(E(i.stack.split("\n"))),i=i._parent;w(r),_(r),N.notEnumerableProp(e,"stack",b(n,r)),N.notEnumerableProp(e,"__stackCleaned__",!0)}};var oe=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():S(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,Q=e,W=t;var n=Error.captureStackTrace;return re=function(e){return q.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return Q=/@/,W=t,K=!0,function(e){e.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(W=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?S(t):t.toString()},null):(Q=e,W=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(F=function(e){console.warn(e)},N.isNode&&t.stderr.isTTY?F=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:N.isNode||"string"!=typeof(new Error).stack||(F=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var se={warnings:G,longStackTraces:!1,cancellation:!1,monitoring:!1};return Y&&e.longStackTraces(),{longStackTraces:function(){return se.longStackTraces},warnings:function(){return se.warnings},cancellation:function(){return se.cancellation},monitoring:function(){return se.monitoring},propagateFromFunction:function(){return ne},boundValueFunction:function(){return p},checkForgottenReturns:g,setBounds:O,warn:m,deprecated:y,CapturedTrace:j,fireDomEvent:J,fireGlobalEvent:Z}}}).call(t,n(52))},function(e,t,n){"use strict";e.exports=function(e,t,r){function i(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function o(e){this.finallyHandler=e}function s(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function a(){return c.call(this,this.promise._target()._settledValue())}function u(e){if(!s(this,e))return h.e=e,h}function c(n){var i=this.promise,c=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?c.call(i._boundValue()):c.call(i._boundValue(),n);if(l===r)return l;if(void 0!==l){i._setReturnedNonUndefined();var p=t(l,i);if(p instanceof e){if(null!=this.cancelPromise){if(p._isCancelled()){var d=new f("late cancellation observer");return i._attachExtraTrace(d),h.e=d,h}p.isPending()&&p._attachCancellationCallback(new o(this))}return p._then(a,u,void 0,this,void 0)}}}return i.isRejected()?(s(this),h.e=n,h):(s(this),n)}var l=n(53),f=e.CancellationError,h=l.errorObj,p=n(65)(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){s(this.finallyHandler)},e.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new i(this,t,e),void 0)},e.prototype.lastly=e.prototype["finally"]=function(e){return this._passThrough(e,0,c,c)},e.prototype.tap=function(e){return this._passThrough(e,1,c)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,c);var r,i=new Array(n-1),o=0;for(r=0;r<n-1;++r){var s=arguments[r];if(!l.isObject(s))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+l.classString(s)));i[o++]=s}i.length=o;var a=arguments[r];return this._passThrough(p(i,a,this),1,void 0,c)},i}},function(e,t,n){"use strict";e.exports=function(e){function t(t,n,a){return function(u){var c=a._boundValue();e:for(var l=0;l<t.length;++l){var f=t[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return o(n).call(c,u)}else if("function"==typeof f){var h=o(f).call(c,u);if(h===s)return h;if(h)return o(n).call(c,u)}else if(r.isObject(u)){for(var p=i(f),d=0;d<p.length;++d){var v=p[d];if(f[v]!=u[v])continue e}return o(n).call(c,u)}}return e}}var r=n(53),i=n(54).keys,o=r.tryCatch,s=r.errorObj;return t}},function(e,t,n){"use strict";function r(e){return e instanceof Error&&l.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(r(e)){t=new c(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=l.keys(e),i=0;i<n.length;++i){var o=n[i];f.test(o)||(t[o]=e[o])}return t}return s.markAsOriginatingFromRejection(e),e}function o(e,t){return function(n,r){if(null!==e){if(n){var o=i(a(n));e._attachExtraTrace(o),e._reject(o)}else if(t){for(var s=arguments.length,u=new Array(Math.max(s-1,0)),c=1;c<s;++c)u[c-1]=arguments[c];e._fulfill(u)}else e._fulfill(r);e=null}}}var s=n(53),a=s.maybeWrapAsError,u=n(59),c=u.OperationalError,l=n(54),f=/^(?:name|message|stack|cause)$/;e.exports=o},function(e,t,n){"use strict";e.exports=function(e,t,r,i,o){var s=n(53),a=s.tryCatch;e.method=function(n){if("function"!=typeof n)throw new e.TypeError("expecting a function but got "+s.classString(n));return function(){var r=new e(t);r._captureStackTrace(),r._pushContext();var i=a(n).apply(this,arguments),s=r._popContext();return o.checkForgottenReturns(i,s,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(n){if("function"!=typeof n)return i("expecting a function but got "+s.classString(n));var r=new e(t);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=s.isArray(c)?a(n).apply(l,c):a(n).call(l,c)}else u=a(n)();var f=r._popContext();return o.checkForgottenReturns(u,f,"Promise.try",r),r._resolveFromSyncValue(u),r},e.prototype._resolveFromSyncValue=function(e){e===s.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},function(e,t){"use strict";e.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},s=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},a=function(e,t){0===(50397184&this._bitField)&&this._resolveCallback(t.target)},u=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new e(t);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof e){var h={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(t,s,void 0,l,h),c._then(a,u,void 0,l,h),l._setOnCancel(c)}else l._resolveCallback(f);return l},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=this._bitField&-2097153},e.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i){var o=n(53),s=o.tryCatch,a=o.errorObj,u=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=s(e).call(this._boundValue());r===a&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else e._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,e)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},function(e,t){"use strict";e.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype["return"]=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype["throw"]=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],r=function(){throw t};return this.caught(e,r)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},function(e,t){"use strict";e.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},s=t.prototype.isPending=function(){return 0===(50397184&this._bitField)},a=t.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},e.prototype.isPending=function(){return s.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return a.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},function(e,t,n){"use strict";e.exports=function(e,t,r,i,o,s){var a,u=n(53),c=u.canEvaluate,l=u.tryCatch,f=u.errorObj;if(c){for(var h=function(e){return new Function("value","holder","                             \n\t            'use strict';                                                    \n\t            holder.pIndex = value;                                           \n\t            holder.checkFulfillment(this);                                   \n\t            ".replace(/Index/g,e))},p=function(e){return new Function("promise","holder","                           \n\t            'use strict';                                                    \n\t            holder.pIndex = promise;                                         \n\t            ".replace(/Index/g,e))},d=function(t){for(var n=new Array(t),r=0;r<n.length;++r)n[r]="this.p"+(r+1);var i=n.join(" = ")+" = null;",s="var promise;\n"+n.map(function(e){return"                                                         \n\t                promise = "+e+";                                      \n\t                if (promise instanceof Promise) {                            \n\t                    promise.cancel();                                        \n\t                }                                                            \n\t            "}).join("\n"),a=n.join(", "),u="Holder$"+t,c="return function(tryCatch, errorObj, Promise, async) {    \n\t            'use strict';                                                    \n\t            function [TheName](fn) {                                         \n\t                [TheProperties]                                              \n\t                this.fn = fn;                                                \n\t                this.asyncNeeded = true;                                     \n\t                this.now = 0;                                                \n\t            }                                                                \n\t                                                                             \n\t            [TheName].prototype._callFunction = function(promise) {          \n\t                promise._pushContext();                                      \n\t                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n\t                promise._popContext();                                       \n\t                if (ret === errorObj) {                                      \n\t                    promise._rejectCallback(ret.e, false);                   \n\t                } else {                                                     \n\t                    promise._resolveCallback(ret);                           \n\t                }                                                            \n\t            };                                                               \n\t                                                                             \n\t            [TheName].prototype.checkFulfillment = function(promise) {       \n\t                var now = ++this.now;                                        \n\t                if (now === [TheTotal]) {                                    \n\t                    if (this.asyncNeeded) {                                  \n\t                        async.invoke(this._callFunction, this, promise);     \n\t                    } else {                                                 \n\t                        this._callFunction(promise);                         \n\t                    }                                                        \n\t                                                                             \n\t                }                                                            \n\t            };                                                               \n\t                                                                             \n\t            [TheName].prototype._resultCancelled = function() {              \n\t                [CancellationCode]                                           \n\t            };                                                               \n\t                                                                             \n\t            return [TheName];                                                \n\t        }(tryCatch, errorObj, Promise, async);                               \n\t        ";return c=c.replace(/\[TheName\]/g,u).replace(/\[TheTotal\]/g,t).replace(/\[ThePassedArguments\]/g,a).replace(/\[TheProperties\]/g,i).replace(/\[CancellationCode\]/g,s),new Function("tryCatch","errorObj","Promise","async",c)(l,f,e,o)},v=[],g=[],y=[],m=0;m<8;++m)v.push(d(m+1)),g.push(h(m+1)),y.push(p(m+1));a=function(e){this._reject(e)}}e.join=function(){var n,o=arguments.length-1;if(o>0&&"function"==typeof arguments[o]&&(n=arguments[o],o<=8&&c)){var l=new e(i);l._captureStackTrace();for(var f=v[o-1],h=new f(n),p=g,d=0;d<o;++d){var m=r(arguments[d],l);if(m instanceof e){m=m._target();var b=m._bitField;0===(50397184&b)?(m._then(p[d],a,void 0,l,h),y[d](m,h),h.asyncNeeded=!1):0!==(33554432&b)?p[d].call(l,m._value(),h):0!==(16777216&b)?l._reject(m._reason()):l._cancel()}else p[d].call(l,m,h)}if(!l._isFateSealed()){if(h.asyncNeeded){var _=s();null!==_&&(h.fn=u.domainBind(_,h.fn))}l._setAsyncGuaranteed(),l._setOnCancel(h)}return l}for(var w=arguments.length,E=new Array(w),x=0;x<w;++x)E[x]=arguments[x];n&&E.pop();var l=new t(E).promise();return void 0!==n?l.spread(n):l}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i,o,s){function a(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=c();this._callback=null===i?t:l.domainBind(i,t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0)}function u(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var s=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));s=i.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new a(t,n,s,o).promise()}var c=e._getDomain,l=n(53),f=l.tryCatch,h=l.errorObj,p=e._async;l.inherits(a,t),a.prototype._asyncInit=function(){this._init$(void 0,-2)},a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,u=this._limit;if(n<0){if(n=n*-1-1,r[n]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==a&&(a[n]=t);var c=this._promise,l=this._callback,p=c._boundValue();c._pushContext();var d=f(l).call(p,t,n,o),v=c._popContext();if(s.checkForgottenReturns(d,v,null!==a?"Promise.filter":"Promise.map",c),d===h)return this._reject(d.e),!0;var g=i(d,this._promise);if(g instanceof e){g=g._target();var y=g._bitField;if(0===(50397184&y))return u>=1&&this._inFlight++,r[n]=g,g._proxy(this,(n+1)*-1),!1;if(0===(33554432&y))return 0!==(16777216&y)?(this._reject(g._reason()),!0):(this._cancel(),!0);d=g._value()}r[n]=d}var m=++this._totalResolved;return m>=o&&(null!==a?this._filter(r,a):this._resolve(r),!0)},a.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},a.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},a.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(e,t){return u(this,e,t,null)},e.map=function(e,t,n,r){return u(e,t,n,r)}}},function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){function t(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+l.classString(t)+" has no method '"+l.toString(n)+"'";throw new e.TypeError(i)}return r}function r(e){var n=this.pop(),r=t(e,n);return r.apply(e,this)}function s(e){return e[this]}function a(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}var u,c,l=n(53),f=l.canEvaluate,h=l.isIdentifier,p=function(e){return new Function("ensureMethod","                                    \n\t        return function(obj) {                                               \n\t            'use strict'                                                     \n\t            var len = this.length;                                           \n\t            ensureMethod(obj, 'methodName');                                 \n\t            switch(len) {                                                    \n\t                case 1: return obj.methodName(this[0]);                      \n\t                case 2: return obj.methodName(this[0], this[1]);             \n\t                case 3: return obj.methodName(this[0], this[1], this[2]);    \n\t                case 0: return obj.methodName();                             \n\t                default:                                                     \n\t                    return obj.methodName.apply(obj, this);                  \n\t            }                                                                \n\t        };                                                                   \n\t        ".replace(/methodName/g,e))(t)},d=function(e){return new Function("obj","                                             \n\t        'use strict';                                                        \n\t        return obj.propertyName;                                             \n\t        ".replace("propertyName",e))},v=function(e,t,n){var r=n[e];if("function"!=typeof r){if(!h(e))return null;if(r=t(e),n[e]=r,n[" size"]++,n[" size"]>512){for(var i=Object.keys(n),o=0;o<256;++o)delete n[i[o]];n[" size"]=i.length-256}}return r};u=function(e){return v(e,p,i)},c=function(e){return v(e,d,o)},e.prototype.call=function(e){for(var t=arguments.length,n=new Array(Math.max(t-1,0)),i=1;i<t;++i)n[i-1]=arguments[i];if(f){var o=u(e);if(null!==o)return this._then(o,void 0,void 0,n,void 0)}return n.push(e),this._then(r,void 0,void 0,n,void 0)},e.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=a;else if(f){var r=c(e);t=null!==r?r:s}else t=s;return this._then(t,void 0,void 0,e,void 0)}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i,o,s){function a(e){setTimeout(function(){throw e},0)}function u(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function c(t,n){function i(){if(s>=c)return l._fulfill();var o=u(t[s++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(f){return a(f)}if(o instanceof e)return o._then(i,a,null,null,null)}i()}var s=0,c=t.length,l=new e(o);
return i(),l}function l(e,t,n){this._data=e,this._promise=t,this._context=n}function f(e,t,n){this.constructor$(e,t,n)}function h(e){return l.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function p(e){this.length=e,this.promise=null,this[e-1]=null}var d=n(53),v=n(59).TypeError,g=n(53).inherits,y=d.errorObj,m=d.tryCatch,b={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():b},l.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==b?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},g(f,l),f.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},p.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var n=arguments.length;if(n<2)return t("you must pass at least 2 arguments to Promise.using");var i=arguments[n-1];if("function"!=typeof i)return t("expecting a function but got "+d.classString(i));var o,a=!0;2===n&&Array.isArray(arguments[0])?(o=arguments[0],n=o.length,a=!1):(o=arguments,n--);for(var u=new p(n),f=0;f<n;++f){var v=o[f];if(l.isDisposer(v)){var g=v;v=v.promise(),v._setDisposable(g)}else{var b=r(v);b instanceof e&&(v=b._then(h,null,null,{resources:u,index:f},void 0))}u[f]=v}for(var _=new Array(u.length),f=0;f<_.length;++f)_[f]=e.resolve(u[f]).reflect();var w=e.all(_).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return y.e=n.error(),y;if(!n.isFulfilled())return void w.cancel();e[t]=n.value()}E._pushContext(),i=m(i);var r=a?i.apply(void 0,e):i(e),o=E._popContext();return s.checkForgottenReturns(r,o,"Promise.using",E),r}),E=w.lastly(function(){var t=new e.PromiseInspection(w);return c(u,t)});return u.promise=E,E._setOnCancel(u),E},e.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},e.prototype.disposer=function(e){if("function"==typeof e)return new f(e,this,i());throw new v}}},function(e,t,n){"use strict";e.exports=function(e,t,r){function i(e){this.handle=e}function o(e){return clearTimeout(this.handle),e}function s(e){throw clearTimeout(this.handle),e}var a=n(53),u=e.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(e){return l(+this).thenReturn(e)},l=e.delay=function(n,o){var s,a;return void 0!==o?(s=e.resolve(o)._then(c,null,null,n,void 0),r.cancellation()&&o instanceof e&&s._setOnCancel(o)):(s=new e(t),a=setTimeout(function(){s._fulfill()},+n),r.cancellation()&&s._setOnCancel(new i(a)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(e){return l(e,this)};var f=function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new u("operation timed out"):new u(t),a.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()};e.prototype.timeout=function(e,t){e=+e;var n,a,u=new i(setTimeout(function(){n.isPending()&&f(n,t,a)},e));return r.cancellation()?(a=this.then(),n=a._then(o,s,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,s,void 0,u,void 0),n}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i,o,s){function a(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var s=p(n[o])(t);if(r._popContext(),s===h){r._pushContext();var a=e.reject(h.e);return r._popContext(),a}var u=i(s,r);if(u instanceof e)return u}return null}function u(t,n,i,o){if(s.cancellation()){var a=new e(r),u=this._finallyPromise=new e(r);this._promise=a.lastly(function(){return u}),a._captureStackTrace(),a._setOnCancel(this)}else{var c=this._promise=new e(r);c._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var c=n(59),l=c.TypeError,f=n(53),h=f.errorObj,p=f.tryCatch,d=[];f.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!=typeof this._generator["return"];if(n)this._promise._pushContext(),t=p(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=p(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},u.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=p(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},u.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=p(this._generator["throw"]).call(this._generator,e);this._promise._popContext(),this._continue(t)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(t){var n=this._promise;if(t===h)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(t.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof e)&&(o=a(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var s=o._bitField;0===(50397184&s)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&s)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&s)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},e.coroutine=function(e,t){if("function"!=typeof e)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=u,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r((void 0),(void 0),n,i),s=o.promise();return o._generator=t,o._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new l("expecting a function but got "+f.classString(e));d.push(e)},e.spawn=function(n){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof n)return t("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new u(n,this),i=r.promise();return r._run(e.spawn),i}}},function(e,t,n){"use strict";e.exports=function(e){function t(e,t){var n=this;if(!o.isArray(e))return r.call(n,e,t);var i=a(t).apply(n._boundValue(),[null].concat(e));i===u&&s.throwLater(i.e)}function r(e,t){var n=this,r=n._boundValue(),i=void 0===e?a(t).call(r,null):a(t).call(r,null,e);i===u&&s.throwLater(i.e)}function i(e,t){var n=this;if(!e){var r=new Error(e+"");r.cause=e,e=r}var i=a(t).call(n._boundValue(),e);i===u&&s.throwLater(i.e)}var o=n(53),s=e._async,a=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(e,n){if("function"==typeof e){var o=r;void 0!==n&&Object(n).spread&&(o=t),this._then(o,i,void 0,this,e)}return this}}},function(e,t,n){"use strict";e.exports=function(e,t){function r(e){return!E.test(e)}function i(e){try{return e.__isPromisified__===!0}catch(t){return!1}}function o(e,t,n){var r=p.getDataPropertyOrDefault(e,t+n,_);return!!r&&i(r)}function s(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),s=0;s<e.length;s+=2)if(e[s]===o)throw new m("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}function a(e,t,n,r){for(var a=p.inheritedDataKeys(e),u=[],c=0;c<a.length;++c){var l=a[c],f=e[l],h=r===x||x(l,f,e);"function"!=typeof f||i(f)||o(e,l,t)||!r(l,f,e,h)||u.push(l,f)}return s(u,t,n),u}function u(n,r,i,o,s,a){function u(){var i=r;r===h&&(i=this);var o=new e(t);o._captureStackTrace();var s="string"==typeof l&&this!==c?this[l]:n,u=d(o,a);try{s.apply(i,v(arguments,u))}catch(f){o._rejectCallback(g(f),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),l=n;return"string"==typeof l&&(n=o),p.notEnumerableProp(u,"__isPromisified__",!0),u}function c(e,t,n,r,i){for(var o=new RegExp(k(t)+"$"),s=a(e,t,o,n),u=0,c=s.length;u<c;u+=2){var l=s[u],f=s[u+1],d=l+t;if(r===B)e[d]=B(l,h,l,f,t,i);else{var v=r(f,function(){return B(l,h,l,f,t,i)});p.notEnumerableProp(v,"__isPromisified__",!0),e[d]=v}}return p.toFastProperties(e),e}function l(e,t,n){return B(e,t,void 0,e,null,n)}var f,h={},p=n(53),d=n(66),v=p.withAppended,g=p.maybeWrapAsError,y=p.canEvaluate,m=n(59).TypeError,b="Async",_={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],E=new RegExp("^(?:"+w.join("|")+")$"),x=function(e){return p.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},k=function(e){return e.replace(/([$])/,"\\$")},I=function(e){for(var t=[e],n=Math.max(0,e-1-3),r=e-1;r>=n;--r)t.push(r);for(var r=e+1;r<=3;++r)t.push(r);return t},C=function(e){return p.filledRange(e,"_arg","")},S=function(e){return p.filledRange(Math.max(e,3),"_arg","")},T=function(e){return"number"==typeof e.length?Math.max(Math.min(e.length,1024),0):0};f=function(n,r,i,o,s,a){function u(e){var t,n=C(e).join(", "),i=e>0?", ":"";return t=y?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===r?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n",t.replace("{{args}}",n).replace(", ",i)}function c(){for(var e="",t=0;t<f.length;++t)e+="case "+f[t]+":"+u(f[t]);return e+="                                                             \n\t        default:                                                             \n\t            var args = new Array(len + 1);                                   \n\t            var i = 0;                                                       \n\t            for (var i = 0; i < len; ++i) {                                  \n\t               args[i] = arguments[i];                                       \n\t            }                                                                \n\t            args[i] = nodeback;                                              \n\t            [CodeForCall]                                                    \n\t            break;                                                           \n\t        ".replace("[CodeForCall]",y?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n")}var l=Math.max(0,T(o)-1),f=I(l),y="string"==typeof n||r===h,m="string"==typeof n?"this != null ? this['"+n+"'] : fn":"fn",b="'use strict';                                                \n\t        var ret = function (Parameters) {                                    \n\t            'use strict';                                                    \n\t            var len = arguments.length;                                      \n\t            var promise = new Promise(INTERNAL);                             \n\t            promise._captureStackTrace();                                    \n\t            var nodeback = nodebackForPromise(promise, "+a+");   \n\t            var ret;                                                         \n\t            var callback = tryCatch([GetFunctionCode]);                      \n\t            switch(len) {                                                    \n\t                [CodeForSwitchCase]                                          \n\t            }                                                                \n\t            if (ret === errorObj) {                                          \n\t                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n\t            }                                                                \n\t            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n\t            return promise;                                                  \n\t        };                                                                   \n\t        notEnumerableProp(ret, '__isPromisified__', true);                   \n\t        return ret;                                                          \n\t    ".replace("[CodeForSwitchCase]",c()).replace("[GetFunctionCode]",m);return b=b.replace("Parameters",S(l)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",b)(e,o,r,v,g,d,p.tryCatch,p.errorObj,p.notEnumerableProp,t)};var B=y?f:u;e.promisify=function(e,t){if("function"!=typeof e)throw new m("expecting a function but got "+p.classString(e));if(i(e))return e;t=Object(t);var n=void 0===t.context?h:t.context,o=!!t.multiArgs,s=l(e,n,o);return p.copyDescriptors(e,s,r),s},e.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new m("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var n=!!t.multiArgs,r=t.suffix;"string"!=typeof r&&(r=b);var i=t.filter;"function"!=typeof i&&(i=x);var o=t.promisifier;if("function"!=typeof o&&(o=B),!p.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=p.inheritedDataKeys(e),a=0;a<s.length;++a){var u=e[s[a]];"constructor"!==s[a]&&p.isClass(u)&&(c(u.prototype,r,i,o,n),c(u,r,i,o,n))}return c(e,r,i,o,n)}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i){function o(e){var t,n=!1;if(void 0!==a&&e instanceof a)t=f(e),n=!0;else{var r=l.keys(e),i=r.length;t=new Array(2*i);for(var o=0;o<i;++o){var s=r[o];t[o]=e[s],t[o+i]=s}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function s(t){var n,s=r(t);return c(s)?(n=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&n._propagateFrom(s,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var a,u=n(53),c=u.isObject,l=n(54);"function"==typeof Map&&(a=Map);var f=function(){function e(e,r){this[t]=e,this[t+n]=r,t++}var t=0,n=0;return function(r){n=r.size,t=0;var i=new Array(2*r.size);return r.forEach(e,i),i}}(),h=function(e){for(var t=new a,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],o=e[r];t.set(i,o)}return t};u.inherits(o,t),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=h(this._values);else{r={};for(var i=this.length(),o=0,s=this.length();o<s;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},e.prototype.props=function(){return s(this)},e.props=function(e){return s(e)}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i){function o(n,o){var u=r(n);if(u instanceof e)return a(u);if(n=s.asArray(n),null===n)return i("expecting an array or an iterable object but got "+s.classString(n));var c=new e(t);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,f=c._reject,h=0,p=n.length;h<p;++h){var d=n[h];(void 0!==d||h in n)&&e.cast(d)._then(l,f,void 0,c,null)}return c}var s=n(53),a=function(e){return e.then(function(t){return o(t,e)})};e.race=function(e){return o(e,void 0)},e.prototype.race=function(){return o(this,void 0)}}},function(e,t,n){"use strict";e.exports=function(e,t,r,i,o,s){function a(t,n,r,i){this.constructor$(t);var s=h();this._fn=null===s?n:p.domainBind(s,n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function c(e,t,n,i){if("function"!=typeof t)return r("expecting a function but got "+p.classString(t));var o=new a(e,t,n,i);return o.promise()}function l(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(t){var n=this.array,r=n._promise,i=d(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),t,this.index,this.length):i.call(r._boundValue(),this.accum,t,this.index,this.length),o instanceof e&&(n._currentCancellable=o);var a=r._popContext();return s.checkForgottenReturns(o,a,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var h=e._getDomain,p=n(53),d=p.tryCatch;p.inherits(a,t),a.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},a.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},a.prototype.shouldCopyValues=function(){return!1},a.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},a.prototype._resultCancelled=function(t){return t===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel()))},a.prototype._iterate=function(t){this._values=t;var n,r,i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},e.prototype.reduce=function(e,t){return c(this,e,t,null)},e.reduce=function(e,t,n,r){return c(e,t,n,r)}}},function(e,t,n){"use strict";e.exports=function(e,t,r){function i(e){this.constructor$(e)}var o=e.PromiseInspection,s=n(53);s.inherits(i,t),i.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(e,t){var n=new o;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},i.prototype._promiseRejected=function(e,t){var n=new o;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},e.settle=function(e){return r.deprecated(".settle()",".reflect()"),new i(e).promise()},e.prototype.settle=function(){return e.settle(this)}}},function(e,t,n){"use strict";e.exports=function(e,t,r){function i(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(e),o=n.promise();return n.setHowMany(t),n.init(),o}var s=n(53),a=n(59).RangeError,u=n(59).AggregateError,c=s.isArray,l={};s.inherits(i,t),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=c(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(e){this._howMany=e},i.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new u,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(e){this._values.push(e)},i.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new a(t)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(e,t){return o(e,t)},e.prototype.some=function(e){return o(this,e)},e._SomePromiseArray=i}},function(e,t){"use strict";e.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},function(e,t){"use strict";e.exports=function(e,t){function n(){return o(this)}function r(e,n){return i(e,n,t,t)}var i=e.reduce,o=e.all;e.prototype.each=function(e){return i(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return i(this,e,t,t)},e.each=function(e,r){return i(e,r,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=r}},function(e,t){"use strict";e.exports=function(e){function t(e){var t=new n(e),r=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),r}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(e){function t(e,t,n,r){var i=k.resolve(e);return arguments.length<2?i:i.then(t,n,r)}function r(e){return new k(e)}function i(e){return function(){for(var t=0,n=arguments.length,r=new Array(n);t<n;++t)r[t]=arguments[t];return I(e,this,r)}}function o(e){for(var t=0,n=arguments.length-1,r=new Array(n);t<n;++t)r[t]=arguments[t+1];return I(e,this,r)}function s(){return new a}function a(){function e(e){r._handler.resolve(e)}function t(e){r._handler.reject(e)}function n(e){r._handler.notify(e)}var r=k._defer();this.promise=r,this.resolve=e,this.reject=t,this.notify=n,this.resolver={resolve:e,reject:t,notify:n}}function u(e){return e&&"function"==typeof e.then}function c(){return k.all(arguments)}function l(e){return t(e,k.all)}function f(e){return t(e,k.settle)}function h(e,n){return t(e,function(e){return k.map(e,n)})}function p(e,n){return t(e,function(e){return k.filter(e,n)})}var d=n(89),v=n(94),g=n(97),y=n(98),m=n(99),b=n(100),_=n(101),w=n(102),E=n(103),x=n(93),k=[v,g,y,b,_,m,w,d,E].reduce(function(e,t){return t(e)},n(105)),I=n(96)(k);return t.promise=r,t.resolve=k.resolve,t.reject=k.reject,t.lift=i,t["try"]=o,t.attempt=o,t.iterate=k.iterate,t.unfold=k.unfold,t.join=c,t.all=l,t.settle=f,t.any=i(k.any),t.some=i(k.some),t.race=i(k.race),t.map=h,t.filter=p,t.reduce=i(k.reduce),t.reduceRight=i(k.reduceRight),t.isPromiseLike=u,t.Promise=k,t.defer=s,t.TimeoutError=x,t}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(e){function t(e,t,n,i){return r.setTimer(function(){e(n,i,t)},t)}var r=n(90),i=n(93);return function(e){function n(e,n,r){t(o,e,n,r)}function o(e,t){t.resolve(e)}function s(e,t,n){var r="undefined"==typeof e?new i("timed out after "+n+"ms"):e;t.reject(r)}return e.prototype.delay=function(e){var t=this._beget();return this._handler.fold(n,e,void 0,t._handler),t},e.prototype.timeout=function(e,n){var i=this._beget(),o=i._handler,a=t(s,e,n,i._handler);return this._handler.visit(o,function(e){r.clearTimer(a),this.resolve(e)},function(e){r.clearTimer(a),this.reject(e)},o.notify),i},e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;(function(i){/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(o){"use strict";r=function(e){function t(){return"undefined"!=typeof i&&"[object process]"===Object.prototype.toString.call(i)}function r(){return"undefined"!=typeof MutationObserver&&MutationObserver||"undefined"!=typeof WebKitMutationObserver&&WebKitMutationObserver}function o(e){function t(){var e=n;n=void 0,e()}var n,r=document.createTextNode(""),i=new e(t);i.observe(r,{characterData:!0});var o=0;return function(e){n=e,r.data=o^=1}}var s,a="undefined"!=typeof setTimeout&&setTimeout,u=function(e,t){return setTimeout(e,t)},c=function(e){return clearTimeout(e)},l=function(e){return a(e,0)};if(t())l=function(e){return i.nextTick(e)};else if(s=r())l=o(s);else if(!a){var f=n(91);u=function(e,t){return f.setTimer(t,e)},c=f.cancelTimer,l=f.runOnLoop||f.runOnContext}return{setTimer:u,clearTimer:c,asap:l}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))}).call(t,n(52))},function(e,t){},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(){function e(t){Error.call(this),this.message=t,this.name=e.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(e){var t=n(95),r=n(96);return function(e){function n(t){function n(e){l=null,this.resolve(e)}function r(e){this.resolved||(l.push(e),0===--c&&this.reject(l))}for(var i,o,s=e._defer(),a=s._handler,u=t.length>>>0,c=u,l=[],f=0;f<u;++f)if(o=t[f],void 0!==o||f in t){if(i=e._handler(o),i.state()>0){a.become(i),e._visitRemaining(t,f,i);break}i.visit(a,n,r)}else--c;return 0===c&&a.reject(new RangeError("any(): array must not be empty")),s}function i(t,n){function r(e){this.resolved||(l.push(e),0===--p&&(f=null,this.resolve(l)))}function i(e){this.resolved||(f.push(e),0===--o&&(l=null,this.reject(f)))}var o,s,a,u=e._defer(),c=u._handler,l=[],f=[],h=t.length>>>0,p=0;for(a=0;a<h;++a)s=t[a],(void 0!==s||a in t)&&++p;for(n=Math.max(n,0),o=p-n+1,p=Math.min(n,p),n>p?c.reject(new RangeError("some(): array must contain at least "+n+" item(s), but had "+p)):0===p&&c.resolve(l),a=0;a<h;++a)s=t[a],(void 0!==s||a in t)&&e._handler(s).visit(c,r,i,c.notify);return u}function o(t,n){return e._traverse(n,t)}function s(t,n){var r=m.call(t);return e._traverse(n,r).then(function(e){return a(r,e)})}function a(t,n){for(var r=n.length,i=new Array(r),o=0,s=0;o<r;++o)n[o]&&(i[s++]=e._handler(t[o]).value);return i.length=s,i}function u(e){return v(e.map(c))}function c(n){var r;return n instanceof e&&(r=n._handler.join()),r&&0===r.state()||!r?d(n).then(t.fulfilled,t.rejected):(r._unreport(),t.inspect(r))}function l(e,t){return arguments.length>2?g.call(e,h(t),arguments[2]):g.call(e,h(t))}function f(e,t){return arguments.length>2?y.call(e,h(t),arguments[2]):y.call(e,h(t))}function h(e){return function(t,n,r){return p(e,void 0,[t,n,r])}}var p=r(e),d=e.resolve,v=e.all,g=Array.prototype.reduce,y=Array.prototype.reduceRight,m=Array.prototype.slice;return e.any=n,e.some=i,e.settle=u,e.map=o,e.filter=s,e.reduce=l,e.reduceRight=f,e.prototype.spread=function(e){return this.then(v).then(function(t){return e.apply(this,t)})},e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(){function e(){return{state:"pending"}}function t(e){return{state:"rejected",reason:e}}function n(e){return{state:"fulfilled",value:e}}function r(r){var i=r.state();return 0===i?e():i>0?n(r.value):t(r.value)}return{pending:e,fulfilled:n,rejected:t,inspect:r}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(){function e(e,n){function r(t,r,o){var s=e._defer(),a=o.length,u=new Array(a);return i({f:t,thisArg:r,args:o,params:u,i:a-1,call:n},s._handler),s}function i(t,r){if(t.i<0)return n(t.f,t.thisArg,t.params,r);var i=e._handler(t.args[t.i]);i.fold(o,t,void 0,r)}function o(e,t,n){e.params[e.i]=t,e.i-=1,i(e,n)}return arguments.length<2&&(n=t),r}function t(e,t,n,r){try{r.resolve(e.apply(t,n))}catch(i){r.reject(i)}}return e.tryCatchResolve=t,e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(){function e(){throw new TypeError("catch predicate must be a function")}function t(e,t){return n(t)?e instanceof t:t(e)}function n(e){return e===Error||null!=e&&e.prototype instanceof Error}function r(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function i(e){return e}return function(n){function o(e,n){return function(r){return t(r,n)?e.call(this,r):c(r)}}function s(e,t,n,i){var o=e.call(t);return r(o)?a(o,n,i):n(i)}function a(e,t,n){return u(e).then(function(){return t(n)})}var u=n.resolve,c=n.reject,l=n.prototype["catch"];return n.prototype.done=function(e,t){this._handler.visit(this._handler.receiver,e,t)},n.prototype["catch"]=n.prototype.otherwise=function(t){return arguments.length<2?l.call(this,t):"function"!=typeof t?this.ensure(e):l.call(this,o(arguments[1],t))},n.prototype["finally"]=n.prototype.ensure=function(e){return"function"!=typeof e?this:this.then(function(t){return s(e,this,i,t)},function(t){return s(e,this,c,t)})},n.prototype["else"]=n.prototype.orElse=function(e){return this.then(void 0,function(){return e})},n.prototype["yield"]=function(e){return this.then(function(){return e})},n.prototype.tap=function(e){return this.then(e)["yield"](this)},n}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(){return function(e){return e.prototype.fold=function(t,n){var r=this._beget();return this._handler.fold(function(n,r,i){e._handler(n).fold(function(e,n,r){r.resolve(t.call(this,n,e))},r,this,i)},n,r._handler.receiver,r._handler),r},e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(e){var t=n(95).inspect;return function(e){return e.prototype.inspect=function(){return t(e._handler(this))},e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(){return function(e){function t(e,t,r,i){return n(function(t){return[t,e(t)]},t,r,i)}function n(e,t,i,o){function s(o,s){return r(i(o)).then(function(){return n(e,t,i,s)})}return r(o).then(function(n){return r(t(n)).then(function(t){return t?n:r(e(n)).spread(s)})})}var r=e.resolve;return e.iterate=t,e.unfold=n,e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(){return function(e){return e.prototype.progress=function(e){return this.then(void 0,void 0,e)},e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(){return function(e){return e.prototype["with"]=e.prototype.withThis=function(e){var t=this._beget(),n=t._handler;return n.receiver=e,this._handler.chain(n,e),t},e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(e){function t(e){throw e}function r(){}var i=n(90).setTimer,o=n(104);return function(e){function n(e){e.handled||(p.push(e),l("Potentially unhandled rejection ["+e.id+"] "+o.formatError(e.value)))}function s(e){var t=p.indexOf(e);t>=0&&(p.splice(t,1),f("Handled previous rejection ["+e.id+"] "+o.formatObject(e.value)))}function a(e,t){h.push(e,t),null===d&&(d=i(u,0))}function u(){for(d=null;h.length>0;)h.shift()(h.shift())}var c,l=r,f=r;"undefined"!=typeof console&&(c=console,l="undefined"!=typeof c.error?function(e){c.error(e)}:function(e){c.log(e)},f="undefined"!=typeof c.info?function(e){c.info(e)}:function(e){c.log(e)}),e.onPotentiallyUnhandledRejection=function(e){a(n,e)},e.onPotentiallyUnhandledRejectionHandled=function(e){a(s,e)},e.onFatalRejection=function(e){a(t,e.value)};var h=[],p=[],d=null;return e}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(){function e(e){var n="object"==typeof e&&null!==e&&(e.stack||e.message)?e.stack||e.message:t(e);return e instanceof Error?n:n+" (WARNING: non-Error used)"}function t(e){var t=String(e);return"[object Object]"===t&&"undefined"!=typeof JSON&&(t=n(e,t)),t}function n(e,t){try{return JSON.stringify(e)}catch(n){return t}}return{formatError:e,formatObject:t,tryStringify:n}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(e){var t=n(106),r=n(107),i=n(90).asap;return t({scheduler:new r(i)})}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){var r;(function(i){/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(o){"use strict";r=function(){return function(e){function t(e,t){this._handler=e===_?t:n(e)}function n(e){function t(e){i.resolve(e)}function n(e){i.reject(e)}function r(e){i.notify(e)}var i=new E;try{e(t,n,r)}catch(o){n(o)}return i}function r(e){return F(e)?e:new t(_,new x(y(e)))}function o(e){return new t(_,new x(new C(e)))}function s(){return ne}function a(){return new t(_,new E)}function u(e,t){var n=new E(e.receiver,e.join().context);return new t(_,n)}function c(e){return f(W,null,e)}function l(e,t){return f(D,e,t)}function f(e,n,r){function i(t,i,s){s.resolved||h(r,o,t,e(n,i,t),s)}function o(e,t,n){l[e]=t,0===--c&&n.become(new I(l))}for(var s,a="function"==typeof n?i:o,u=new E,c=r.length>>>0,l=new Array(c),f=0;f<r.length&&!u.resolved;++f)s=r[f],void 0!==s||f in r?h(r,a,f,s,u):--c;return 0===c&&u.become(new I(l)),new t(_,u)}function h(e,t,n,r,i){if(P(r)){var o=m(r),s=o.state();0===s?o.fold(t,n,void 0,i):s>0?t(n,o.value,i):(i.become(o),p(e,n+1,o))}else t(n,r,i)}function p(e,t,n){for(var r=t;r<e.length;++r)d(y(e[r]),n)}function d(e,t){if(e!==t){var n=e.state();0===n?e.visit(e,void 0,e._unreport):n<0&&e._unreport()}}function v(e){return"object"!=typeof e||null===e?o(new TypeError("non-iterable passed to race()")):0===e.length?s():1===e.length?r(e[0]):g(e)}function g(e){var n,r,i,o=new E;for(n=0;n<e.length;++n)if(r=e[n],void 0!==r||n in e){if(i=y(r),0!==i.state()){o.become(i),p(e,n+1,i);break}i.visit(o,o.resolve,o.reject)}return new t(_,o)}function y(e){return F(e)?e._handler.join():P(e)?b(e):new I(e)}function m(e){return F(e)?e._handler.join():b(e)}function b(e){try{var t=e.then;return"function"==typeof t?new k(t,e):new I(e)}catch(n){return new C(n)}}function _(){}function w(){}function E(e,n){t.createContext(this,n),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function x(e){this.handler=e}function k(e,t){E.call(this),$.enqueue(new j(e,t,this))}function I(e){t.createContext(this),this.value=e}function C(e){t.createContext(this),this.id=++ee,this.value=e,this.handled=!1,this.reported=!1,this._report()}function S(e,t){this.rejection=e,this.context=t}function T(e){this.rejection=e}function B(){return new C(new TypeError("Promise cycle"))}function U(e,t){this.continuation=e,this.handler=t}function O(e,t){this.handler=t,this.value=e}function j(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function A(e,t,n,r,i){try{e.call(t,n,r,i)}catch(o){r(o)}}function R(e,t,n,r){this.f=e,this.z=t,this.c=n,this.to=r,this.resolver=Z,this.receiver=this}function F(e){return e instanceof t}function P(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function L(e,n,r,i){return"function"!=typeof e?i.become(n):(t.enterContext(n),q(e,n.value,r,i),void t.exitContext())}function M(e,n,r,i,o){return"function"!=typeof e?o.become(r):(t.enterContext(r),z(e,n,r.value,i,o),void t.exitContext())}function N(e,n,r,i,o){return"function"!=typeof e?o.notify(n):(t.enterContext(r),H(e,n,i,o),void t.exitContext())}function D(e,t,n){try{return e(t,n)}catch(r){return o(r)}}function q(e,t,n,r){try{r.become(y(e.call(n,t)))}catch(i){r.become(new C(i))}}function z(e,t,n,r,i){try{e.call(r,t,n,i)}catch(o){i.become(new C(o))}}function H(e,t,n,r){try{r.notify(e.call(n,t))}catch(i){r.notify(i)}}function Q(e,t){t.prototype=J(e.prototype),t.prototype.constructor=t}function W(e,t){return t}function K(){}function V(){if("function"==typeof CustomEvent)try{var e=new CustomEvent("unhandledRejection");return e instanceof CustomEvent}catch(t){}return!1}function G(){if("undefined"!=typeof document&&"function"==typeof document.createEvent)try{var e=document.createEvent("CustomEvent");return e.initCustomEvent("eventType",!1,!0,{}),!0}catch(t){}return!1}function Y(){return"undefined"!=typeof i&&null!==i&&"function"==typeof i.emit?function(e,t){return"unhandledRejection"===e?i.emit(e,t.value,t):i.emit(e,t)}:"undefined"!=typeof self&&V()?function(e,t){return function(n,r){var i=new t(n,{detail:{reason:r.value,key:r},bubbles:!1,cancelable:!0});return!e.dispatchEvent(i)}}(self,CustomEvent):"undefined"!=typeof self&&G()?function(e,t){return function(n,r){var i=t.createEvent("CustomEvent");return i.initCustomEvent(n,!1,!0,{reason:r.value,key:r}),!e.dispatchEvent(i)}}(self,document):K}var $=e.scheduler,X=Y(),J=Object.create||function(e){function t(){}return t.prototype=e,new t};t.resolve=r,t.reject=o,t.never=s,t._defer=a,t._handler=y,t.prototype.then=function(e,t,n){var r=this._handler,i=r.join().state();if("function"!=typeof e&&i>0||"function"!=typeof t&&i<0)return new this.constructor(_,r);var o=this._beget(),s=o._handler;return r.chain(s,r.receiver,e,t,n),o},t.prototype["catch"]=function(e){return this.then(void 0,e)},t.prototype._beget=function(){return u(this._handler,this.constructor)},t.all=c,t.race=v,t._traverse=l,t._visitRemaining=p,_.prototype.when=_.prototype.become=_.prototype.notify=_.prototype.fail=_.prototype._unreport=_.prototype._report=K,_.prototype._state=0,_.prototype.state=function(){return this._state},_.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},_.prototype.chain=function(e,t,n,r,i){this.when({resolver:e,receiver:t,fulfilled:n,rejected:r,progress:i})},_.prototype.visit=function(e,t,n,r){this.chain(Z,e,t,n,r)},_.prototype.fold=function(e,t,n,r){this.when(new R(e,t,n,r))},Q(_,w),w.prototype.become=function(e){e.fail()};var Z=new w;Q(_,E),E.prototype._state=0,E.prototype.resolve=function(e){this.become(y(e))},E.prototype.reject=function(e){this.resolved||this.become(new C(e))},E.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if(e=e.handler,e===this)return this.handler=B();return e},E.prototype.run=function(){var e=this.consumers,t=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},E.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&$.enqueue(this),void 0!==this.context&&e._report(this.context))},E.prototype.when=function(e){this.resolved?$.enqueue(new U(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},E.prototype.notify=function(e){this.resolved||$.enqueue(new O(e,this))},E.prototype.fail=function(e){var t="undefined"==typeof e?this.context:e;this.resolved&&this.handler.join().fail(t)},E.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},E.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},Q(_,x),x.prototype.when=function(e){$.enqueue(new U(e,this))},x.prototype._report=function(e){this.join()._report(e)},x.prototype._unreport=function(){this.join()._unreport()},Q(E,k),Q(_,I),I.prototype._state=1,I.prototype.fold=function(e,t,n,r){M(e,t,this,n,r)},I.prototype.when=function(e){L(e.fulfilled,this,e.receiver,e.resolver)};var ee=0;Q(_,C),C.prototype._state=-1,C.prototype.fold=function(e,t,n,r){r.become(this)},C.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),L(e.rejected,this,e.receiver,e.resolver)},C.prototype._report=function(e){$.afterQueue(new S(this,e))},C.prototype._unreport=function(){this.handled||(this.handled=!0,$.afterQueue(new T(this)))},C.prototype.fail=function(e){this.reported=!0,X("unhandledRejection",this),t.onFatalRejection(this,void 0===e?this.context:e)},S.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,X("unhandledRejection",this.rejection)||t.onPotentiallyUnhandledRejection(this.rejection,this.context))},T.prototype.run=function(){this.rejection.reported&&(X("rejectionHandled",this.rejection)||t.onPotentiallyUnhandledRejectionHandled(this.rejection))},t.createContext=t.enterContext=t.exitContext=t.onPotentiallyUnhandledRejection=t.onPotentiallyUnhandledRejectionHandled=t.onFatalRejection=K;var te=new _,ne=new t(_,te);return U.prototype.run=function(){this.handler.join().when(this.continuation)},O.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)t=e[n],N(t.progress,this.value,this.handler,t.receiver,t.resolver)},j.prototype.run=function(){function e(e){r.resolve(e)}function t(e){r.reject(e)}function n(e){r.notify(e)}var r=this.resolver;A(this._then,this.thenable,e,t,n)},R.prototype.fulfilled=function(e){this.f.call(this.c,this.z,e,this.to)},R.prototype.rejected=function(e){this.to.reject(e)},R.prototype.progress=function(e){this.to.notify(e)},t}}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))}).call(t,n(52))},function(e,t,n){var r;/** @license MIT License (c) copyright 2010-2014 original author or authors */
!function(i){"use strict";r=function(){function e(e){this._async=e,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var t=this;this.drain=function(){t._drain()}}return e.prototype.enqueue=function(e){this._queue[this._queueLen++]=e,this.run()},e.prototype.afterQueue=function(e){this._afterQueue[this._afterQueueLen++]=e,this.run()},e.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},e.prototype._drain=function(){for(var e=0;e<this._queueLen;++e)this._queue[e].run(),this._queue[e]=void 0;for(this._queueLen=0,this._running=!1,e=0;e<this._afterQueueLen;++e)this._afterQueue[e].run(),this._afterQueue[e]=void 0;this._afterQueueLen=0},e}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(n(92))},function(e,t,n){function r(e,t){return s.fromCallback(function(n){return i(e,t,n)}).then(function(e){return new o(e)})}var i=n(109).connect,o=n(169).ChannelModel,s=n(50);e.exports.connect=r,e.exports.credentials=n(166),e.exports.IllegalOperationError=n(165).IllegalOperationError},function(e,t,n){(function(t){"use strict";function r(e,t){for(var n=Object.keys(e),r=n.length;r--;){var i=n[r];t[i]=e[i]}return t}function i(e){return r(e,{})}function o(e,t,n,i){function o(e,t){return void 0===e?t:parseInt(e)}e=e?c.unescape(e):"/";var t=t||{},s=Object.create(p);return{clientProperties:r(i,s),mechanism:n.mechanism,response:n.response(),locale:t.locale||"en_US",channelMax:o(t.channelMax,0),frameMax:o(t.frameMax,4096),heartbeat:o(t.heartbeat,0),virtualHost:e,capabilities:"",insist:0}}function s(e){var t="guest",n="guest";if(e.auth){var r=e.auth.indexOf(":");r==-1?(t=e.auth,n=""):(t=e.auth.substring(0,r),n=e.auth.substring(r+1))}return h.plain(t,n)}function a(e,t,r){function a(){I=!0,k.setNoDelay(d),g&&k.setKeepAlive(g,y);var e=new l(k);e.open(p,function(t,n){v&&k.setTimeout(0),null===t?r(null,e):r(t)})}var c=i(t||{});e=e||"amqp://localhost";var f,p,d=!!c.noDelay,v=c.timeout,g=!!c.keepAlive,y=c.keepAliveDelay||0,m=c.clientProperties||{};if("object"==typeof e){f=(e.protocol||"amqp")+":",c.host=e.hostname,c.port=e.port||("amqp:"===f?5672:5671);var b,_;void 0==e.username&&void 0==e.password?(b="guest",_="guest"):(b=e.username||"",_=e.password||"");var w={locale:e.locale,channelMax:e.channelMax,frameMax:e.frameMax,heartbeat:e.heartbeat};p=o(e.vhost,w,c.credentials||h.plain(b,_),m)}else{var E=u.parse(e,!0);f=E.protocol,c.host=E.hostname,c.port=parseInt(E.port)||("amqp:"===f?5672:5671);var x=E.pathname?E.pathname.substr(1):null;p=o(x,E.query,c.credentials||s(E),m)}var k,I=!1;if("amqp:"===f)k=n(168).connect(c,a);else{if("amqps:"!==f)throw new Error("Expected amqp: or amqps: as the protocol; got "+f);k=n(168).connect(c,a)}v&&k.setTimeout(v,function(){k.end(),k.destroy(),r(new Error("connect ETIMEDOUT"))}),k.once("error",function(e){I||r(e)})}var u=n(110),c=n(113),l=n(116).Connection,f=n(133).format,h=n(166),p={product:"amqplib",version:n(167).version,platform:f("Node.JS %s",t.version),information:"http://squaremo.github.io/amqp.node",capabilities:{publisher_confirms:!0,exchange_exchange_bindings:!0,"basic.nack":!0,consumer_cancel_notify:!0,"connection.blocked":!0,authentication_failure_close:!0}};e.exports.connect=a,e.exports.credentialsFromUrl=s}).call(t,n(52))},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&c.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function o(e){return c.isString(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function s(e,t){return i(e,!1,!0).resolve(t)}function a(e,t){return e?i(e,!1,!0).resolveObject(t):t}var u=n(111),c=n(112);t.parse=i,t.resolve=s,t.resolveObject=a,t.format=o,t.Url=r;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(p),v=["'"].concat(d),g=["%","/","?",";","#"].concat(v),y=["/","?","#"],m=255,b=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},k=n(113);r.prototype.parse=function(e,t,n){if(!c.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),e=o.join(i);var a=e;if(a=a.trim(),!n&&1===e.split("#").length){var f=h.exec(a);if(f)return this.path=a,this.href=a,this.pathname=f[1],f[2]?(this.search=f[2],t?this.query=k.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var p=l.exec(a);if(p){p=p[0];var d=p.toLowerCase();this.protocol=d,a=a.substr(p.length)}if(n||p||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var I="//"===a.substr(0,2);!I||p&&E[p]||(a=a.substr(2),this.slashes=!0)}if(!E[p]&&(I||p&&!x[p])){for(var C=-1,S=0;S<y.length;S++){var T=a.indexOf(y[S]);T!==-1&&(C===-1||T<C)&&(C=T)}var B,U;U=C===-1?a.lastIndexOf("@"):a.lastIndexOf("@",C),U!==-1&&(B=a.slice(0,U),a=a.slice(U+1),this.auth=decodeURIComponent(B)),C=-1;for(var S=0;S<g.length;S++){var T=a.indexOf(g[S]);T!==-1&&(C===-1||T<C)&&(C=T)}C===-1&&(C=a.length),this.host=a.slice(0,C),a=a.slice(C),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var j=this.hostname.split(/\./),S=0,A=j.length;S<A;S++){var R=j[S];if(R&&!R.match(b)){for(var F="",P=0,L=R.length;P<L;P++)F+=R.charCodeAt(P)>127?"x":R[P];if(!F.match(b)){var M=j.slice(0,S),N=j.slice(S+1),D=R.match(_);D&&(M.push(D[1]),N.unshift(D[2])),N.length&&(a="/"+N.join(".")+a),this.hostname=M.join(".");break}}}this.hostname.length>m?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=u.toASCII(this.hostname));var q=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+q,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!w[d])for(var S=0,A=v.length;S<A;S++){var H=v[S];if(a.indexOf(H)!==-1){var Q=encodeURIComponent(H);Q===H&&(Q=escape(H)),a=a.split(H).join(Q)}}var W=a.indexOf("#");W!==-1&&(this.hash=a.substr(W),a=a.slice(0,W));var K=a.indexOf("?");if(K!==-1?(this.search=a.substr(K),this.query=a.substr(K+1),t&&(this.query=k.parse(this.query)),a=a.slice(0,K)):t&&(this.search="",this.query={}),a&&(this.pathname=a),x[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var q=this.pathname||"",V=this.search||"";this.path=q+V}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(o=k.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||x[t])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),s=s.replace("#","%23"),t+i+n+s+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(c.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),u=0;u<a.length;u++){var l=a[u];"protocol"!==l&&(n[l]=e[l])}return x[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!x[e.protocol]){for(var f=Object.keys(e),h=0;h<f.length;h++){var p=f[h];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||E[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",g=n.search||"";n.path=v+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=m||y||n.host&&e.pathname,_=b,w=n.pathname&&n.pathname.split("/")||[],d=e.pathname&&e.pathname.split("/")||[],k=n.protocol&&!x[n.protocol];if(k&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),b=b&&(""===d[0]||""===w[0])),m)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=d;else if(d.length)w||(w=[]),w.pop(),w=w.concat(d),n.search=e.search,n.query=e.query;else if(!c.isNullOrUndefined(e.search)){if(k){n.hostname=n.host=w.shift();var I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");I&&(n.auth=I.shift(),n.host=n.hostname=I.shift())}return n.search=e.search,n.query=e.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=w.slice(-1)[0],S=(n.host||e.host||w.length>1)&&("."===C||".."===C)||""===C,T=0,B=w.length;B>=0;B--)C=w[B],"."===C?w.splice(B,1):".."===C?(w.splice(B,1),T++):T&&(w.splice(B,1),T--);if(!b&&!_)for(;T--;T)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),S&&"/"!==w.join("/").substr(-1)&&w.push("");var U=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(k){n.hostname=n.host=U?"":w.length?w.shift():"";var I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");I&&(n.auth=I.shift(),n.host=n.hostname=I.shift())}return b=b||n.host&&w.length,b&&!U&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){var r;(function(e,i){!function(o){function s(e){throw RangeError(j[e])}function a(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function u(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(O,".");var i=e.split("."),o=a(i,t).join(".");return r+o}function c(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function l(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=F(e>>>10&1023|55296),e=56320|1023&e),t+=F(e)}).join("")}function f(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:w}function h(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function p(e,t,n){var r=0;for(e=n?R(e/I):e>>1,e+=R(e/t);e>A*x>>1;r+=w)e=R(e/A);return R(r+(A+1)*e/(e+k))}function d(e){var t,n,r,i,o,a,u,c,h,d,v=[],g=e.length,y=0,m=S,b=C;for(n=e.lastIndexOf(T),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&s("not-basic"),v.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=y,a=1,u=w;i>=g&&s("invalid-input"),c=f(e.charCodeAt(i++)),(c>=w||c>R((_-y)/a))&&s("overflow"),y+=c*a,h=u<=b?E:u>=b+x?x:u-b,!(c<h);u+=w)d=w-h,a>R(_/d)&&s("overflow"),a*=d;t=v.length+1,b=p(y-o,t,0==o),R(y/t)>_-m&&s("overflow"),m+=R(y/t),y%=t,v.splice(y++,0,m)}return l(v)}function v(e){var t,n,r,i,o,a,u,l,f,d,v,g,y,m,b,k=[];for(e=c(e),g=e.length,t=S,n=0,o=C,a=0;a<g;++a)v=e[a],v<128&&k.push(F(v));for(r=i=k.length,i&&k.push(T);r<g;){for(u=_,a=0;a<g;++a)v=e[a],v>=t&&v<u&&(u=v);for(y=r+1,u-t>R((_-n)/y)&&s("overflow"),n+=(u-t)*y,t=u,a=0;a<g;++a)if(v=e[a],v<t&&++n>_&&s("overflow"),v==t){for(l=n,f=w;d=f<=o?E:f>=o+x?x:f-o,!(l<d);f+=w)b=l-d,m=w-d,k.push(F(h(d+b%m,0))),l=R(b/m);k.push(F(h(l,0))),o=p(n,y,r==i),n=0,++r}++n,++t}return k.join("")}function g(e){return u(e,function(e){return B.test(e)?d(e.slice(4).toLowerCase()):e})}function y(e){return u(e,function(e){return U.test(e)?"xn--"+v(e):e})}var m=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof i&&i);m.global!==m&&m.window!==m&&m.self!==m||(o=m);var b,_=2147483647,w=36,E=1,x=26,k=38,I=700,C=72,S=128,T="-",B=/^xn--/,U=/[^\x20-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=w-E,R=Math.floor,F=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:c,encode:l},decode:d,encode:v,toASCII:y,toUnicode:g},r=function(){return b}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(38)(e),function(){return this}())},function(e,t){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(114),t.encode=t.stringify=n(115)},function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var l,f,h,p,d=e[c].replace(s,"%20"),v=d.indexOf(r);v>=0?(l=d.substr(0,v),f=d.substr(v+1)):(l=d,f=""),h=decodeURIComponent(l),p=decodeURIComponent(f),n(o,h)?Array.isArray(o[h])?o[h].push(p):o[h]=[o[h],p]:o[h]=p}return o}},function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,i){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(i){var o=encodeURIComponent(n(i))+r;return Array.isArray(e[i])?e[i].map(function(e){return o+encodeURIComponent(n(e))}).join(t):o+encodeURIComponent(n(e[i]))}).join(t):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(e)):""}},function(e,t,n){"use strict";function r(e){y.call(this);var t=this.stream=u(e);this.muxer=new d(t),this.rest=v.alloc(0),this.frameMax=f.FRAME_MIN_SIZE,this.sentSinceLastCheck=!1,this.recvSinceLastCheck=!1,this.expectSocketClose=!1,this.freeChannels=new E,this.channels=[{channel:{accept:o(this)},buffer:e}]}function i(e){var t=this.channels[e.channel];return t?t.channel.accept(e):void this.closeWithError(k("Frame on unknown channel %d",e.channel),f.CHANNEL_ERROR,new Error(k("Frame on unknown channel: %s",w(e,!1))))}function o(e){return function(t){if(t===p);else if(t.id===l.ConnectionClose){e.sendMethod(0,l.ConnectionCloseOk,{});var n=k("Connection closed: %s",_(t)),r=S(n),i=new Error(n);i.code=t.fields.replyCode,c(i)&&e.emit("error",i),e.toClosed(r,i)}else t.id===l.ConnectionBlocked?e.emit("blocked",t.fields.reason):t.id===l.ConnectionUnblocked?e.emit("unblocked"):e.closeWithError(k("Unexpected frame on channel 0"),f.UNEXPECTED_FRAME,new Error(k("Unexpected frame on channel 0: %s",w(t,!1))))}}function s(e,t){return function(){throw new C(e,t)}}function a(e,t,n){e.sendMethod=e.sendContent=e.sendMessage=s(t,n)}function u(e){if(e instanceof g)return e;var t=new g;return t.wrap(e),t._write=function(t,n,r){return e.write(t,n,r)},t}function c(e){switch(e&&e.code){case l.constants.CONNECTION_FORCED:case l.constants.REPLY_SUCCESS:return!1;default:return!0}}var l=n(117),f=l.constants,h=n(125),p=h.HEARTBEAT,d=n(136).Mux,v=n(118).Buffer,g=n(137).Duplex||n(153),y=n(138).EventEmitter,m=n(159).Heart,b=n(160).methodName,_=n(160).closeMessage,w=n(160).inspect,E=n(161).BitSet,x=n(133).inherits,k=n(133).format,I=n(137).PassThrough||n(162),C=n(165).IllegalOperationError,S=n(165).stackCapture,T=1024,B=2048;x(r,y);var U=r.prototype;U.sendProtocolHeader=function(){this.sendBytes(h.PROTOCOL_HEADER)},U.open=function(e,t){function n(e){d.step(function(t,n){null!==t?o(t):0!==n.channel?o(new Error(k("Frame on channel != 0 during handshake: %s",w(n,!1)))):e(n)})}function r(e,t){n(function(n){n.id===e?t(n):o(new Error(k("Expected %s; got %s",b(e),w(n,!1))))})}function o(e){v(e)}function s(e){try{d.sendMethod(0,e,g)}catch(t){o(t)}}function a(e,t){return 0===e||0===t?Math.max(e,t):Math.min(e,t)}function u(t){var r=t.fields.mechanisms.toString().split(" ");return r.indexOf(e.mechanism)<0?void o(new Error(k("SASL mechanism %s is not provided by the server",e.mechanism))):(s(l.ConnectionStartOk),void n(c))}function c(t){switch(t.id){case l.ConnectionSecure:o(new Error("Wasn't expecting to have to go through secure"));break;case l.ConnectionClose:o(new Error(k("Handshake terminated by server: %s",_(t))));break;case l.ConnectionTune:var n=t.fields;g.frameMax=a(n.frameMax,e.frameMax),g.channelMax=a(n.channelMax,e.channelMax),g.heartbeat=a(n.heartbeat,e.heartbeat),s(l.ConnectionTuneOk),s(l.ConnectionOpen),r(l.ConnectionOpenOk,f);break;default:o(new Error(k("Expected connection.secure, connection.close, or connection.tune during handshake; got %s",w(t,!1))))}}function f(e){d.channelMax=g.channelMax||65535,d.frameMax=g.frameMax||4294967295,d.heartbeat=g.heartbeat,d.heartbeater=d.startHeartbeater(),d.accept=i,p(e)}function h(e){o(e||new Error("Socket closed abruptly during opening handshake"))}function p(e){d.stream.removeListener("end",h),d.stream.removeListener("error",h),d.stream.on("error",d.onSocketError.bind(d)),d.stream.on("end",d.onSocketError.bind(d,new Error("Unexpected close"))),d.on("frameError",d.onSocketError.bind(d)),d.acceptLoop(),v(null,e)}var d=this,v=t||function(){},g=Object.create(e);this.stream.on("end",h),this.stream.on("error",h),this.sendProtocolHeader(),r(l.ConnectionStart,u)},U.close=function(e){var t=e&&function(){e(null)};this.closeBecause("Cheers, thanks",f.REPLY_SUCCESS,t)},U.closeBecause=function(e,t,n){this.sendMethod(0,l.ConnectionClose,{replyText:e,replyCode:t,methodId:0,classId:0});var r=S("closeBecause called: "+e);this.toClosing(r,n)},U.closeWithError=function(e,t,n){this.emit("error",n),this.closeBecause(e,t)},U.onSocketError=function(e){if(!this.expectSocketClose){this.expectSocketClose=!0,this.emit("error",e);var t=S("Socket error");this.toClosed(t,e)}},U.toClosing=function(e,t){var n=this.sendMethod.bind(this);this.accept=function(e){if(e.id===l.ConnectionCloseOk){t&&t();var r=S("ConnectionCloseOk received");this.toClosed(r,void 0)}else e.id===l.ConnectionClose&&n(0,l.ConnectionCloseOk,{})},a(this,"Connection closing",e)},U._closeChannels=function(e){for(var t=1;t<this.channels.length;t++){var n=this.channels[t];null!==n&&n.channel.toClosed(e)}},U.toClosed=function(e,t){this._closeChannels(e);var n=k("Connection closed (%s)",t?t.toString():"by client");a(this,n,e),this.accept=s(n,e),this.close=function(t){t&&t(new C(n,e))},this.heartbeater&&this.heartbeater.clear(),this.expectSocketClose=!0,this.stream.end(),this.emit("close",t)},U.startHeartbeater=function(){if(0===this.heartbeat)return null;var e=this,t=new m(this.heartbeat,this.checkSend.bind(this),this.checkRecv.bind(this));return t.on("timeout",function(){var t=new Error("Heartbeat timeout");e.emit("error",t);var n=S("Heartbeat timeout");e.toClosed(n,t)}),t.on("beat",function(){e.sendHeartbeat()}),t},U.freshChannel=function(e,t){var n=this.freeChannels.nextClearBit(1);if(n<0||n>this.channelMax)throw new Error("No channels left to allocate");this.freeChannels.set(n);var r=t&&t.highWaterMark||T,i=new I({objectMode:!0,highWaterMark:r});return this.channels[n]={channel:e,buffer:i},i.on("drain",function(){e.onBufferDrain()}),this.muxer.pipeFrom(i),n},U.releaseChannel=function(e){this.freeChannels.clear(e);var t=this.channels[e].buffer;this.muxer.unpipeFrom(t),this.channels[e]=null},U.acceptLoop=function(){function e(){try{for(var e;e=t.recvFrame();)t.accept(e)}catch(n){t.emit("frameError",n)}}var t=this;t.stream.on("readable",e),e()},U.step=function(e){function t(){var r;try{r=n.recvFrame()}catch(i){return void e(i,null)}r?e(null,r):n.stream.once("readable",t)}var n=this;t()},U.checkSend=function(){var e=this.sentSinceLastCheck;return this.sentSinceLastCheck=!1,e},U.checkRecv=function(){var e=this.recvSinceLastCheck;return this.recvSinceLastCheck=!1,e},U.sendBytes=function(e){this.sentSinceLastCheck=!0,this.stream.write(e)},U.sendHeartbeat=function(){return this.sendBytes(h.HEARTBEAT_BUF)};var O=l.encodeMethod,j=l.encodeProperties;U.sendMethod=function(e,t,n){var r=O(t,e,n);this.sentSinceLastCheck=!0;var i=this.channels[e].buffer;return i.write(r)},U.sendMessage=function(e,t,n,r,i,o){if(!v.isBuffer(o))throw new TypeError("content is not a buffer");var s=O(t,e,n),a=j(r,e,o.length,i),u=this.channels[e].buffer;this.sentSinceLastCheck=!0;var c=s.length+a.length,l=o.length>0?o.length+A:0,f=c+l;if(f<B){var h=v.alloc(f),p=s.copy(h,0);return p+=a.copy(h,p),l>0&&R(e,o).copy(h,p),u.write(h)}if(c<B){var d=v.alloc(c),p=s.copy(d,0);a.copy(d,p),u.write(d)}else u.write(s),u.write(a);return this.sendContent(e,o)};var A=l.FRAME_OVERHEAD,R=h.makeBodyFrame;U.sendContent=function(e,t){if(!v.isBuffer(t))throw new TypeError(k("Expected buffer; got %s",t));for(var n=!0,r=this.channels[e].buffer,i=this.frameMax-A,o=0;o<t.length;o+=i){var s=o+i,a=s>t.length?t.slice(o):t.slice(o,s),u=R(e,a);n=r.write(u)}return this.sentSinceLastCheck=!0,n};var F=h.parseFrame,P=h.decodeFrame;U.recvFrame=function(){var e=F(this.rest,this.frameMax);if(e)return this.rest=e.rest,P(e);var t=this.stream.read();return null!==t&&(this.recvSinceLastCheck=!0,this.rest=v.concat([this.rest,t]),this.recvFrame())},e.exports.Connection=r,e.exports.isFatalError=c},function(e,t,n){(function(t){/** @preserve This file is generated by the script
	 * ../bin/generate-defs.js, which is not in general included in a
	 * distribution, but is available in the source repository e.g. at
	 * https://github.com/squaremo/amqp.node/
	 */
"use strict";function r(e){var t,n,r=0,i={versionMajor:void 0,versionMinor:void 0,serverProperties:void 0,mechanisms:void 0,locales:void 0};return t=e[r],r++,i.versionMajor=t,t=e[r],r++,i.versionMinor=t,n=e.readUInt32BE(r),r+=4,t=Tt(e.slice(r,r+n)),r+=n,i.serverProperties=t,n=e.readUInt32BE(r),r+=4,t=e.slice(r,r+n),r+=n,i.mechanisms=t,n=e.readUInt32BE(r),r+=4,t=e.slice(r,r+n),r+=n,i.locales=t,i}function i(e,n){var r,i=0,o=null,s=0,a=0;if(o=n.serverProperties,void 0===o)throw new Error("Missing value for mandatory field 'serverProperties'");if("object"!=typeof o)throw new TypeError("Field 'serverProperties' is the wrong type; must be an object");r=St(Bt,o,a);var u=Bt.slice(a,a+r);if(a+=r,s+=u.length,o=n.mechanisms,void 0===o)o=t.from("PLAIN");else if(!t.isBuffer(o))throw new TypeError("Field 'mechanisms' is the wrong type; must be a Buffer");if(s+=o.length,o=n.locales,void 0===o)o=t.from("en_US");else if(!t.isBuffer(o))throw new TypeError("Field 'locales' is the wrong type; must be a Buffer");s+=o.length;var c=t.alloc(22+s);if(c[0]=1,c.writeUInt16BE(e,1),c.writeUInt32BE(655370,7),i=11,o=n.versionMajor,void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'versionMajor' is the wrong type; must be a number (but not NaN)");if(c.writeUInt8(o,i),i++,o=n.versionMinor,void 0===o)o=9;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'versionMinor' is the wrong type; must be a number (but not NaN)");return c.writeUInt8(o,i),i++,i+=u.copy(c,i),o=n.mechanisms,void 0===o&&(o=t.from("PLAIN")),r=o.length,c.writeUInt32BE(r,i),i+=4,o.copy(c,i),i+=r,o=n.locales,void 0===o&&(o=t.from("en_US")),r=o.length,c.writeUInt32BE(r,i),i+=4,o.copy(c,i),i+=r,c[i]=206,c.writeUInt32BE(i-7,3),c}function o(e){var t,n,r=0,i={clientProperties:void 0,mechanism:void 0,response:void 0,locale:void 0};return n=e.readUInt32BE(r),r+=4,t=Tt(e.slice(r,r+n)),r+=n,i.clientProperties=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.mechanism=t,n=e.readUInt32BE(r),r+=4,t=e.slice(r,r+n),r+=n,i.response=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.locale=t,i}function s(e,n){var r,i=0,o=null,s=0,a=0;if(o=n.clientProperties,void 0===o)throw new Error("Missing value for mandatory field 'clientProperties'");if("object"!=typeof o)throw new TypeError("Field 'clientProperties' is the wrong type; must be an object");r=St(Bt,o,a);var u=Bt.slice(a,a+r);if(a+=r,s+=u.length,o=n.mechanism,void 0===o)o="PLAIN";else if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'mechanism' is the wrong type; must be a string (up to 255 chars)");var c=t.byteLength(o,"utf8");if(s+=c,o=n.response,void 0===o)throw new Error("Missing value for mandatory field 'response'");if(!t.isBuffer(o))throw new TypeError("Field 'response' is the wrong type; must be a Buffer");if(s+=o.length,o=n.locale,void 0===o)o="en_US";else if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'locale' is the wrong type; must be a string (up to 255 chars)");var l=t.byteLength(o,"utf8");s+=l;var f=t.alloc(18+s);return f[0]=1,f.writeUInt16BE(e,1),f.writeUInt32BE(655371,7),i=11,i+=u.copy(f,i),o=n.mechanism,void 0===o&&(o="PLAIN"),f[i]=c,i++,f.write(o,i,"utf8"),i+=c,o=n.response,void 0===o&&(o=t.from(void 0)),r=o.length,f.writeUInt32BE(r,i),i+=4,o.copy(f,i),i+=r,o=n.locale,void 0===o&&(o="en_US"),f[i]=l,i++,f.write(o,i,"utf8"),i+=l,f[i]=206,f.writeUInt32BE(i-7,3),f}function a(e){var t,n,r=0,i={challenge:void 0};return n=e.readUInt32BE(r),r+=4,t=e.slice(r,r+n),r+=n,i.challenge=t,i}function u(e,n){var r,i=0,o=null,s=0;if(o=n.challenge,void 0===o)throw new Error("Missing value for mandatory field 'challenge'");if(!t.isBuffer(o))throw new TypeError("Field 'challenge' is the wrong type; must be a Buffer");s+=o.length;var a=t.alloc(16+s);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(655380,7),i=11,o=n.challenge,void 0===o&&(o=t.from(void 0)),r=o.length,a.writeUInt32BE(r,i),i+=4,o.copy(a,i),i+=r,a[i]=206,a.writeUInt32BE(i-7,3),a}function c(e){var t,n,r=0,i={response:void 0};return n=e.readUInt32BE(r),r+=4,t=e.slice(r,r+n),r+=n,i.response=t,i}function l(e,n){var r,i=0,o=null,s=0;if(o=n.response,void 0===o)throw new Error("Missing value for mandatory field 'response'");if(!t.isBuffer(o))throw new TypeError("Field 'response' is the wrong type; must be a Buffer");s+=o.length;var a=t.alloc(16+s);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(655381,7),i=11,o=n.response,void 0===o&&(o=t.from(void 0)),r=o.length,a.writeUInt32BE(r,i),i+=4,o.copy(a,i),i+=r,a[i]=206,a.writeUInt32BE(i-7,3),a}function f(e){var t,n=0,r={channelMax:void 0,frameMax:void 0,heartbeat:void 0};return t=e.readUInt16BE(n),n+=2,r.channelMax=t,t=e.readUInt32BE(n),n+=4,r.frameMax=t,t=e.readUInt16BE(n),n+=2,r.heartbeat=t,r}function h(e,n){var r=0,i=null,o=0,s=t.alloc(20+o);if(s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(655390,7),r=11,i=n.channelMax,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'channelMax' is the wrong type; must be a number (but not NaN)");if(s.writeUInt16BE(i,r),r+=2,i=n.frameMax,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'frameMax' is the wrong type; must be a number (but not NaN)");if(s.writeUInt32BE(i,r),r+=4,i=n.heartbeat,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'heartbeat' is the wrong type; must be a number (but not NaN)");return s.writeUInt16BE(i,r),r+=2,s[r]=206,s.writeUInt32BE(r-7,3),s}function p(e){var t,n=0,r={channelMax:void 0,frameMax:void 0,heartbeat:void 0};return t=e.readUInt16BE(n),n+=2,r.channelMax=t,t=e.readUInt32BE(n),n+=4,r.frameMax=t,t=e.readUInt16BE(n),n+=2,r.heartbeat=t,r}function d(e,n){var r=0,i=null,o=0,s=t.alloc(20+o);if(s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(655391,7),r=11,i=n.channelMax,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'channelMax' is the wrong type; must be a number (but not NaN)");if(s.writeUInt16BE(i,r),r+=2,i=n.frameMax,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'frameMax' is the wrong type; must be a number (but not NaN)");if(s.writeUInt32BE(i,r),r+=4,i=n.heartbeat,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'heartbeat' is the wrong type; must be a number (but not NaN)");return s.writeUInt16BE(i,r),r+=2,s[r]=206,s.writeUInt32BE(r-7,3),s}function v(e){var t,n,r=0,i={virtualHost:void 0,capabilities:void 0,insist:void 0};return n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.virtualHost=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.capabilities=t,t=!!(1&e[r]),i.insist=t,i}function g(e,n){var r=0,i=null,o=0,s=0;if(i=n.virtualHost,void 0===i)i="/";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'virtualHost' is the wrong type; must be a string (up to 255 chars)");var a=t.byteLength(i,"utf8");if(s+=a,i=n.capabilities,void 0===i)i="";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'capabilities' is the wrong type; must be a string (up to 255 chars)");var u=t.byteLength(i,"utf8");s+=u;var c=t.alloc(15+s);return c[0]=1,c.writeUInt16BE(e,1),c.writeUInt32BE(655400,7),r=11,i=n.virtualHost,void 0===i&&(i="/"),c[r]=a,r++,c.write(i,r,"utf8"),r+=a,i=n.capabilities,void 0===i&&(i=""),c[r]=u,r++,c.write(i,r,"utf8"),r+=u,i=n.insist,void 0===i&&(i=!1),i&&(o+=1),c[r]=o,r++,c[r]=206,c.writeUInt32BE(r-7,3),c}function y(e){var t,n,r=0,i={knownHosts:void 0};return n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.knownHosts=t,i}function m(e,n){var r=0,i=null,o=0;if(i=n.knownHosts,void 0===i)i="";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'knownHosts' is the wrong type; must be a string (up to 255 chars)");var s=t.byteLength(i,"utf8");o+=s;var a=t.alloc(13+o);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(655401,7),r=11,i=n.knownHosts,void 0===i&&(i=""),a[r]=s,r++,a.write(i,r,"utf8"),r+=s,a[r]=206,a.writeUInt32BE(r-7,3),a}function b(e){var t,n,r=0,i={replyCode:void 0,replyText:void 0,classId:void 0,methodId:void 0};return t=e.readUInt16BE(r),r+=2,i.replyCode=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.replyText=t,t=e.readUInt16BE(r),r+=2,i.classId=t,t=e.readUInt16BE(r),r+=2,i.methodId=t,i}function _(e,n){var r=0,i=null,o=0;if(i=n.replyText,void 0===i)i="";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'replyText' is the wrong type; must be a string (up to 255 chars)");var s=t.byteLength(i,"utf8");o+=s;var a=t.alloc(19+o);if(a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(655410,7),r=11,i=n.replyCode,void 0===i)throw new Error("Missing value for mandatory field 'replyCode'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'replyCode' is the wrong type; must be a number (but not NaN)");if(a.writeUInt16BE(i,r),r+=2,i=n.replyText,void 0===i&&(i=""),a[r]=s,r++,a.write(i,r,"utf8"),r+=s,i=n.classId,void 0===i)throw new Error("Missing value for mandatory field 'classId'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'classId' is the wrong type; must be a number (but not NaN)");if(a.writeUInt16BE(i,r),r+=2,i=n.methodId,void 0===i)throw new Error("Missing value for mandatory field 'methodId'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'methodId' is the wrong type; must be a number (but not NaN)");return a.writeUInt16BE(i,r),r+=2,a[r]=206,a.writeUInt32BE(r-7,3),a}function w(e){var t={};return t}function E(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(655411,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function x(e){var t,n,r=0,i={reason:void 0};return n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.reason=t,i}function k(e,n){var r=0,i=null,o=0;if(i=n.reason,void 0===i)i="";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'reason' is the wrong type; must be a string (up to 255 chars)");var s=t.byteLength(i,"utf8");o+=s;var a=t.alloc(13+o);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(655420,7),r=11,i=n.reason,void 0===i&&(i=""),a[r]=s,r++,a.write(i,r,"utf8"),r+=s,a[r]=206,a.writeUInt32BE(r-7,3),a}function I(e){var t={};return t}function C(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(655421,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function S(e){var t,n,r=0,i={outOfBand:void 0};return n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.outOfBand=t,i}function T(e,n){var r=0,i=null,o=0;if(i=n.outOfBand,void 0===i)i="";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'outOfBand' is the wrong type; must be a string (up to 255 chars)");var s=t.byteLength(i,"utf8");o+=s;var a=t.alloc(13+o);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(1310730,7),r=11,i=n.outOfBand,void 0===i&&(i=""),a[r]=s,r++,a.write(i,r,"utf8"),r+=s,a[r]=206,a.writeUInt32BE(r-7,3),a}function B(e){var t,n,r=0,i={channelId:void 0};return n=e.readUInt32BE(r),r+=4,t=e.slice(r,r+n),r+=n,i.channelId=t,i}function U(e,n){var r,i=0,o=null,s=0;if(o=n.channelId,void 0===o)o=t.from("");else if(!t.isBuffer(o))throw new TypeError("Field 'channelId' is the wrong type; must be a Buffer");s+=o.length;var a=t.alloc(16+s);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(1310731,7),i=11,o=n.channelId,void 0===o&&(o=t.from("")),r=o.length,a.writeUInt32BE(r,i),i+=4,o.copy(a,i),i+=r,a[i]=206,a.writeUInt32BE(i-7,3),a}function O(e){var t,n=0,r={active:void 0};return t=!!(1&e[n]),r.active=t,r}function j(e,n){var r=0,i=null,o=0,s=0,a=t.alloc(13+s);if(a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(1310740,7),r=11,i=n.active,void 0===i)throw new Error("Missing value for mandatory field 'active'");return i&&(o+=1),a[r]=o,r++,a[r]=206,a.writeUInt32BE(r-7,3),a}function A(e){var t,n=0,r={active:void 0};return t=!!(1&e[n]),r.active=t,r}function R(e,n){var r=0,i=null,o=0,s=0,a=t.alloc(13+s);if(a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(1310741,7),r=11,i=n.active,void 0===i)throw new Error("Missing value for mandatory field 'active'");return i&&(o+=1),a[r]=o,r++,a[r]=206,a.writeUInt32BE(r-7,3),a}function F(e){var t,n,r=0,i={replyCode:void 0,replyText:void 0,classId:void 0,methodId:void 0};return t=e.readUInt16BE(r),r+=2,i.replyCode=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.replyText=t,t=e.readUInt16BE(r),r+=2,i.classId=t,t=e.readUInt16BE(r),r+=2,i.methodId=t,i}function P(e,n){var r=0,i=null,o=0;if(i=n.replyText,void 0===i)i="";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'replyText' is the wrong type; must be a string (up to 255 chars)");var s=t.byteLength(i,"utf8");o+=s;var a=t.alloc(19+o);if(a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(1310760,7),r=11,i=n.replyCode,void 0===i)throw new Error("Missing value for mandatory field 'replyCode'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'replyCode' is the wrong type; must be a number (but not NaN)");if(a.writeUInt16BE(i,r),r+=2,i=n.replyText,void 0===i&&(i=""),a[r]=s,r++,a.write(i,r,"utf8"),r+=s,i=n.classId,void 0===i)throw new Error("Missing value for mandatory field 'classId'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'classId' is the wrong type; must be a number (but not NaN)");if(a.writeUInt16BE(i,r),r+=2,i=n.methodId,void 0===i)throw new Error("Missing value for mandatory field 'methodId'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'methodId' is the wrong type; must be a number (but not NaN)");return a.writeUInt16BE(i,r),r+=2,a[r]=206,a.writeUInt32BE(r-7,3),a}function L(e){var t={};return t}function M(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(1310761,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function N(e){var t,n,r=0,i={realm:void 0,exclusive:void 0,passive:void 0,active:void 0,write:void 0,read:void 0};return n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.realm=t,t=!!(1&e[r]),i.exclusive=t,t=!!(2&e[r]),i.passive=t,t=!!(4&e[r]),i.active=t,t=!!(8&e[r]),i.write=t,t=!!(16&e[r]),i.read=t,i}function D(e,n){var r=0,i=null,o=0,s=0;if(i=n.realm,void 0===i)i="/data";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'realm' is the wrong type; must be a string (up to 255 chars)");var a=t.byteLength(i,"utf8");s+=a;var u=t.alloc(14+s);return u[0]=1,u.writeUInt16BE(e,1),u.writeUInt32BE(1966090,7),r=11,i=n.realm,void 0===i&&(i="/data"),u[r]=a,r++,u.write(i,r,"utf8"),r+=a,i=n.exclusive,void 0===i&&(i=!1),i&&(o+=1),i=n.passive,void 0===i&&(i=!0),i&&(o+=2),i=n.active,void 0===i&&(i=!0),i&&(o+=4),i=n.write,void 0===i&&(i=!0),i&&(o+=8),i=n.read,void 0===i&&(i=!0),i&&(o+=16),u[r]=o,r++,u[r]=206,u.writeUInt32BE(r-7,3),u}function q(e){var t,n=0,r={ticket:void 0};return t=e.readUInt16BE(n),n+=2,r.ticket=t,r}function z(e,n){var r=0,i=null,o=0,s=t.alloc(14+o);if(s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(1966091,7),r=11,i=n.ticket,void 0===i)i=1;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return s.writeUInt16BE(i,r),r+=2,s[r]=206,s.writeUInt32BE(r-7,3),s}function H(e){var t,n,r=0,i={ticket:void 0,exchange:void 0,type:void 0,passive:void 0,durable:void 0,autoDelete:void 0,internal:void 0,nowait:void 0,arguments:void 0};return t=e.readUInt16BE(r),r+=2,i.ticket=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.exchange=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.type=t,t=!!(1&e[r]),i.passive=t,t=!!(2&e[r]),i.durable=t,t=!!(4&e[r]),i.autoDelete=t,t=!!(8&e[r]),i.internal=t,t=!!(16&e[r]),i.nowait=t,r++,n=e.readUInt32BE(r),r+=4,t=Tt(e.slice(r,r+n)),r+=n,i.arguments=t,i}function Q(e,n){var r,i=0,o=null,s=0,a=0,u=0;if(o=n.exchange,void 0===o)throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var c=t.byteLength(o,"utf8");if(a+=c,o=n.type,void 0===o)o="direct";else if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'type' is the wrong type; must be a string (up to 255 chars)");var l=t.byteLength(o,"utf8");if(a+=l,o=n.arguments,void 0===o)o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");r=St(Bt,o,u);var f=Bt.slice(u,u+r);u+=r,a+=f.length;var h=t.alloc(17+a);if(h[0]=1,h.writeUInt16BE(e,1),h.writeUInt32BE(2621450,7),i=11,o=n.ticket,void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return h.writeUInt16BE(o,i),i+=2,o=n.exchange,void 0===o&&(o=void 0),h[i]=c,i++,h.write(o,i,"utf8"),i+=c,o=n.type,void 0===o&&(o="direct"),h[i]=l,i++,h.write(o,i,"utf8"),i+=l,o=n.passive,void 0===o&&(o=!1),o&&(s+=1),o=n.durable,void 0===o&&(o=!1),o&&(s+=2),o=n.autoDelete,void 0===o&&(o=!1),o&&(s+=4),o=n.internal,void 0===o&&(o=!1),o&&(s+=8),o=n.nowait,void 0===o&&(o=!1),o&&(s+=16),h[i]=s,i++,s=0,i+=f.copy(h,i),h[i]=206,h.writeUInt32BE(i-7,3),h}function W(e){var t={};return t}function K(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(2621451,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function V(e){var t,n,r=0,i={ticket:void 0,exchange:void 0,ifUnused:void 0,nowait:void 0};return t=e.readUInt16BE(r),r+=2,i.ticket=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.exchange=t,t=!!(1&e[r]),i.ifUnused=t,t=!!(2&e[r]),i.nowait=t,i}function G(e,n){var r=0,i=null,o=0,s=0;if(i=n.exchange,void 0===i)throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var a=t.byteLength(i,"utf8");s+=a;var u=t.alloc(16+s);if(u[0]=1,u.writeUInt16BE(e,1),u.writeUInt32BE(2621460,7),r=11,i=n.ticket,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return u.writeUInt16BE(i,r),r+=2,i=n.exchange,void 0===i&&(i=void 0),u[r]=a,r++,u.write(i,r,"utf8"),r+=a,i=n.ifUnused,void 0===i&&(i=!1),i&&(o+=1),i=n.nowait,void 0===i&&(i=!1),i&&(o+=2),u[r]=o,r++,u[r]=206,u.writeUInt32BE(r-7,3),u}function Y(e){var t={};return t}function $(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(2621461,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function X(e){var t,n,r=0,i={ticket:void 0,destination:void 0,source:void 0,routingKey:void 0,nowait:void 0,arguments:void 0};return t=e.readUInt16BE(r),r+=2,i.ticket=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.destination=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.source=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.routingKey=t,t=!!(1&e[r]),i.nowait=t,r++,n=e.readUInt32BE(r),r+=4,t=Tt(e.slice(r,r+n)),r+=n,i.arguments=t,i}function J(e,n){var r,i=0,o=null,s=0,a=0,u=0;if(o=n.destination,void 0===o)throw new Error("Missing value for mandatory field 'destination'");if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'destination' is the wrong type; must be a string (up to 255 chars)");var c=t.byteLength(o,"utf8");if(a+=c,o=n.source,void 0===o)throw new Error("Missing value for mandatory field 'source'");if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'source' is the wrong type; must be a string (up to 255 chars)");var l=t.byteLength(o,"utf8");if(a+=l,o=n.routingKey,void 0===o)o="";else if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var f=t.byteLength(o,"utf8");if(a+=f,o=n.arguments,void 0===o)o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");r=St(Bt,o,u);var h=Bt.slice(u,u+r);u+=r,a+=h.length;var p=t.alloc(18+a);if(p[0]=1,p.writeUInt16BE(e,1),p.writeUInt32BE(2621470,7),i=11,o=n.ticket,void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return p.writeUInt16BE(o,i),i+=2,o=n.destination,void 0===o&&(o=void 0),p[i]=c,i++,p.write(o,i,"utf8"),i+=c,o=n.source,void 0===o&&(o=void 0),p[i]=l,i++,p.write(o,i,"utf8"),i+=l,o=n.routingKey,void 0===o&&(o=""),p[i]=f,i++,p.write(o,i,"utf8"),i+=f,o=n.nowait,void 0===o&&(o=!1),o&&(s+=1),p[i]=s,i++,s=0,i+=h.copy(p,i),p[i]=206,p.writeUInt32BE(i-7,3),p}function Z(e){var t={};return t}function ee(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(2621471,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function te(e){var t,n,r=0,i={ticket:void 0,destination:void 0,source:void 0,routingKey:void 0,nowait:void 0,arguments:void 0};return t=e.readUInt16BE(r),r+=2,i.ticket=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.destination=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.source=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.routingKey=t,t=!!(1&e[r]),i.nowait=t,r++,n=e.readUInt32BE(r),r+=4,t=Tt(e.slice(r,r+n)),r+=n,i.arguments=t,i}function ne(e,n){var r,i=0,o=null,s=0,a=0,u=0;if(o=n.destination,void 0===o)throw new Error("Missing value for mandatory field 'destination'");if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'destination' is the wrong type; must be a string (up to 255 chars)");var c=t.byteLength(o,"utf8");if(a+=c,o=n.source,void 0===o)throw new Error("Missing value for mandatory field 'source'");if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'source' is the wrong type; must be a string (up to 255 chars)");var l=t.byteLength(o,"utf8");if(a+=l,o=n.routingKey,void 0===o)o="";else if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var f=t.byteLength(o,"utf8");if(a+=f,o=n.arguments,void 0===o)o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");r=St(Bt,o,u);var h=Bt.slice(u,u+r);u+=r,a+=h.length;var p=t.alloc(18+a);if(p[0]=1,p.writeUInt16BE(e,1),p.writeUInt32BE(2621480,7),i=11,o=n.ticket,void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return p.writeUInt16BE(o,i),i+=2,o=n.destination,void 0===o&&(o=void 0),p[i]=c,i++,p.write(o,i,"utf8"),i+=c,o=n.source,void 0===o&&(o=void 0),p[i]=l,i++,p.write(o,i,"utf8"),i+=l,o=n.routingKey,void 0===o&&(o=""),p[i]=f,i++,p.write(o,i,"utf8"),i+=f,o=n.nowait,void 0===o&&(o=!1),o&&(s+=1),p[i]=s,i++,s=0,i+=h.copy(p,i),p[i]=206,p.writeUInt32BE(i-7,3),p}function re(e){var t={};return t}function ie(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(2621491,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function oe(e){var t,n,r=0,i={ticket:void 0,queue:void 0,passive:void 0,durable:void 0,exclusive:void 0,autoDelete:void 0,nowait:void 0,arguments:void 0};return t=e.readUInt16BE(r),r+=2,i.ticket=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.queue=t,t=!!(1&e[r]),i.passive=t,t=!!(2&e[r]),i.durable=t,t=!!(4&e[r]),i.exclusive=t,t=!!(8&e[r]),i.autoDelete=t,t=!!(16&e[r]),i.nowait=t,r++,n=e.readUInt32BE(r),r+=4,t=Tt(e.slice(r,r+n)),r+=n,i.arguments=t,i}function se(e,n){var r,i=0,o=null,s=0,a=0,u=0;if(o=n.queue,void 0===o)o="";else if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var c=t.byteLength(o,"utf8");if(a+=c,o=n.arguments,void 0===o)o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");r=St(Bt,o,u);var l=Bt.slice(u,u+r);u+=r,a+=l.length;var f=t.alloc(16+a);if(f[0]=1,f.writeUInt16BE(e,1),f.writeUInt32BE(3276810,7),i=11,o=n.ticket,void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return f.writeUInt16BE(o,i),i+=2,o=n.queue,void 0===o&&(o=""),f[i]=c,i++,f.write(o,i,"utf8"),i+=c,o=n.passive,void 0===o&&(o=!1),o&&(s+=1),o=n.durable,void 0===o&&(o=!1),o&&(s+=2),o=n.exclusive,void 0===o&&(o=!1),o&&(s+=4),o=n.autoDelete,void 0===o&&(o=!1),o&&(s+=8),o=n.nowait,void 0===o&&(o=!1),o&&(s+=16),f[i]=s,i++,s=0,i+=l.copy(f,i),f[i]=206,f.writeUInt32BE(i-7,3),f}function ae(e){var t,n,r=0,i={queue:void 0,messageCount:void 0,consumerCount:void 0};return n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.queue=t,t=e.readUInt32BE(r),r+=4,i.messageCount=t,t=e.readUInt32BE(r),r+=4,i.consumerCount=t,i}function ue(e,n){var r=0,i=null,o=0;if(i=n.queue,void 0===i)throw new Error("Missing value for mandatory field 'queue'");if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var s=t.byteLength(i,"utf8");o+=s;var a=t.alloc(21+o);if(a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(3276811,7),r=11,i=n.queue,void 0===i&&(i=void 0),a[r]=s,r++,a.write(i,r,"utf8"),r+=s,i=n.messageCount,void 0===i)throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");if(a.writeUInt32BE(i,r),r+=4,i=n.consumerCount,void 0===i)throw new Error("Missing value for mandatory field 'consumerCount'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'consumerCount' is the wrong type; must be a number (but not NaN)");return a.writeUInt32BE(i,r),r+=4,a[r]=206,a.writeUInt32BE(r-7,3),a}function ce(e){var t,n,r=0,i={ticket:void 0,queue:void 0,exchange:void 0,routingKey:void 0,nowait:void 0,arguments:void 0};return t=e.readUInt16BE(r),r+=2,i.ticket=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.queue=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.exchange=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.routingKey=t,t=!!(1&e[r]),i.nowait=t,r++,n=e.readUInt32BE(r),r+=4,t=Tt(e.slice(r,r+n)),r+=n,i.arguments=t,i}function le(e,n){var r,i=0,o=null,s=0,a=0,u=0;if(o=n.queue,void 0===o)o="";else if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var c=t.byteLength(o,"utf8");if(a+=c,o=n.exchange,void 0===o)throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var l=t.byteLength(o,"utf8");if(a+=l,o=n.routingKey,void 0===o)o="";else if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var f=t.byteLength(o,"utf8");if(a+=f,o=n.arguments,void 0===o)o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");r=St(Bt,o,u);var h=Bt.slice(u,u+r);u+=r,a+=h.length;var p=t.alloc(18+a);if(p[0]=1,p.writeUInt16BE(e,1),p.writeUInt32BE(3276820,7),i=11,o=n.ticket,void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return p.writeUInt16BE(o,i),i+=2,o=n.queue,void 0===o&&(o=""),p[i]=c,i++,p.write(o,i,"utf8"),i+=c,o=n.exchange,void 0===o&&(o=void 0),p[i]=l,i++,p.write(o,i,"utf8"),i+=l,o=n.routingKey,void 0===o&&(o=""),p[i]=f,i++,p.write(o,i,"utf8"),i+=f,o=n.nowait,void 0===o&&(o=!1),o&&(s+=1),p[i]=s,i++,s=0,i+=h.copy(p,i),p[i]=206,p.writeUInt32BE(i-7,3),p}function fe(e){var t={};return t}function he(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(3276821,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function pe(e){var t,n,r=0,i={ticket:void 0,queue:void 0,nowait:void 0};return t=e.readUInt16BE(r),r+=2,i.ticket=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.queue=t,t=!!(1&e[r]),i.nowait=t,i}function de(e,n){var r=0,i=null,o=0,s=0;if(i=n.queue,void 0===i)i="";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var a=t.byteLength(i,"utf8");s+=a;var u=t.alloc(16+s);if(u[0]=1,u.writeUInt16BE(e,1),u.writeUInt32BE(3276830,7),r=11,i=n.ticket,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return u.writeUInt16BE(i,r),r+=2,i=n.queue,void 0===i&&(i=""),u[r]=a,r++,u.write(i,r,"utf8"),r+=a,i=n.nowait,void 0===i&&(i=!1),i&&(o+=1),u[r]=o,r++,u[r]=206,u.writeUInt32BE(r-7,3),u}function ve(e){var t,n=0,r={messageCount:void 0};return t=e.readUInt32BE(n),n+=4,r.messageCount=t,r}function ge(e,n){var r=0,i=null,o=0,s=t.alloc(16+o);if(s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(3276831,7),r=11,i=n.messageCount,void 0===i)throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");return s.writeUInt32BE(i,r),r+=4,s[r]=206,s.writeUInt32BE(r-7,3),s}function ye(e){var t,n,r=0,i={ticket:void 0,queue:void 0,ifUnused:void 0,ifEmpty:void 0,nowait:void 0};return t=e.readUInt16BE(r),r+=2,i.ticket=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.queue=t,t=!!(1&e[r]),i.ifUnused=t,t=!!(2&e[r]),i.ifEmpty=t,t=!!(4&e[r]),i.nowait=t,i}function me(e,n){var r=0,i=null,o=0,s=0;if(i=n.queue,void 0===i)i="";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var a=t.byteLength(i,"utf8");s+=a;var u=t.alloc(16+s);if(u[0]=1,u.writeUInt16BE(e,1),u.writeUInt32BE(3276840,7),r=11,i=n.ticket,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return u.writeUInt16BE(i,r),r+=2,i=n.queue,void 0===i&&(i=""),u[r]=a,r++,u.write(i,r,"utf8"),r+=a,i=n.ifUnused,void 0===i&&(i=!1),i&&(o+=1),i=n.ifEmpty,void 0===i&&(i=!1),i&&(o+=2),i=n.nowait,void 0===i&&(i=!1),i&&(o+=4),u[r]=o,r++,u[r]=206,u.writeUInt32BE(r-7,3),u}function be(e){var t,n=0,r={messageCount:void 0};return t=e.readUInt32BE(n),n+=4,r.messageCount=t,r}function _e(e,n){var r=0,i=null,o=0,s=t.alloc(16+o);if(s[0]=1,s.writeUInt16BE(e,1),s.writeUInt32BE(3276841,7),r=11,i=n.messageCount,void 0===i)throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");return s.writeUInt32BE(i,r),r+=4,s[r]=206,s.writeUInt32BE(r-7,3),s}function we(e){var t,n,r=0,i={ticket:void 0,queue:void 0,exchange:void 0,routingKey:void 0,arguments:void 0};return t=e.readUInt16BE(r),r+=2,i.ticket=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.queue=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.exchange=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.routingKey=t,n=e.readUInt32BE(r),r+=4,t=Tt(e.slice(r,r+n)),r+=n,i.arguments=t,i}function Ee(e,n){var r,i=0,o=null,s=0,a=0;if(o=n.queue,void 0===o)o="";else if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var u=t.byteLength(o,"utf8");if(s+=u,o=n.exchange,void 0===o)throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var c=t.byteLength(o,"utf8");if(s+=c,o=n.routingKey,void 0===o)o="";else if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var l=t.byteLength(o,"utf8");if(s+=l,o=n.arguments,void 0===o)o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");r=St(Bt,o,a);var f=Bt.slice(a,a+r);a+=r,s+=f.length;var h=t.alloc(17+s);if(h[0]=1,h.writeUInt16BE(e,1),h.writeUInt32BE(3276850,7),
i=11,o=n.ticket,void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return h.writeUInt16BE(o,i),i+=2,o=n.queue,void 0===o&&(o=""),h[i]=u,i++,h.write(o,i,"utf8"),i+=u,o=n.exchange,void 0===o&&(o=void 0),h[i]=c,i++,h.write(o,i,"utf8"),i+=c,o=n.routingKey,void 0===o&&(o=""),h[i]=l,i++,h.write(o,i,"utf8"),i+=l,i+=f.copy(h,i),h[i]=206,h.writeUInt32BE(i-7,3),h}function xe(e){var t={};return t}function ke(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(3276851,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function Ie(e){var t,n=0,r={prefetchSize:void 0,prefetchCount:void 0,global:void 0};return t=e.readUInt32BE(n),n+=4,r.prefetchSize=t,t=e.readUInt16BE(n),n+=2,r.prefetchCount=t,t=!!(1&e[n]),r.global=t,r}function Ce(e,n){var r=0,i=null,o=0,s=0,a=t.alloc(19+s);if(a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(3932170,7),r=11,i=n.prefetchSize,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'prefetchSize' is the wrong type; must be a number (but not NaN)");if(a.writeUInt32BE(i,r),r+=4,i=n.prefetchCount,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'prefetchCount' is the wrong type; must be a number (but not NaN)");return a.writeUInt16BE(i,r),r+=2,i=n.global,void 0===i&&(i=!1),i&&(o+=1),a[r]=o,r++,a[r]=206,a.writeUInt32BE(r-7,3),a}function Se(e){var t={};return t}function Te(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(3932171,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function Be(e){var t,n,r=0,i={ticket:void 0,queue:void 0,consumerTag:void 0,noLocal:void 0,noAck:void 0,exclusive:void 0,nowait:void 0,arguments:void 0};return t=e.readUInt16BE(r),r+=2,i.ticket=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.queue=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.consumerTag=t,t=!!(1&e[r]),i.noLocal=t,t=!!(2&e[r]),i.noAck=t,t=!!(4&e[r]),i.exclusive=t,t=!!(8&e[r]),i.nowait=t,r++,n=e.readUInt32BE(r),r+=4,t=Tt(e.slice(r,r+n)),r+=n,i.arguments=t,i}function Ue(e,n){var r,i=0,o=null,s=0,a=0,u=0;if(o=n.queue,void 0===o)o="";else if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var c=t.byteLength(o,"utf8");if(a+=c,o=n.consumerTag,void 0===o)o="";else if(!("string"==typeof o&&t.byteLength(o)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var l=t.byteLength(o,"utf8");if(a+=l,o=n.arguments,void 0===o)o={};else if("object"!=typeof o)throw new TypeError("Field 'arguments' is the wrong type; must be an object");r=St(Bt,o,u);var f=Bt.slice(u,u+r);u+=r,a+=f.length;var h=t.alloc(17+a);if(h[0]=1,h.writeUInt16BE(e,1),h.writeUInt32BE(3932180,7),i=11,o=n.ticket,void 0===o)o=0;else if("number"!=typeof o||isNaN(o))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return h.writeUInt16BE(o,i),i+=2,o=n.queue,void 0===o&&(o=""),h[i]=c,i++,h.write(o,i,"utf8"),i+=c,o=n.consumerTag,void 0===o&&(o=""),h[i]=l,i++,h.write(o,i,"utf8"),i+=l,o=n.noLocal,void 0===o&&(o=!1),o&&(s+=1),o=n.noAck,void 0===o&&(o=!1),o&&(s+=2),o=n.exclusive,void 0===o&&(o=!1),o&&(s+=4),o=n.nowait,void 0===o&&(o=!1),o&&(s+=8),h[i]=s,i++,s=0,i+=f.copy(h,i),h[i]=206,h.writeUInt32BE(i-7,3),h}function Oe(e){var t,n,r=0,i={consumerTag:void 0};return n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.consumerTag=t,i}function je(e,n){var r=0,i=null,o=0;if(i=n.consumerTag,void 0===i)throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var s=t.byteLength(i,"utf8");o+=s;var a=t.alloc(13+o);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(3932181,7),r=11,i=n.consumerTag,void 0===i&&(i=void 0),a[r]=s,r++,a.write(i,r,"utf8"),r+=s,a[r]=206,a.writeUInt32BE(r-7,3),a}function Ae(e){var t,n,r=0,i={consumerTag:void 0,nowait:void 0};return n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.consumerTag=t,t=!!(1&e[r]),i.nowait=t,i}function Re(e,n){var r=0,i=null,o=0,s=0;if(i=n.consumerTag,void 0===i)throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var a=t.byteLength(i,"utf8");s+=a;var u=t.alloc(14+s);return u[0]=1,u.writeUInt16BE(e,1),u.writeUInt32BE(3932190,7),r=11,i=n.consumerTag,void 0===i&&(i=void 0),u[r]=a,r++,u.write(i,r,"utf8"),r+=a,i=n.nowait,void 0===i&&(i=!1),i&&(o+=1),u[r]=o,r++,u[r]=206,u.writeUInt32BE(r-7,3),u}function Fe(e){var t,n,r=0,i={consumerTag:void 0};return n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.consumerTag=t,i}function Pe(e,n){var r=0,i=null,o=0;if(i=n.consumerTag,void 0===i)throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var s=t.byteLength(i,"utf8");o+=s;var a=t.alloc(13+o);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(3932191,7),r=11,i=n.consumerTag,void 0===i&&(i=void 0),a[r]=s,r++,a.write(i,r,"utf8"),r+=s,a[r]=206,a.writeUInt32BE(r-7,3),a}function Le(e){var t,n,r=0,i={ticket:void 0,exchange:void 0,routingKey:void 0,mandatory:void 0,immediate:void 0};return t=e.readUInt16BE(r),r+=2,i.ticket=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.exchange=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.routingKey=t,t=!!(1&e[r]),i.mandatory=t,t=!!(2&e[r]),i.immediate=t,i}function Me(e,n){var r=0,i=null,o=0,s=0;if(i=n.exchange,void 0===i)i="";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var a=t.byteLength(i,"utf8");if(s+=a,i=n.routingKey,void 0===i)i="";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var u=t.byteLength(i,"utf8");s+=u;var c=t.alloc(17+s);if(c[0]=1,c.writeUInt16BE(e,1),c.writeUInt32BE(3932200,7),r=11,i=n.ticket,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return c.writeUInt16BE(i,r),r+=2,i=n.exchange,void 0===i&&(i=""),c[r]=a,r++,c.write(i,r,"utf8"),r+=a,i=n.routingKey,void 0===i&&(i=""),c[r]=u,r++,c.write(i,r,"utf8"),r+=u,i=n.mandatory,void 0===i&&(i=!1),i&&(o+=1),i=n.immediate,void 0===i&&(i=!1),i&&(o+=2),c[r]=o,r++,c[r]=206,c.writeUInt32BE(r-7,3),c}function Ne(e){var t,n,r=0,i={replyCode:void 0,replyText:void 0,exchange:void 0,routingKey:void 0};return t=e.readUInt16BE(r),r+=2,i.replyCode=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.replyText=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.exchange=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.routingKey=t,i}function De(e,n){var r=0,i=null,o=0;if(i=n.replyText,void 0===i)i="";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'replyText' is the wrong type; must be a string (up to 255 chars)");var s=t.byteLength(i,"utf8");if(o+=s,i=n.exchange,void 0===i)throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var a=t.byteLength(i,"utf8");if(o+=a,i=n.routingKey,void 0===i)throw new Error("Missing value for mandatory field 'routingKey'");if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var u=t.byteLength(i,"utf8");o+=u;var c=t.alloc(17+o);if(c[0]=1,c.writeUInt16BE(e,1),c.writeUInt32BE(3932210,7),r=11,i=n.replyCode,void 0===i)throw new Error("Missing value for mandatory field 'replyCode'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'replyCode' is the wrong type; must be a number (but not NaN)");return c.writeUInt16BE(i,r),r+=2,i=n.replyText,void 0===i&&(i=""),c[r]=s,r++,c.write(i,r,"utf8"),r+=s,i=n.exchange,void 0===i&&(i=void 0),c[r]=a,r++,c.write(i,r,"utf8"),r+=a,i=n.routingKey,void 0===i&&(i=void 0),c[r]=u,r++,c.write(i,r,"utf8"),r+=u,c[r]=206,c.writeUInt32BE(r-7,3),c}function qe(e){var t,n,r=0,i={consumerTag:void 0,deliveryTag:void 0,redelivered:void 0,exchange:void 0,routingKey:void 0};return n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.consumerTag=t,t=Ct.readUInt64BE(e,r),r+=8,i.deliveryTag=t,t=!!(1&e[r]),i.redelivered=t,r++,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.exchange=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.routingKey=t,i}function ze(e,n){var r=0,i=null,o=0,s=0;if(i=n.consumerTag,void 0===i)throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var a=t.byteLength(i,"utf8");if(s+=a,i=n.exchange,void 0===i)throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var u=t.byteLength(i,"utf8");if(s+=u,i=n.routingKey,void 0===i)throw new Error("Missing value for mandatory field 'routingKey'");if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var c=t.byteLength(i,"utf8");s+=c;var l=t.alloc(24+s);if(l[0]=1,l.writeUInt16BE(e,1),l.writeUInt32BE(3932220,7),r=11,i=n.consumerTag,void 0===i&&(i=void 0),l[r]=a,r++,l.write(i,r,"utf8"),r+=a,i=n.deliveryTag,void 0===i)throw new Error("Missing value for mandatory field 'deliveryTag'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");return Ct.writeUInt64BE(l,i,r),r+=8,i=n.redelivered,void 0===i&&(i=!1),i&&(o+=1),l[r]=o,r++,o=0,i=n.exchange,void 0===i&&(i=void 0),l[r]=u,r++,l.write(i,r,"utf8"),r+=u,i=n.routingKey,void 0===i&&(i=void 0),l[r]=c,r++,l.write(i,r,"utf8"),r+=c,l[r]=206,l.writeUInt32BE(r-7,3),l}function He(e){var t,n,r=0,i={ticket:void 0,queue:void 0,noAck:void 0};return t=e.readUInt16BE(r),r+=2,i.ticket=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.queue=t,t=!!(1&e[r]),i.noAck=t,i}function Qe(e,n){var r=0,i=null,o=0,s=0;if(i=n.queue,void 0===i)i="";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var a=t.byteLength(i,"utf8");s+=a;var u=t.alloc(16+s);if(u[0]=1,u.writeUInt16BE(e,1),u.writeUInt32BE(3932230,7),r=11,i=n.ticket,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return u.writeUInt16BE(i,r),r+=2,i=n.queue,void 0===i&&(i=""),u[r]=a,r++,u.write(i,r,"utf8"),r+=a,i=n.noAck,void 0===i&&(i=!1),i&&(o+=1),u[r]=o,r++,u[r]=206,u.writeUInt32BE(r-7,3),u}function We(e){var t,n,r=0,i={deliveryTag:void 0,redelivered:void 0,exchange:void 0,routingKey:void 0,messageCount:void 0};return t=Ct.readUInt64BE(e,r),r+=8,i.deliveryTag=t,t=!!(1&e[r]),i.redelivered=t,r++,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.exchange=t,n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.routingKey=t,t=e.readUInt32BE(r),r+=4,i.messageCount=t,i}function Ke(e,n){var r=0,i=null,o=0,s=0;if(i=n.exchange,void 0===i)throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var a=t.byteLength(i,"utf8");if(s+=a,i=n.routingKey,void 0===i)throw new Error("Missing value for mandatory field 'routingKey'");if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var u=t.byteLength(i,"utf8");s+=u;var c=t.alloc(27+s);if(c[0]=1,c.writeUInt16BE(e,1),c.writeUInt32BE(3932231,7),r=11,i=n.deliveryTag,void 0===i)throw new Error("Missing value for mandatory field 'deliveryTag'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");if(Ct.writeUInt64BE(c,i,r),r+=8,i=n.redelivered,void 0===i&&(i=!1),i&&(o+=1),c[r]=o,r++,o=0,i=n.exchange,void 0===i&&(i=void 0),c[r]=a,r++,c.write(i,r,"utf8"),r+=a,i=n.routingKey,void 0===i&&(i=void 0),c[r]=u,r++,c.write(i,r,"utf8"),r+=u,i=n.messageCount,void 0===i)throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");return c.writeUInt32BE(i,r),r+=4,c[r]=206,c.writeUInt32BE(r-7,3),c}function Ve(e){var t,n,r=0,i={clusterId:void 0};return n=e.readUInt8(r),r++,t=e.toString("utf8",r,r+n),r+=n,i.clusterId=t,i}function Ge(e,n){var r=0,i=null,o=0;if(i=n.clusterId,void 0===i)i="";else if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'clusterId' is the wrong type; must be a string (up to 255 chars)");var s=t.byteLength(i,"utf8");o+=s;var a=t.alloc(13+o);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(3932232,7),r=11,i=n.clusterId,void 0===i&&(i=""),a[r]=s,r++,a.write(i,r,"utf8"),r+=s,a[r]=206,a.writeUInt32BE(r-7,3),a}function Ye(e){var t,n=0,r={deliveryTag:void 0,multiple:void 0};return t=Ct.readUInt64BE(e,n),n+=8,r.deliveryTag=t,t=!!(1&e[n]),r.multiple=t,r}function $e(e,n){var r=0,i=null,o=0,s=0,a=t.alloc(21+s);if(a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(3932240,7),r=11,i=n.deliveryTag,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");return Ct.writeUInt64BE(a,i,r),r+=8,i=n.multiple,void 0===i&&(i=!1),i&&(o+=1),a[r]=o,r++,a[r]=206,a.writeUInt32BE(r-7,3),a}function Xe(e){var t,n=0,r={deliveryTag:void 0,requeue:void 0};return t=Ct.readUInt64BE(e,n),n+=8,r.deliveryTag=t,t=!!(1&e[n]),r.requeue=t,r}function Je(e,n){var r=0,i=null,o=0,s=0,a=t.alloc(21+s);if(a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(3932250,7),r=11,i=n.deliveryTag,void 0===i)throw new Error("Missing value for mandatory field 'deliveryTag'");if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");return Ct.writeUInt64BE(a,i,r),r+=8,i=n.requeue,void 0===i&&(i=!0),i&&(o+=1),a[r]=o,r++,a[r]=206,a.writeUInt32BE(r-7,3),a}function Ze(e){var t,n=0,r={requeue:void 0};return t=!!(1&e[n]),r.requeue=t,r}function et(e,n){var r=0,i=null,o=0,s=0,a=t.alloc(13+s);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(3932260,7),r=11,i=n.requeue,void 0===i&&(i=!1),i&&(o+=1),a[r]=o,r++,a[r]=206,a.writeUInt32BE(r-7,3),a}function tt(e){var t,n=0,r={requeue:void 0};return t=!!(1&e[n]),r.requeue=t,r}function nt(e,n){var r=0,i=null,o=0,s=0,a=t.alloc(13+s);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(3932270,7),r=11,i=n.requeue,void 0===i&&(i=!1),i&&(o+=1),a[r]=o,r++,a[r]=206,a.writeUInt32BE(r-7,3),a}function rt(e){var t={};return t}function it(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(3932271,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function ot(e){var t,n=0,r={deliveryTag:void 0,multiple:void 0,requeue:void 0};return t=Ct.readUInt64BE(e,n),n+=8,r.deliveryTag=t,t=!!(1&e[n]),r.multiple=t,t=!!(2&e[n]),r.requeue=t,r}function st(e,n){var r=0,i=null,o=0,s=0,a=t.alloc(21+s);if(a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(3932280,7),r=11,i=n.deliveryTag,void 0===i)i=0;else if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");return Ct.writeUInt64BE(a,i,r),r+=8,i=n.multiple,void 0===i&&(i=!1),i&&(o+=1),i=n.requeue,void 0===i&&(i=!0),i&&(o+=2),a[r]=o,r++,a[r]=206,a.writeUInt32BE(r-7,3),a}function at(e){var t={};return t}function ut(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(5898250,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function ct(e){var t={};return t}function lt(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(5898251,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function ft(e){var t={};return t}function ht(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(5898260,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function pt(e){var t={};return t}function dt(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(5898261,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function vt(e){var t={};return t}function gt(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(5898270,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function yt(e){var t={};return t}function mt(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(5898271,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function bt(e){var t,n=0,r={nowait:void 0};return t=!!(1&e[n]),r.nowait=t,r}function _t(e,n){var r=0,i=null,o=0,s=0,a=t.alloc(13+s);return a[0]=1,a.writeUInt16BE(e,1),a.writeUInt32BE(5570570,7),r=11,i=n.nowait,void 0===i&&(i=!1),i&&(o+=1),a[r]=o,r++,a[r]=206,a.writeUInt32BE(r-7,3),a}function wt(e){var t={};return t}function Et(e,n){var r=0,i=0,o=t.alloc(12+i);return o[0]=1,o.writeUInt16BE(e,1),o.writeUInt32BE(5570571,7),r=11,o[r]=206,o.writeUInt32BE(r-7,3),o}function xt(e,n,r){var i,o,s=0,a=0,u=0,c=0;if(i=r.contentType,void 0!=i){if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'contentType' is the wrong type; must be a string (up to 255 chars)");var l=t.byteLength(i,"utf8");c+=1,c+=l}if(i=r.contentEncoding,void 0!=i){if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'contentEncoding' is the wrong type; must be a string (up to 255 chars)");var f=t.byteLength(i,"utf8");c+=1,c+=f}if(i=r.headers,void 0!=i){if("object"!=typeof i)throw new TypeError("Field 'headers' is the wrong type; must be an object");o=St(Bt,i,u);var h=Bt.slice(u,u+o);u+=o,c+=h.length}if(i=r.deliveryMode,void 0!=i){if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'deliveryMode' is the wrong type; must be a number (but not NaN)");c+=1}if(i=r.priority,void 0!=i){if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'priority' is the wrong type; must be a number (but not NaN)");c+=1}if(i=r.correlationId,void 0!=i){if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'correlationId' is the wrong type; must be a string (up to 255 chars)");var p=t.byteLength(i,"utf8");c+=1,c+=p}if(i=r.replyTo,void 0!=i){if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'replyTo' is the wrong type; must be a string (up to 255 chars)");var d=t.byteLength(i,"utf8");c+=1,c+=d}if(i=r.expiration,void 0!=i){if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'expiration' is the wrong type; must be a string (up to 255 chars)");var v=t.byteLength(i,"utf8");c+=1,c+=v}if(i=r.messageId,void 0!=i){if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'messageId' is the wrong type; must be a string (up to 255 chars)");var g=t.byteLength(i,"utf8");c+=1,c+=g}if(i=r.timestamp,void 0!=i){if("number"!=typeof i||isNaN(i))throw new TypeError("Field 'timestamp' is the wrong type; must be a number (but not NaN)");c+=8}if(i=r.type,void 0!=i){if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'type' is the wrong type; must be a string (up to 255 chars)");var y=t.byteLength(i,"utf8");c+=1,c+=y}if(i=r.userId,void 0!=i){if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'userId' is the wrong type; must be a string (up to 255 chars)");var m=t.byteLength(i,"utf8");c+=1,c+=m}if(i=r.appId,void 0!=i){if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'appId' is the wrong type; must be a string (up to 255 chars)");var b=t.byteLength(i,"utf8");c+=1,c+=b}if(i=r.clusterId,void 0!=i){if(!("string"==typeof i&&t.byteLength(i)<256))throw new TypeError("Field 'clusterId' is the wrong type; must be a string (up to 255 chars)");var _=t.byteLength(i,"utf8");c+=1,c+=_}var w=t.alloc(22+c);return w[0]=2,w.writeUInt16BE(e,1),w.writeUInt32BE(3932160,7),Ct.writeUInt64BE(w,n,11),a=0,s=21,i=r.contentType,void 0!=i&&(a+=32768,w[s]=l,s++,w.write(i,s,"utf8"),s+=l),i=r.contentEncoding,void 0!=i&&(a+=16384,w[s]=f,s++,w.write(i,s,"utf8"),s+=f),i=r.headers,void 0!=i&&(a+=8192,s+=h.copy(w,s)),i=r.deliveryMode,void 0!=i&&(a+=4096,w.writeUInt8(i,s),s++),i=r.priority,void 0!=i&&(a+=2048,w.writeUInt8(i,s),s++),i=r.correlationId,void 0!=i&&(a+=1024,w[s]=p,s++,w.write(i,s,"utf8"),s+=p),i=r.replyTo,void 0!=i&&(a+=512,w[s]=d,s++,w.write(i,s,"utf8"),s+=d),i=r.expiration,void 0!=i&&(a+=256,w[s]=v,s++,w.write(i,s,"utf8"),s+=v),i=r.messageId,void 0!=i&&(a+=128,w[s]=g,s++,w.write(i,s,"utf8"),s+=g),i=r.timestamp,void 0!=i&&(a+=64,Ct.writeUInt64BE(w,i,s),s+=8),i=r.type,void 0!=i&&(a+=32,w[s]=y,s++,w.write(i,s,"utf8"),s+=y),i=r.userId,void 0!=i&&(a+=16,w[s]=m,s++,w.write(i,s,"utf8"),s+=m),i=r.appId,void 0!=i&&(a+=8,w[s]=b,s++,w.write(i,s,"utf8"),s+=b),i=r.clusterId,void 0!=i&&(a+=4,w[s]=_,s++,w.write(i,s,"utf8"),s+=_),w[s]=206,w.writeUInt32BE(s-7,3),w.writeUInt16BE(a,19),w.slice(0,s+1)}function kt(e){var t,n,r,i=2;if(t=e.readUInt16BE(0),0===t)return{};var o={contentType:void 0,contentEncoding:void 0,headers:void 0,deliveryMode:void 0,priority:void 0,correlationId:void 0,replyTo:void 0,expiration:void 0,messageId:void 0,timestamp:void 0,type:void 0,userId:void 0,appId:void 0,clusterId:void 0};return 32768&t&&(r=e.readUInt8(i),i++,n=e.toString("utf8",i,i+r),i+=r,o.contentType=n),16384&t&&(r=e.readUInt8(i),i++,n=e.toString("utf8",i,i+r),i+=r,o.contentEncoding=n),8192&t&&(r=e.readUInt32BE(i),i+=4,n=Tt(e.slice(i,i+r)),i+=r,o.headers=n),4096&t&&(n=e[i],i++,o.deliveryMode=n),2048&t&&(n=e[i],i++,o.priority=n),1024&t&&(r=e.readUInt8(i),i++,n=e.toString("utf8",i,i+r),i+=r,o.correlationId=n),512&t&&(r=e.readUInt8(i),i++,n=e.toString("utf8",i,i+r),i+=r,o.replyTo=n),256&t&&(r=e.readUInt8(i),i++,n=e.toString("utf8",i,i+r),i+=r,o.expiration=n),128&t&&(r=e.readUInt8(i),i++,n=e.toString("utf8",i,i+r),i+=r,o.messageId=n),64&t&&(n=Ct.readUInt64BE(e,i),i+=8,o.timestamp=n),32&t&&(r=e.readUInt8(i),i++,n=e.toString("utf8",i,i+r),i+=r,o.type=n),16&t&&(r=e.readUInt8(i),i++,n=e.toString("utf8",i,i+r),i+=r,o.userId=n),8&t&&(r=e.readUInt8(i),i++,n=e.toString("utf8",i,i+r),i+=r,o.appId=n),4&t&&(r=e.readUInt8(i),i++,n=e.toString("utf8",i,i+r),i+=r,o.clusterId=n),o}var t=n(118).Buffer,It=n(119),Ct=n(120),St=It.encodeTable,Tt=It.decodeFields,Bt=t.alloc(16384);Object.freeze({});e.exports.constants={FRAME_METHOD:1,FRAME_HEADER:2,FRAME_BODY:3,FRAME_HEARTBEAT:8,FRAME_MIN_SIZE:4096,FRAME_END:206,REPLY_SUCCESS:200,CONTENT_TOO_LARGE:311,NO_ROUTE:312,NO_CONSUMERS:313,ACCESS_REFUSED:403,NOT_FOUND:404,RESOURCE_LOCKED:405,PRECONDITION_FAILED:406,CONNECTION_FORCED:320,INVALID_PATH:402,FRAME_ERROR:501,SYNTAX_ERROR:502,COMMAND_INVALID:503,CHANNEL_ERROR:504,UNEXPECTED_FRAME:505,RESOURCE_ERROR:506,NOT_ALLOWED:530,NOT_IMPLEMENTED:540,INTERNAL_ERROR:541},e.exports.constant_strs={1:"FRAME-METHOD",2:"FRAME-HEADER",3:"FRAME-BODY",8:"FRAME-HEARTBEAT",200:"REPLY-SUCCESS",206:"FRAME-END",311:"CONTENT-TOO-LARGE",312:"NO-ROUTE",313:"NO-CONSUMERS",320:"CONNECTION-FORCED",402:"INVALID-PATH",403:"ACCESS-REFUSED",404:"NOT-FOUND",405:"RESOURCE-LOCKED",406:"PRECONDITION-FAILED",501:"FRAME-ERROR",502:"SYNTAX-ERROR",503:"COMMAND-INVALID",504:"CHANNEL-ERROR",505:"UNEXPECTED-FRAME",506:"RESOURCE-ERROR",530:"NOT-ALLOWED",540:"NOT-IMPLEMENTED",541:"INTERNAL-ERROR",4096:"FRAME-MIN-SIZE"},e.exports.FRAME_OVERHEAD=8,e.exports.decode=function(e,t){switch(e){case 655370:return r(t);case 655371:return o(t);case 655380:return a(t);case 655381:return c(t);case 655390:return f(t);case 655391:return p(t);case 655400:return v(t);case 655401:return y(t);case 655410:return b(t);case 655411:return w(t);case 655420:return x(t);case 655421:return I(t);case 1310730:return S(t);case 1310731:return B(t);case 1310740:return O(t);case 1310741:return A(t);case 1310760:return F(t);case 1310761:return L(t);case 1966090:return N(t);case 1966091:return q(t);case 2621450:return H(t);case 2621451:return W(t);case 2621460:return V(t);case 2621461:return Y(t);case 2621470:return X(t);case 2621471:return Z(t);case 2621480:return te(t);case 2621491:return re(t);case 3276810:return oe(t);case 3276811:return ae(t);case 3276820:return ce(t);case 3276821:return fe(t);case 3276830:return pe(t);case 3276831:return ve(t);case 3276840:return ye(t);case 3276841:return be(t);case 3276850:return we(t);case 3276851:return xe(t);case 3932170:return Ie(t);case 3932171:return Se(t);case 3932180:return Be(t);case 3932181:return Oe(t);case 3932190:return Ae(t);case 3932191:return Fe(t);case 3932200:return Le(t);case 3932210:return Ne(t);case 3932220:return qe(t);case 3932230:return He(t);case 3932231:return We(t);case 3932232:return Ve(t);case 3932240:return Ye(t);case 3932250:return Xe(t);case 3932260:return Ze(t);case 3932270:return tt(t);case 3932271:return rt(t);case 3932280:return ot(t);case 5898250:return at(t);case 5898251:return ct(t);case 5898260:return ft(t);case 5898261:return pt(t);case 5898270:return vt(t);case 5898271:return yt(t);case 5570570:return bt(t);case 5570571:return wt(t);case 60:return kt(t);default:throw new Error("Unknown class/method ID")}},e.exports.encodeMethod=function(e,t,n){switch(e){case 655370:return i(t,n);case 655371:return s(t,n);case 655380:return u(t,n);case 655381:return l(t,n);case 655390:return h(t,n);case 655391:return d(t,n);case 655400:return g(t,n);case 655401:return m(t,n);case 655410:return _(t,n);case 655411:return E(t,n);case 655420:return k(t,n);case 655421:return C(t,n);case 1310730:return T(t,n);case 1310731:return U(t,n);case 1310740:return j(t,n);case 1310741:return R(t,n);case 1310760:return P(t,n);case 1310761:return M(t,n);case 1966090:return D(t,n);case 1966091:return z(t,n);case 2621450:return Q(t,n);case 2621451:return K(t,n);case 2621460:return G(t,n);case 2621461:return $(t,n);case 2621470:return J(t,n);case 2621471:return ee(t,n);case 2621480:return ne(t,n);case 2621491:return ie(t,n);case 3276810:return se(t,n);case 3276811:return ue(t,n);case 3276820:return le(t,n);case 3276821:return he(t,n);case 3276830:return de(t,n);case 3276831:return ge(t,n);case 3276840:return me(t,n);case 3276841:return _e(t,n);case 3276850:return Ee(t,n);case 3276851:return ke(t,n);case 3932170:return Ce(t,n);case 3932171:return Te(t,n);case 3932180:return Ue(t,n);case 3932181:return je(t,n);case 3932190:return Re(t,n);case 3932191:return Pe(t,n);case 3932200:return Me(t,n);case 3932210:return De(t,n);case 3932220:return ze(t,n);case 3932230:return Qe(t,n);case 3932231:return Ke(t,n);case 3932232:return Ge(t,n);case 3932240:return $e(t,n);case 3932250:return Je(t,n);case 3932260:return et(t,n);case 3932270:return nt(t,n);case 3932271:return it(t,n);case 3932280:return st(t,n);case 5898250:return ut(t,n);case 5898251:return lt(t,n);case 5898260:return ht(t,n);case 5898261:return dt(t,n);case 5898270:return gt(t,n);case 5898271:return mt(t,n);case 5570570:return _t(t,n);case 5570571:return Et(t,n);default:throw new Error("Unknown class/method ID")}},e.exports.encodeProperties=function(e,t,n,r){switch(e){case 60:return xt(t,n,r);default:throw new Error("Unknown class/properties ID")}},e.exports.info=function(e){switch(e){case 655370:return Ut;case 655371:return Ot;case 655380:return jt;case 655381:return At;case 655390:return Rt;case 655391:return Ft;case 655400:return Pt;case 655401:return Lt;case 655410:return Mt;case 655411:return Nt;case 655420:return Dt;case 655421:return qt;case 1310730:return zt;case 1310731:return Ht;case 1310740:return Qt;case 1310741:return Wt;case 1310760:return Kt;case 1310761:return Vt;case 1966090:return Gt;case 1966091:return Yt;case 2621450:return $t;case 2621451:return Xt;case 2621460:return Jt;case 2621461:return Zt;case 2621470:return en;case 2621471:return tn;case 2621480:return nn;case 2621491:return rn;case 3276810:return on;case 3276811:return sn;case 3276820:return an;case 3276821:return un;case 3276830:return cn;case 3276831:return ln;case 3276840:return fn;case 3276841:return hn;case 3276850:return pn;case 3276851:return dn;case 3932170:return vn;case 3932171:return gn;case 3932180:return yn;case 3932181:return mn;case 3932190:return bn;case 3932191:return _n;case 3932200:return wn;case 3932210:return En;case 3932220:return xn;case 3932230:return kn;case 3932231:return In;case 3932232:return Cn;case 3932240:return Sn;case 3932250:return Tn;case 3932260:return Bn;case 3932270:return Un;case 3932271:return On;case 3932280:return jn;case 5898250:return An;case 5898251:return Rn;case 5898260:return Fn;case 5898261:return Pn;case 5898270:return Ln;case 5898271:return Mn;case 5570570:return Nn;case 5570571:return Dn;case 60:return qn;default:throw new Error("Unknown class/method ID")}},e.exports.ConnectionStart=655370;var Ut=e.exports.methodInfoConnectionStart={id:655370,name:"ConnectionStart",args:[{type:"octet",name:"versionMajor","default":0},{type:"octet",name:"versionMinor","default":9},{type:"table",name:"serverProperties"},{type:"longstr",name:"mechanisms","default":"PLAIN"},{type:"longstr",name:"locales","default":"en_US"}]};e.exports.ConnectionStartOk=655371;var Ot=e.exports.methodInfoConnectionStartOk={id:655371,name:"ConnectionStartOk",args:[{type:"table",name:"clientProperties"},{type:"shortstr",name:"mechanism","default":"PLAIN"},{type:"longstr",name:"response"},{type:"shortstr",name:"locale","default":"en_US"}]};e.exports.ConnectionSecure=655380;var jt=e.exports.methodInfoConnectionSecure={id:655380,name:"ConnectionSecure",args:[{type:"longstr",name:"challenge"}]};e.exports.ConnectionSecureOk=655381;var At=e.exports.methodInfoConnectionSecureOk={id:655381,name:"ConnectionSecureOk",args:[{type:"longstr",name:"response"}]};e.exports.ConnectionTune=655390;var Rt=e.exports.methodInfoConnectionTune={id:655390,name:"ConnectionTune",args:[{type:"short",name:"channelMax","default":0},{type:"long",name:"frameMax","default":0},{type:"short",name:"heartbeat","default":0}]};e.exports.ConnectionTuneOk=655391;var Ft=e.exports.methodInfoConnectionTuneOk={id:655391,name:"ConnectionTuneOk",args:[{type:"short",name:"channelMax","default":0},{type:"long",name:"frameMax","default":0},{type:"short",name:"heartbeat","default":0}]};e.exports.ConnectionOpen=655400;var Pt=e.exports.methodInfoConnectionOpen={id:655400,name:"ConnectionOpen",args:[{type:"shortstr",name:"virtualHost","default":"/"},{type:"shortstr",name:"capabilities","default":""},{type:"bit",name:"insist","default":!1}]};e.exports.ConnectionOpenOk=655401;var Lt=e.exports.methodInfoConnectionOpenOk={id:655401,name:"ConnectionOpenOk",args:[{type:"shortstr",name:"knownHosts","default":""}]};e.exports.ConnectionClose=655410;var Mt=e.exports.methodInfoConnectionClose={id:655410,name:"ConnectionClose",args:[{type:"short",name:"replyCode"},{type:"shortstr",name:"replyText","default":""},{type:"short",name:"classId"},{type:"short",name:"methodId"}]};e.exports.ConnectionCloseOk=655411;var Nt=e.exports.methodInfoConnectionCloseOk={id:655411,name:"ConnectionCloseOk",args:[]};e.exports.ConnectionBlocked=655420;var Dt=e.exports.methodInfoConnectionBlocked={id:655420,name:"ConnectionBlocked",args:[{type:"shortstr",name:"reason","default":""}]};e.exports.ConnectionUnblocked=655421;var qt=e.exports.methodInfoConnectionUnblocked={id:655421,name:"ConnectionUnblocked",args:[]};e.exports.ChannelOpen=1310730;var zt=e.exports.methodInfoChannelOpen={id:1310730,name:"ChannelOpen",args:[{type:"shortstr",name:"outOfBand","default":""}]};e.exports.ChannelOpenOk=1310731;var Ht=e.exports.methodInfoChannelOpenOk={
id:1310731,name:"ChannelOpenOk",args:[{type:"longstr",name:"channelId","default":""}]};e.exports.ChannelFlow=1310740;var Qt=e.exports.methodInfoChannelFlow={id:1310740,name:"ChannelFlow",args:[{type:"bit",name:"active"}]};e.exports.ChannelFlowOk=1310741;var Wt=e.exports.methodInfoChannelFlowOk={id:1310741,name:"ChannelFlowOk",args:[{type:"bit",name:"active"}]};e.exports.ChannelClose=1310760;var Kt=e.exports.methodInfoChannelClose={id:1310760,name:"ChannelClose",args:[{type:"short",name:"replyCode"},{type:"shortstr",name:"replyText","default":""},{type:"short",name:"classId"},{type:"short",name:"methodId"}]};e.exports.ChannelCloseOk=1310761;var Vt=e.exports.methodInfoChannelCloseOk={id:1310761,name:"ChannelCloseOk",args:[]};e.exports.AccessRequest=1966090;var Gt=e.exports.methodInfoAccessRequest={id:1966090,name:"AccessRequest",args:[{type:"shortstr",name:"realm","default":"/data"},{type:"bit",name:"exclusive","default":!1},{type:"bit",name:"passive","default":!0},{type:"bit",name:"active","default":!0},{type:"bit",name:"write","default":!0},{type:"bit",name:"read","default":!0}]};e.exports.AccessRequestOk=1966091;var Yt=e.exports.methodInfoAccessRequestOk={id:1966091,name:"AccessRequestOk",args:[{type:"short",name:"ticket","default":1}]};e.exports.ExchangeDeclare=2621450;var $t=e.exports.methodInfoExchangeDeclare={id:2621450,name:"ExchangeDeclare",args:[{type:"short",name:"ticket","default":0},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"type","default":"direct"},{type:"bit",name:"passive","default":!1},{type:"bit",name:"durable","default":!1},{type:"bit",name:"autoDelete","default":!1},{type:"bit",name:"internal","default":!1},{type:"bit",name:"nowait","default":!1},{type:"table",name:"arguments","default":{}}]};e.exports.ExchangeDeclareOk=2621451;var Xt=e.exports.methodInfoExchangeDeclareOk={id:2621451,name:"ExchangeDeclareOk",args:[]};e.exports.ExchangeDelete=2621460;var Jt=e.exports.methodInfoExchangeDelete={id:2621460,name:"ExchangeDelete",args:[{type:"short",name:"ticket","default":0},{type:"shortstr",name:"exchange"},{type:"bit",name:"ifUnused","default":!1},{type:"bit",name:"nowait","default":!1}]};e.exports.ExchangeDeleteOk=2621461;var Zt=e.exports.methodInfoExchangeDeleteOk={id:2621461,name:"ExchangeDeleteOk",args:[]};e.exports.ExchangeBind=2621470;var en=e.exports.methodInfoExchangeBind={id:2621470,name:"ExchangeBind",args:[{type:"short",name:"ticket","default":0},{type:"shortstr",name:"destination"},{type:"shortstr",name:"source"},{type:"shortstr",name:"routingKey","default":""},{type:"bit",name:"nowait","default":!1},{type:"table",name:"arguments","default":{}}]};e.exports.ExchangeBindOk=2621471;var tn=e.exports.methodInfoExchangeBindOk={id:2621471,name:"ExchangeBindOk",args:[]};e.exports.ExchangeUnbind=2621480;var nn=e.exports.methodInfoExchangeUnbind={id:2621480,name:"ExchangeUnbind",args:[{type:"short",name:"ticket","default":0},{type:"shortstr",name:"destination"},{type:"shortstr",name:"source"},{type:"shortstr",name:"routingKey","default":""},{type:"bit",name:"nowait","default":!1},{type:"table",name:"arguments","default":{}}]};e.exports.ExchangeUnbindOk=2621491;var rn=e.exports.methodInfoExchangeUnbindOk={id:2621491,name:"ExchangeUnbindOk",args:[]};e.exports.QueueDeclare=3276810;var on=e.exports.methodInfoQueueDeclare={id:3276810,name:"QueueDeclare",args:[{type:"short",name:"ticket","default":0},{type:"shortstr",name:"queue","default":""},{type:"bit",name:"passive","default":!1},{type:"bit",name:"durable","default":!1},{type:"bit",name:"exclusive","default":!1},{type:"bit",name:"autoDelete","default":!1},{type:"bit",name:"nowait","default":!1},{type:"table",name:"arguments","default":{}}]};e.exports.QueueDeclareOk=3276811;var sn=e.exports.methodInfoQueueDeclareOk={id:3276811,name:"QueueDeclareOk",args:[{type:"shortstr",name:"queue"},{type:"long",name:"messageCount"},{type:"long",name:"consumerCount"}]};e.exports.QueueBind=3276820;var an=e.exports.methodInfoQueueBind={id:3276820,name:"QueueBind",args:[{type:"short",name:"ticket","default":0},{type:"shortstr",name:"queue","default":""},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey","default":""},{type:"bit",name:"nowait","default":!1},{type:"table",name:"arguments","default":{}}]};e.exports.QueueBindOk=3276821;var un=e.exports.methodInfoQueueBindOk={id:3276821,name:"QueueBindOk",args:[]};e.exports.QueuePurge=3276830;var cn=e.exports.methodInfoQueuePurge={id:3276830,name:"QueuePurge",args:[{type:"short",name:"ticket","default":0},{type:"shortstr",name:"queue","default":""},{type:"bit",name:"nowait","default":!1}]};e.exports.QueuePurgeOk=3276831;var ln=e.exports.methodInfoQueuePurgeOk={id:3276831,name:"QueuePurgeOk",args:[{type:"long",name:"messageCount"}]};e.exports.QueueDelete=3276840;var fn=e.exports.methodInfoQueueDelete={id:3276840,name:"QueueDelete",args:[{type:"short",name:"ticket","default":0},{type:"shortstr",name:"queue","default":""},{type:"bit",name:"ifUnused","default":!1},{type:"bit",name:"ifEmpty","default":!1},{type:"bit",name:"nowait","default":!1}]};e.exports.QueueDeleteOk=3276841;var hn=e.exports.methodInfoQueueDeleteOk={id:3276841,name:"QueueDeleteOk",args:[{type:"long",name:"messageCount"}]};e.exports.QueueUnbind=3276850;var pn=e.exports.methodInfoQueueUnbind={id:3276850,name:"QueueUnbind",args:[{type:"short",name:"ticket","default":0},{type:"shortstr",name:"queue","default":""},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey","default":""},{type:"table",name:"arguments","default":{}}]};e.exports.QueueUnbindOk=3276851;var dn=e.exports.methodInfoQueueUnbindOk={id:3276851,name:"QueueUnbindOk",args:[]};e.exports.BasicQos=3932170;var vn=e.exports.methodInfoBasicQos={id:3932170,name:"BasicQos",args:[{type:"long",name:"prefetchSize","default":0},{type:"short",name:"prefetchCount","default":0},{type:"bit",name:"global","default":!1}]};e.exports.BasicQosOk=3932171;var gn=e.exports.methodInfoBasicQosOk={id:3932171,name:"BasicQosOk",args:[]};e.exports.BasicConsume=3932180;var yn=e.exports.methodInfoBasicConsume={id:3932180,name:"BasicConsume",args:[{type:"short",name:"ticket","default":0},{type:"shortstr",name:"queue","default":""},{type:"shortstr",name:"consumerTag","default":""},{type:"bit",name:"noLocal","default":!1},{type:"bit",name:"noAck","default":!1},{type:"bit",name:"exclusive","default":!1},{type:"bit",name:"nowait","default":!1},{type:"table",name:"arguments","default":{}}]};e.exports.BasicConsumeOk=3932181;var mn=e.exports.methodInfoBasicConsumeOk={id:3932181,name:"BasicConsumeOk",args:[{type:"shortstr",name:"consumerTag"}]};e.exports.BasicCancel=3932190;var bn=e.exports.methodInfoBasicCancel={id:3932190,name:"BasicCancel",args:[{type:"shortstr",name:"consumerTag"},{type:"bit",name:"nowait","default":!1}]};e.exports.BasicCancelOk=3932191;var _n=e.exports.methodInfoBasicCancelOk={id:3932191,name:"BasicCancelOk",args:[{type:"shortstr",name:"consumerTag"}]};e.exports.BasicPublish=3932200;var wn=e.exports.methodInfoBasicPublish={id:3932200,name:"BasicPublish",args:[{type:"short",name:"ticket","default":0},{type:"shortstr",name:"exchange","default":""},{type:"shortstr",name:"routingKey","default":""},{type:"bit",name:"mandatory","default":!1},{type:"bit",name:"immediate","default":!1}]};e.exports.BasicReturn=3932210;var En=e.exports.methodInfoBasicReturn={id:3932210,name:"BasicReturn",args:[{type:"short",name:"replyCode"},{type:"shortstr",name:"replyText","default":""},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey"}]};e.exports.BasicDeliver=3932220;var xn=e.exports.methodInfoBasicDeliver={id:3932220,name:"BasicDeliver",args:[{type:"shortstr",name:"consumerTag"},{type:"longlong",name:"deliveryTag"},{type:"bit",name:"redelivered","default":!1},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey"}]};e.exports.BasicGet=3932230;var kn=e.exports.methodInfoBasicGet={id:3932230,name:"BasicGet",args:[{type:"short",name:"ticket","default":0},{type:"shortstr",name:"queue","default":""},{type:"bit",name:"noAck","default":!1}]};e.exports.BasicGetOk=3932231;var In=e.exports.methodInfoBasicGetOk={id:3932231,name:"BasicGetOk",args:[{type:"longlong",name:"deliveryTag"},{type:"bit",name:"redelivered","default":!1},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey"},{type:"long",name:"messageCount"}]};e.exports.BasicGetEmpty=3932232;var Cn=e.exports.methodInfoBasicGetEmpty={id:3932232,name:"BasicGetEmpty",args:[{type:"shortstr",name:"clusterId","default":""}]};e.exports.BasicAck=3932240;var Sn=e.exports.methodInfoBasicAck={id:3932240,name:"BasicAck",args:[{type:"longlong",name:"deliveryTag","default":0},{type:"bit",name:"multiple","default":!1}]};e.exports.BasicReject=3932250;var Tn=e.exports.methodInfoBasicReject={id:3932250,name:"BasicReject",args:[{type:"longlong",name:"deliveryTag"},{type:"bit",name:"requeue","default":!0}]};e.exports.BasicRecoverAsync=3932260;var Bn=e.exports.methodInfoBasicRecoverAsync={id:3932260,name:"BasicRecoverAsync",args:[{type:"bit",name:"requeue","default":!1}]};e.exports.BasicRecover=3932270;var Un=e.exports.methodInfoBasicRecover={id:3932270,name:"BasicRecover",args:[{type:"bit",name:"requeue","default":!1}]};e.exports.BasicRecoverOk=3932271;var On=e.exports.methodInfoBasicRecoverOk={id:3932271,name:"BasicRecoverOk",args:[]};e.exports.BasicNack=3932280;var jn=e.exports.methodInfoBasicNack={id:3932280,name:"BasicNack",args:[{type:"longlong",name:"deliveryTag","default":0},{type:"bit",name:"multiple","default":!1},{type:"bit",name:"requeue","default":!0}]};e.exports.TxSelect=5898250;var An=e.exports.methodInfoTxSelect={id:5898250,name:"TxSelect",args:[]};e.exports.TxSelectOk=5898251;var Rn=e.exports.methodInfoTxSelectOk={id:5898251,name:"TxSelectOk",args:[]};e.exports.TxCommit=5898260;var Fn=e.exports.methodInfoTxCommit={id:5898260,name:"TxCommit",args:[]};e.exports.TxCommitOk=5898261;var Pn=e.exports.methodInfoTxCommitOk={id:5898261,name:"TxCommitOk",args:[]};e.exports.TxRollback=5898270;var Ln=e.exports.methodInfoTxRollback={id:5898270,name:"TxRollback",args:[]};e.exports.TxRollbackOk=5898271;var Mn=e.exports.methodInfoTxRollbackOk={id:5898271,name:"TxRollbackOk",args:[]};e.exports.ConfirmSelect=5570570;var Nn=e.exports.methodInfoConfirmSelect={id:5570570,name:"ConfirmSelect",args:[{type:"bit",name:"nowait","default":!1}]};e.exports.ConfirmSelectOk=5570571;var Dn=e.exports.methodInfoConfirmSelectOk={id:5570571,name:"ConfirmSelectOk",args:[]};e.exports.BasicProperties=60;var qn=e.exports.propertiesInfoBasicProperties={id:60,name:"BasicProperties",args:[{type:"shortstr",name:"contentType"},{type:"shortstr",name:"contentEncoding"},{type:"table",name:"headers"},{type:"octet",name:"deliveryMode"},{type:"octet",name:"priority"},{type:"shortstr",name:"correlationId"},{type:"shortstr",name:"replyTo"},{type:"shortstr",name:"expiration"},{type:"shortstr",name:"messageId"},{type:"timestamp",name:"timestamp"},{type:"shortstr",name:"type"},{type:"shortstr",name:"userId"},{type:"shortstr",name:"appId"},{type:"shortstr",name:"clusterId"}]}}).call(t,n(3).Buffer)},function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return s(e,t,n)}var o=n(3),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=i),r(s,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=s(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,n){(function(t){"use strict";function r(e){return e>=0x8000000000000000||Math.abs(e)<0x4000000000000&&Math.floor(e)!==e}function i(e,n,r){var i=r;r+=4;for(var o in n)if(void 0!==n[o]){var a=t.byteLength(o);e.writeUInt8(a,r),r++,e.write(o,r,"utf8"),r+=a,r+=s(e,n[o],r)}var u=r-i;return e.writeUInt32BE(u-4,i),u}function o(e,t,n){var r=n;n+=4;for(var i=0,o=t.length;i<o;i++)n+=s(e,t[i],n);var a=n-r;return e.writeUInt32BE(a-4,r),a}function s(e,n,s){function a(t){e.write(t,s),s++}var c=s,l=typeof n,f=n;switch(n&&"object"===l&&n.hasOwnProperty("!")&&(f=n.value,l=n["!"]),"number"==l&&(l=r(f)?"double":f<128&&f>=-128?"byte":f>=-32768&&f<32768?"short":f>=-2147483648&&f<2147483648?"int":"long"),l){case"string":var h=t.byteLength(f,"utf8");a("S"),e.writeUInt32BE(h,s),s+=4,e.write(f,s,"utf8"),s+=h;break;case"object":null===f?a("V"):Array.isArray(f)?(a("A"),s+=o(e,f,s)):t.isBuffer(f)?(a("x"),e.writeUInt32BE(f.length,s),s+=4,f.copy(e,s),s+=f.length):(a("F"),s+=i(e,f,s));break;case"boolean":a("t"),e.writeUInt8(f?1:0,s),s++;break;case"double":case"float64":a("d"),e.writeDoubleBE(f,s),s+=8;break;case"byte":case"int8":a("b"),e.writeInt8(f,s),s++;break;case"short":case"int16":a("s"),e.writeInt16BE(f,s),s+=2;break;case"int":case"int32":a("I"),e.writeInt32BE(f,s),s+=4;break;case"long":case"int64":a("l"),u.writeInt64BE(e,f,s),s+=8;break;case"timestamp":a("T"),u.writeUInt64BE(e,f,s),s+=8;break;case"float":a("f"),e.writeFloatBE(f,s),s+=4;break;case"decimal":if(a("D"),!(f.hasOwnProperty("places")&&f.hasOwnProperty("digits")&&f.places>=0&&f.places<256))throw new TypeError("Decimal value must be {'places': 0..255, 'digits': uint32}, got "+JSON.stringify(f));e[s]=f.places,s++,e.writeUInt32BE(f.digits,s),s+=4;break;default:throw new TypeError("Unknown type to encode: "+l)}return s-c}function a(e){function t(){var t=String.fromCharCode(e[c]);switch(c++,t){case"b":o=e.readInt8(c),c++;break;case"S":r=e.readUInt32BE(c),c+=4,o=e.toString("utf8",c,c+r),c+=r;break;case"I":o=e.readInt32BE(c),c+=4;break;case"D":var i=e[c];c++;var s=e.readUInt32BE(c);c+=4,o={"!":"decimal",value:{places:i,digits:s}};break;case"T":o=u.readUInt64BE(e,c),c+=8,o={"!":"timestamp",value:o};break;case"F":r=e.readUInt32BE(c),c+=4,o=a(e.slice(c,c+r)),c+=r;break;case"A":r=e.readUInt32BE(c),c+=4,n(c+r);break;case"d":o=e.readDoubleBE(c),c+=8;break;case"f":o=e.readFloatBE(c),c+=4;break;case"l":o=u.readInt64BE(e,c),c+=8;break;case"s":o=e.readInt16BE(c),c+=2;break;case"t":o=0!=e[c],c++;break;case"V":o=null;break;case"x":r=e.readUInt32BE(c),c+=4,o=e.slice(c,c+r),c+=r;break;default:throw new TypeError('Unexpected type tag "'+t+'"')}}function n(e){for(var n=[];c<e;)t(),n.push(o);o=n}for(var r,i,o,s={},c=0,l=e.length;c<l;)r=e.readUInt8(c),c++,i=e.toString("utf8",c,c+r),c+=r,t(),s[i]=o;return s}var u=n(120);e.exports.encodeTable=i,e.exports.decodeFields=a}).call(t,n(3).Buffer)},function(e,t,n){(function(t){"use strict";function r(e){return e<=Y&&e>=-Y}function i(e){K(r(e),"number cannot be represented as a contiguous integer")}function o(e,t,n){K.ok("number"==typeof e&&e>=t&&e<=n&&Math.floor(e)===e,"not a number in the required range")}function s(e,t,n){return e.readUInt8(t,n)<<16|e.readUInt16BE(t+1,n)}function a(e,t,n,r){r||(o(t,0,16777215),K.ok(n+3<=e.length,"attempt to write beyond end of buffer")),e.writeUInt8(t>>>16,n,r),e.writeUInt16BE(65535&t,n+1,r)}function u(e,t,n){return(e.readUInt8(t,n)||0)*V+e.readUInt32BE(t+1,n)}function c(e,t,n,r){r||(o(t,0,0xffffffffff),K.ok(n+5<=e.length,"attempt to write beyond end of buffer")),e.writeUInt8(Math.floor(t*G),n,r),e.writeInt32BE(t&-1,n+1,r)}function l(e,t,n){return e.readUInt16BE(t,n)*V+e.readUInt32BE(t+2,n)}function f(e,t,n,r){r||(o(t,0,0xffffffffffff),K.ok(n+6<=e.length,"attempt to write beyond end of buffer")),e.writeUInt16BE(Math.floor(t*G),n,r),e.writeInt32BE(t&-1,n+2,r)}function h(e,t,n){return((e.readUInt8(t,n)||0)<<16|e.readUInt16BE(t+1,n))*V+e.readUInt32BE(t+3,n)}function p(e,t,n,r){if(r||(o(t,0,72057594037927940),K.ok(n+7<=e.length,"attempt to write beyond end of buffer")),t<72057594037927940){var i=Math.floor(t*G);e.writeUInt8(i>>>16,n,r),e.writeUInt16BE(65535&i,n+1,r),e.writeInt32BE(t&-1,n+3,r)}else e[n]=255,e[n+1]=255,e[n+2]=255,e[n+3]=255,e[n+4]=255,e[n+5]=255,e[n+6]=255}function d(e,t,n){return e.readUInt32BE(t,n)*V+e.readUInt32BE(t+4,n)}function v(e,t,n,r){r||(o(t,0,0x10000000000000000),K.ok(n+8<=e.length,"attempt to write beyond end of buffer")),t<0x10000000000000000?(e.writeUInt32BE(Math.floor(t*G),n,r),e.writeInt32BE(t&-1,n+4,r)):(e[n]=255,e[n+1]=255,e[n+2]=255,e[n+3]=255,e[n+4]=255,e[n+5]=255,e[n+6]=255,e[n+7]=255)}function g(e,t,n){return e.readUInt8(t+2,n)<<16|e.readUInt16LE(t,n)}function y(e,t,n,r){r||(o(t,0,16777215),K.ok(n+3<=e.length,"attempt to write beyond end of buffer")),e.writeUInt16LE(65535&t,n,r),e.writeUInt8(t>>>16,n+2,r)}function m(e,t,n){return(e.readUInt8(t+4,n)||0)*V+e.readUInt32LE(t,n)}function b(e,t,n,r){r||(o(t,0,0xffffffffff),K.ok(n+5<=e.length,"attempt to write beyond end of buffer")),e.writeInt32LE(t&-1,n,r),e.writeUInt8(Math.floor(t*G),n+4,r)}function _(e,t,n){return e.readUInt16LE(t+4,n)*V+e.readUInt32LE(t,n)}function w(e,t,n,r){r||(o(t,0,0xffffffffffff),K.ok(n+6<=e.length,"attempt to write beyond end of buffer")),e.writeInt32LE(t&-1,n,r),e.writeUInt16LE(Math.floor(t*G),n+4,r)}function E(e,t,n){return((e.readUInt8(t+6,n)||0)<<16|e.readUInt16LE(t+4,n))*V+e.readUInt32LE(t,n)}function x(e,t,n,r){if(r||(o(t,0,72057594037927940),K.ok(n+7<=e.length,"attempt to write beyond end of buffer")),t<72057594037927940){e.writeInt32LE(t&-1,n,r);var i=Math.floor(t*G);e.writeUInt16LE(65535&i,n+4,r),e.writeUInt8(i>>>16,n+6,r)}else e[n]=255,e[n+1]=255,e[n+2]=255,e[n+3]=255,e[n+4]=255,e[n+5]=255,e[n+6]=255}function k(e,t,n){return e.readUInt32LE(t+4,n)*V+e.readUInt32LE(t,n)}function I(e,t,n,r){r||(o(t,0,0x10000000000000000),K.ok(n+8<=e.length,"attempt to write beyond end of buffer")),t<0x10000000000000000?(e.writeInt32LE(t&-1,n,r),e.writeUInt32LE(Math.floor(t*G),n+4,r)):(e[n]=255,e[n+1]=255,e[n+2]=255,e[n+3]=255,e[n+4]=255,e[n+5]=255,e[n+6]=255,e[n+7]=255)}function C(e,t,n){return(e.readInt8(t,n)<<16)+e.readUInt16BE(t+1,n)}function S(e,t,n,r){r||(o(t,-8388608,8388607),K.ok(n+3<=e.length,"attempt to write beyond end of buffer")),e.writeInt8(t>>16,n,r),e.writeUInt16BE(65535&t,n+1,r)}function T(e,t,n){return(e.readInt8(t,n)||0)*V+e.readUInt32BE(t+1,n)}function B(e,t,n,r){r||(o(t,-549755813888,549755813887),K.ok(n+5<=e.length,"attempt to write beyond end of buffer")),e.writeInt8(Math.floor(t*G),n,r),e.writeInt32BE(t&-1,n+1,r)}function U(e,t,n){return e.readInt16BE(t,n)*V+e.readUInt32BE(t+2,n)}function O(e,t,n,r){r||(o(t,-0x800000000000,0x7fffffffffff),K.ok(n+6<=e.length,"attempt to write beyond end of buffer")),e.writeInt16BE(Math.floor(t*G),n,r),e.writeInt32BE(t&-1,n+2,r)}function j(e,t,n){return(((e.readInt8(t,n)||0)<<16)+e.readUInt16BE(t+1,n))*V+e.readUInt32BE(t+3,n)}function A(e,t,n,r){if(r||(o(t,-0x800000000000000,0x80000000000000),K.ok(n+7<=e.length,"attempt to write beyond end of buffer")),t<0x80000000000000){var i=Math.floor(t*G);e.writeInt8(i>>16,n,r),e.writeUInt16BE(65535&i,n+1,r),e.writeInt32BE(t&-1,n+3,r)}else e[n]=127,e[n+1]=255,e[n+2]=255,e[n+3]=255,e[n+4]=255,e[n+5]=255,e[n+6]=255}function R(e,t,n){return e.readInt32BE(t,n)*V+e.readUInt32BE(t+4,n)}function F(e,t,n,r){r||(o(t,-0x800000000000000000,0x8000000000000000),K.ok(n+8<=e.length,"attempt to write beyond end of buffer")),t<0x8000000000000000?(e.writeInt32BE(Math.floor(t*G),n,r),e.writeInt32BE(t&-1,n+4,r)):(e[n]=127,e[n+1]=255,e[n+2]=255,e[n+3]=255,e[n+4]=255,e[n+5]=255,e[n+6]=255,e[n+7]=255)}function P(e,t,n){return(e.readInt8(t+2,n)<<16)+e.readUInt16LE(t,n)}function L(e,t,n,r){r||(o(t,-8388608,8388607),K.ok(n+3<=e.length,"attempt to write beyond end of buffer")),e.writeUInt16LE(65535&t,n,r),e.writeInt8(t>>16,n+2,r)}function M(e,t,n){return(e.readInt8(t+4,n)||0)*V+e.readUInt32LE(t,n)}function N(e,t,n,r){r||(o(t,-549755813888,549755813887),K.ok(n+5<=e.length,"attempt to write beyond end of buffer")),e.writeInt32LE(t&-1,n,r),e.writeInt8(Math.floor(t*G),n+4,r)}function D(e,t,n){return e.readInt16LE(t+4,n)*V+e.readUInt32LE(t,n)}function q(e,t,n,r){r||(o(t,-0x800000000000,0x7fffffffffff),K.ok(n+6<=e.length,"attempt to write beyond end of buffer")),e.writeInt32LE(t&-1,n,r),e.writeInt16LE(Math.floor(t*G),n+4,r)}function z(e,t,n){return(((e.readInt8(t+6,n)||0)<<16)+e.readUInt16LE(t+4,n))*V+e.readUInt32LE(t,n)}function H(e,t,n,r){if(r||(o(t,-0x80000000000000,0x80000000000000),K.ok(n+7<=e.length,"attempt to write beyond end of buffer")),t<0x80000000000000){e.writeInt32LE(t&-1,n,r);var i=Math.floor(t*G);e.writeUInt16LE(65535&i,n+4,r),e.writeInt8(i>>16,n+6,r)}else e[n]=255,e[n+1]=255,e[n+2]=255,e[n+3]=255,e[n+4]=255,e[n+5]=255,e[n+6]=127}function Q(e,t,n){return e.readInt32LE(t+4,n)*V+e.readUInt32LE(t,n)}function W(e,t,n,r){r||(o(t,-0x8000000000000000,0x8000000000000000),K.ok(n+8<=e.length,"attempt to write beyond end of buffer")),t<0x8000000000000000?(e.writeInt32LE(t&-1,n,r),e.writeInt32LE(Math.floor(t*G),n+4,r)):(e[n]=255,e[n+1]=255,e[n+2]=255,e[n+3]=255,e[n+4]=255,e[n+5]=255,e[n+6]=255,e[n+7]=127)}var K=n(121),V=4294967296,G=1/V,Y=9007199254740991;e.exports.isContiguousInt=r,e.exports.assertContiguousInt=i,["UInt","Int"].forEach(function(n){var r=n+"8";e.exports["read"+r]=t.prototype["read"+r].call,e.exports["write"+r]=t.prototype["write"+r].call,["16","32"].forEach(function(r){["LE","BE"].forEach(function(i){var o=n+r+i,s=t.prototype["read"+o];e.exports["read"+o]=function(e,t,n){return s.call(e,t,n)};var a=t.prototype["write"+o];e.exports["write"+o]=function(e,t,n,r){return a.call(e,t,n,r)}})})}),e.exports.readUInt24BE=s,e.exports.writeUInt24BE=a,e.exports.readUInt40BE=u,e.exports.writeUInt40BE=c,e.exports.readUInt48BE=l,e.exports.writeUInt48BE=f,e.exports.readUInt56BE=h,e.exports.writeUInt56BE=p,e.exports.readUInt64BE=d,e.exports.writeUInt64BE=v,e.exports.readUInt24LE=g,e.exports.writeUInt24LE=y,e.exports.readUInt40LE=m,e.exports.writeUInt40LE=b,e.exports.readUInt48LE=_,e.exports.writeUInt48LE=w,e.exports.readUInt56LE=E,e.exports.writeUInt56LE=x,e.exports.readUInt64LE=k,e.exports.writeUInt64LE=I,e.exports.readInt24BE=C,e.exports.writeInt24BE=S,e.exports.readInt40BE=T,e.exports.writeInt40BE=B,e.exports.readInt48BE=U,e.exports.writeInt48BE=O,e.exports.readInt56BE=j,e.exports.writeInt56BE=A,e.exports.readInt64BE=R,e.exports.writeInt64BE=F,e.exports.readInt24LE=P,e.exports.writeInt24LE=L,e.exports.readInt40LE=M,e.exports.writeInt40LE=N,e.exports.readInt48LE=D,e.exports.writeInt48LE=q,e.exports.readInt56LE=z,e.exports.writeInt56LE=H,e.exports.readInt64LE=Q,e.exports.writeInt64LE=W}).call(t,n(3).Buffer)},function(e,t,n){(function(t){"use strict";/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function o(e){return Object.prototype.toString.call(e)}function s(e){return!i(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function a(e){if(_.isFunction(e)){if(x)return e.name;var t=e.toString(),n=t.match(I);return n&&n[1]}}function u(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function c(e){if(x||!_.isFunction(e))return _.inspect(e);var t=a(e),n=t?": "+t:"";return"[Function"+n+"]"}function l(e){return u(c(e.actual),128)+" "+e.operator+" "+u(c(e.expected),128)}function f(e,t,n,r,i){throw new k.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function h(e,t){e||f(e,!0,t,"==",k.ok)}function p(e,t,n,a){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(_.isDate(e)&&_.isDate(t))return e.getTime()===t.getTime();if(_.isRegExp(e)&&_.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(s(e)&&s(t)&&o(e)===o(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;a=a||{actual:[],expected:[]};var u=a.actual.indexOf(e);return u!==-1&&u===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),v(e,t,n,a))}return n?e===t:e==t}function d(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function v(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(_.isPrimitive(e)||_.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=d(e),o=d(t);if(i&&!o||!i&&o)return!1;if(i)return e=E.call(e),t=E.call(t),p(e,t,n);var s,a,u=C(e),c=C(t);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),a=u.length-1;a>=0;a--)if(u[a]!==c[a])return!1;for(a=u.length-1;a>=0;a--)if(s=u[a],!p(e[s],t[s],n,r))return!1;return!0}function g(e,t,n){p(e,t,!0)&&f(e,t,n,"notDeepStrictEqual",g)}function y(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(n){}return!Error.isPrototypeOf(t)&&t.call({},e)===!0}function m(e){var t;try{e()}catch(n){t=n}return t}function b(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=m(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&f(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&_.isError(i),a=!e&&i&&!n;if((s&&o&&y(i,n)||a)&&f(i,n,"Got unwanted exception"+r),e&&i&&n&&!y(i,n)||!e&&i)throw i}var _=n(122),w=Object.prototype.hasOwnProperty,E=Array.prototype.slice,x=function(){return"foo"===function(){}.name}(),k=e.exports=h,I=/\s*function\s+([^\(\s]*)\s*/;k.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var t=e.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=a(t),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},_.inherits(k.AssertionError,Error),k.fail=f,k.ok=h,k.equal=function(e,t,n){e!=t&&f(e,t,n,"==",k.equal)},k.notEqual=function(e,t,n){e==t&&f(e,t,n,"!=",k.notEqual)},k.deepEqual=function(e,t,n){p(e,t,!1)||f(e,t,n,"deepEqual",k.deepEqual)},k.deepStrictEqual=function(e,t,n){p(e,t,!0)||f(e,t,n,"deepStrictEqual",k.deepStrictEqual)},k.notDeepEqual=function(e,t,n){p(e,t,!1)&&f(e,t,n,"notDeepEqual",k.notDeepEqual)},k.notDeepStrictEqual=g,k.strictEqual=function(e,t,n){e!==t&&f(e,t,n,"===",k.strictEqual)},k.notStrictEqual=function(e,t,n){e===t&&f(e,t,n,"!==",k.notStrictEqual)},k["throws"]=function(e,t,n){b(!0,e,t,n)},k.doesNotThrow=function(e,t,n){b(!1,e,t,n)},k.ifError=function(e){if(e)throw e};var C=Object.keys||function(e){var t=[];for(var n in e)w.call(e,n)&&t.push(n);return t}}).call(t,function(){return this}())},[350,123,124],function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";function r(e,t){var n=v(e);if(n){var r=n.size,i=n.rest;if(r>t)throw new Error("Frame size exceeds frame max");if(i.length>r){if(i[r]!==p)throw new Error("Invalid frame");return{type:n.type,channel:n.channel,size:r,payload:i.slice(0,r),rest:i.slice(r+1)}}}return!1}var i=n(117),o=i.constants,s=i.decode,a=n(118).Buffer,u=n(126);e.exports.PROTOCOL_HEADER="AMQP"+String.fromCharCode(0,0,9,1);var c=o.FRAME_METHOD,l=o.FRAME_HEARTBEAT,f=o.FRAME_HEADER,h=o.FRAME_BODY,p=o.FRAME_END,d=u.builder(h,"channel:16, size:32, payload:size/binary",p);e.exports.makeBodyFrame=function(e,t){return d({channel:e,size:t.length,payload:t})};var v=u.matcher("type:8","channel:16","size:32","rest/binary");e.exports.parseFrame=r;var g=u.matcher("class:16","_weight:16","size:64","flagsAndfields/binary"),y=u.matcher("id:32, args/binary"),m={channel:0};e.exports.decodeFrame=function(e){var t=e.payload;switch(e.type){case c:var n=y(t),r=n.id,i=s(r,n.args);return{id:r,channel:e.channel,fields:i};case f:var o=g(t),r=o["class"],i=s(r,o.flagsAndfields);return{id:r,channel:e.channel,size:o.size,fields:i};case h:return{channel:e.channel,content:e.payload};case l:return m;default:throw new Error("Unknown frame type "+e.type)}},e.exports.HEARTBEAT_BUF=a.from([o.FRAME_HEARTBEAT,0,0,0,0,0,0,o.FRAME_END]),e.exports.HEARTBEAT=m},function(e,t,n){"use strict";e.exports.parse=n(127).parse,e.exports.match=n(130).match,e.exports.build=n(131).build,e.exports.write=n(131).write,e.exports.matcher=e.exports.compile=n(132).compile,e.exports.builder=n(132).compile_builder},function(e,t,n){"use strict";function r(e){for(var t=o.parse(e),n=0,r=t.length;n<r;n++){var s=t[n];if(void 0!=s.string)t[n]=i.string(s.string);else if(void 0!=s.value)t[n]=i.value(s.value,s.size,s.specifiers);else{if(void 0==s.name)throw"Unknown segment "+s;t[n]=i.variable(s.name,s.size,s.specifiers)}}return t}var i=n(128),o=n(129);e.exports.parse=function(){var e=[].join.call(arguments,",");return r(e)}},function(e,t){"use strict";function n(e){var t={};for(var n in e)t[e[n]]=1;return t}function r(e,t,r){var i=n(r),o={name:e};return o.type=s(i),a(o,o.type,i),o.size=f(o,o.type,t,o.unit),o}function i(e,t,r){var i=n(r),o={value:e};return o.type=s(i),a(o,o.type,i),o.size=f(o,o.type,t,o.unit),o}function o(e){return{value:e,type:"string"}}function s(e){for(var t in e)if(h[t])return t;return"integer"}function a(e,t,n){switch(t){case"integer":e.signed=c(n);case"float":e.bigendian=u(n);default:e.unit=l(n,e.type)}return e}function u(e){return!e.little}function c(e){return e.signed}function l(e,t){for(var n in e)if("unit:"==n.substr(0,5)){var r=parseInt(n.substr(5));return r}switch(t){case"binary":return 8;case"integer":case"float":return 1}}function f(e,t,n,r){if(void 0!==n&&""!==n)return n;switch(t){case"integer":return 8;case"float":return 64;case"binary":return!0}}e.exports.variable=r,e.exports.rest=function(){return r("_",!0,["binary"])},e.exports.value=i,e.exports.string=o;var h={integer:1,binary:1,"float":1}},function(e,t){e.exports=function(){function e(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var t={parse:function(t,n){function r(e){E<k||(E>k&&(k=E,I=[]),I.push(e))}function i(){var e,t,n,r,i,a;if(i=E,a=E,e=m(),null!==e)if(t=s(),null!==t){for(n=[],r=o();null!==r;)n.push(r),r=o();null!==n?e=[e,t,n]:(e=null,E=a)}else e=null,E=a;else e=null,E=a;return null!==e&&(e=function(e,t,n){return n.unshift(t),n}(i,e[1],e[2])),null===e&&(E=i),e}function o(){var e,n,i,o,a,u;return a=E,u=E,e=m(),null!==e?(44===t.charCodeAt(E)?(n=",",E++):(n=null,0===x&&r('","')),null!==n?(i=m(),null!==i?(o=s(),null!==o?e=[e,n,i,o]:(e=null,E=u)):(e=null,E=u)):(e=null,E=u)):(e=null,E=u),null!==e&&(e=function(e,t){return t}(a,e[3])),null===e&&(E=a),e}function s(){var e,t,n,r,i;return r=E,e=a(),null!==e&&(e=function(e,t){return{string:t}}(r,e)),null===e&&(E=r),null===e&&(r=E,i=E,e=f(),null!==e?(t=p(),t=null!==t?t:"",null!==t?(n=d(),n=null!==n?n:"",null!==n?e=[e,t,n]:(e=null,E=i)):(e=null,E=i)):(e=null,E=i),null!==e&&(e=function(e,t,n,r){return{name:t,size:n,specifiers:r}}(r,e[0],e[1],e[2])),null===e&&(E=r),null===e&&(r=E,i=E,e=h(),null!==e?(t=p(),t=null!==t?t:"",null!==t?(n=d(),n=null!==n?n:"",null!==n?e=[e,t,n]:(e=null,E=i)):(e=null,E=i)):(e=null,E=i),null!==e&&(e=function(e,t,n,r){return{value:t,size:n,specifiers:r}}(r,e[0],e[1],e[2])),null===e&&(E=r))),e}function a(){var e,n,i,o,s;return o=E,s=E,34===t.charCodeAt(E)?(e='"',E++):(e=null,0===x&&r('"\\""')),null!==e?(34===t.charCodeAt(E)?(n='"',E++):(n=null,0===x&&r('"\\""')),null!==n?e=[e,n]:(e=null,E=s)):(e=null,E=s),null!==e&&(e=function(e){return""}(o)),null===e&&(E=o),null===e&&(o=E,s=E,34===t.charCodeAt(E)?(e='"',E++):(e=null,0===x&&r('"\\""')),null!==e?(n=u(),null!==n?(34===t.charCodeAt(E)?(i='"',E++):(i=null,0===x&&r('"\\""')),null!==i?e=[e,n,i]:(e=null,E=s)):(e=null,E=s)):(e=null,E=s),null!==e&&(e=function(e,t){return t}(o,e[1])),null===e&&(E=o)),e}function u(){var e,t,n;if(n=E,t=c(),null!==t)for(e=[];null!==t;)e.push(t),t=c();else e=null;return null!==e&&(e=function(e,t){return t.join("")}(n,e)),null===e&&(E=n),e}function c(){var e,n,i,o,s,a,u;return/^[^"\\\0-\x1F]/.test(t.charAt(E))?(e=t.charAt(E),E++):(e=null,0===x&&r('[^"\\\\\\0-\\x1F]')),null===e&&(a=E,'\\"'===t.substr(E,2)?(e='\\"',E+=2):(e=null,0===x&&r('"\\\\\\""')),null!==e&&(e=function(e){return'"'}(a)),null===e&&(E=a),null===e&&(a=E,"\\\\"===t.substr(E,2)?(e="\\\\",E+=2):(e=null,0===x&&r('"\\\\\\\\"')),null!==e&&(e=function(e){return"\\"}(a)),null===e&&(E=a),null===e&&(a=E,"\\/"===t.substr(E,2)?(e="\\/",E+=2):(e=null,0===x&&r('"\\\\/"')),null!==e&&(e=function(e){return"/"}(a)),null===e&&(E=a),null===e&&(a=E,"\\b"===t.substr(E,2)?(e="\\b",E+=2):(e=null,0===x&&r('"\\\\b"')),null!==e&&(e=function(e){return"\b"}(a)),null===e&&(E=a),null===e&&(a=E,"\\f"===t.substr(E,2)?(e="\\f",E+=2):(e=null,0===x&&r('"\\\\f"')),null!==e&&(e=function(e){return"\f"}(a)),null===e&&(E=a),null===e&&(a=E,"\\n"===t.substr(E,2)?(e="\\n",E+=2):(e=null,0===x&&r('"\\\\n"')),null!==e&&(e=function(e){return"\n"}(a)),null===e&&(E=a),null===e&&(a=E,"\\r"===t.substr(E,2)?(e="\\r",E+=2):(e=null,0===x&&r('"\\\\r"')),null!==e&&(e=function(e){return"\r"}(a)),null===e&&(E=a),null===e&&(a=E,"\\t"===t.substr(E,2)?(e="\\t",E+=2):(e=null,0===x&&r('"\\\\t"')),null!==e&&(e=function(e){return"\t"}(a)),null===e&&(E=a),null===e&&(a=E,u=E,"\\u"===t.substr(E,2)?(e="\\u",E+=2):(e=null,0===x&&r('"\\\\u"')),null!==e?(n=l(),null!==n?(i=l(),null!==i?(o=l(),null!==o?(s=l(),null!==s?e=[e,n,i,o,s]:(e=null,E=u)):(e=null,E=u)):(e=null,E=u)):(e=null,E=u)):(e=null,E=u),null!==e&&(e=function(e,t,n,r,i){return String.fromCharCode(parseInt("0x"+t+n+r+i))}(a,e[1],e[2],e[3],e[4])),null===e&&(E=a)))))))))),e}function l(){var e;return/^[0-9a-fA-F]/.test(t.charAt(E))?(e=t.charAt(E),E++):(e=null,0===x&&r("[0-9a-fA-F]")),e}function f(){var e,n,i,o,s;if(o=E,s=E,/^[_a-zA-Z]/.test(t.charAt(E))?(e=t.charAt(E),E++):(e=null,0===x&&r("[_a-zA-Z]")),null!==e){for(n=[],/^[_a-zA-Z0-9]/.test(t.charAt(E))?(i=t.charAt(E),E++):(i=null,0===x&&r("[_a-zA-Z0-9]"));null!==i;)n.push(i),/^[_a-zA-Z0-9]/.test(t.charAt(E))?(i=t.charAt(E),E++):(i=null,0===x&&r("[_a-zA-Z0-9]"));null!==n?e=[e,n]:(e=null,E=s)}else e=null,E=s;return null!==e&&(e=function(e,t,n){return t+n.join("")}(o,e[0],e[1])),null===e&&(E=o),e}function h(){var e,n,i,o,s;if(o=E,48===t.charCodeAt(E)?(e="0",E++):(e=null,0===x&&r('"0"')),null!==e&&(e=function(e){return 0}(o)),null===e&&(E=o),null===e){if(o=E,s=E,/^[1-9]/.test(t.charAt(E))?(e=t.charAt(E),E++):(e=null,0===x&&r("[1-9]")),null!==e){for(n=[],/^[0-9]/.test(t.charAt(E))?(i=t.charAt(E),E++):(i=null,0===x&&r("[0-9]"));null!==i;)n.push(i),/^[0-9]/.test(t.charAt(E))?(i=t.charAt(E),E++):(i=null,0===x&&r("[0-9]"));null!==n?e=[e,n]:(e=null,E=s)}else e=null,E=s;null!==e&&(e=function(e,t,n){return parseInt(t+n.join(""))}(o,e[0],e[1])),null===e&&(E=o)}return e}function p(){var e,n,i,o;return i=E,o=E,58===t.charCodeAt(E)?(e=":",E++):(e=null,0===x&&r('":"')),null!==e?(n=h(),null!==n?e=[e,n]:(e=null,E=o)):(e=null,E=o),null!==e&&(e=function(e,t){return t}(i,e[1])),null===e&&(E=i),null===e&&(i=E,o=E,58===t.charCodeAt(E)?(e=":",E++):(e=null,0===x&&r('":"')),null!==e?(n=f(),null!==n?e=[e,n]:(e=null,E=o)):(e=null,E=o),null!==e&&(e=function(e,t){return t}(i,e[1])),null===e&&(E=i)),e}function d(){var e,n,i,o,s,a;if(s=E,a=E,47===t.charCodeAt(E)?(e="/",E++):(e=null,0===x&&r('"/"')),null!==e)if(n=g(),null!==n){for(i=[],o=v();null!==o;)i.push(o),o=v();null!==i?e=[e,n,i]:(e=null,E=a)}else e=null,E=a;else e=null,E=a;return null!==e&&(e=function(e,t,n){return n.unshift(t),n}(s,e[1],e[2])),null===e&&(E=s),e}function v(){var e,n,i,o;return i=E,o=E,45===t.charCodeAt(E)?(e="-",E++):(e=null,0===x&&r('"-"')),null!==e?(n=g(),null!==n?e=[e,n]:(e=null,E=o)):(e=null,E=o),null!==e&&(e=function(e,t){return t}(i,e[1])),null===e&&(E=i),e}function g(){var e;return"little"===t.substr(E,6)?(e="little",E+=6):(e=null,0===x&&r('"little"')),null===e&&("big"===t.substr(E,3)?(e="big",E+=3):(e=null,0===x&&r('"big"')),null===e&&("signed"===t.substr(E,6)?(e="signed",E+=6):(e=null,0===x&&r('"signed"')),null===e&&("unsigned"===t.substr(E,8)?(e="unsigned",E+=8):(e=null,0===x&&r('"unsigned"')),null===e&&("integer"===t.substr(E,7)?(e="integer",E+=7):(e=null,0===x&&r('"integer"')),null===e&&("binary"===t.substr(E,6)?(e="binary",E+=6):(e=null,0===x&&r('"binary"')),null===e&&("float"===t.substr(E,5)?(e="float",E+=5):(e=null,0===x&&r('"float"')),null===e&&(e=y()))))))),e}function y(){var e,n,i,o;return i=E,o=E,"unit:"===t.substr(E,5)?(e="unit:",E+=5):(e=null,0===x&&r('"unit:"')),null!==e?(n=h(),null!==n?e=[e,n]:(e=null,E=o)):(e=null,E=o),null!==e&&(e=function(e,t){return"unit:"+t}(i,e[1])),null===e&&(E=i),e}function m(){var e,n;for(e=[],/^[ \t\n]/.test(t.charAt(E))?(n=t.charAt(E),E++):(n=null,0===x&&r("[ \\t\\n]"));null!==n;)e.push(n),/^[ \t\n]/.test(t.charAt(E))?(n=t.charAt(E),E++):(n=null,0===x&&r("[ \\t\\n]"));return e}function b(e){e.sort();for(var t=null,n=[],r=0;r<e.length;r++)e[r]!==t&&(n.push(e[r]),t=e[r]);return n}function _(){for(var e=1,n=1,r=!1,i=0;i<Math.max(E,k);i++){var o=t.charAt(i);"\n"===o?(r||e++,n=1,r=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e++,n=1,r=!0):(n++,r=!1)}return{line:e,column:n}}var w={start:i,segmentTail:o,segment:s,string:a,chars:u,"char":c,hexDigit:l,identifier:f,number:h,size:p,specifierList:d,specifierTail:v,specifier:g,unit:y,ws:m};if(void 0!==n){if(void 0===w[n])throw new Error("Invalid rule name: "+e(n)+".")}else n="start";var E=0,x=0,k=0,I=[],C=w[n]();if(null===C||E!==t.length){var S=Math.max(E,k),T=S<t.length?t.charAt(S):null,B=_();throw new this.SyntaxError(b(I),T,S,B.line,B.column)}return C},toSource:function(){return this._source}};return t.SyntaxError=function(t,n,r,i,o){function s(t,n){var r,i;switch(t.length){case 0:r="end of input";break;case 1:r=t[0];break;default:r=t.slice(0,t.length-1).join(", ")+" or "+t[t.length-1]}return i=n?e(n):"end of input","Expected "+r+" but "+i+" found."}this.name="SyntaxError",this.expected=t,this.found=n,this.message=s(t,n),this.offset=r,this.line=i,this.column=o},t.SyntaxError.prototype=Error.prototype,t}()},function(e,t,n){"use strict";function r(e,t,n,r,i){switch(n){case 1:return i?e.readInt8(t):e.readUInt8(t);case 2:return r?i?e.readInt16BE(t):e.readUInt16BE(t):i?e.readInt16LE(t):e.readUInt16LE(t);case 4:return r?i?e.readInt32BE(t):e.readUInt32BE(t):i?e.readInt32LE(t):e.readUInt32LE(t);case 8:return r?(i?c.readInt64BE:c.readUInt64BE)(e,t):(i?c.readInt64LE:c.readUInt64LE)(e,t);default:throw"Integers must be 8-, 16-, 32- or 64-bit"}}function i(e,t,n,r){switch(n){case 4:return r?e.readFloatBE(t):e.readFloatLE(t);case 8:return r?e.readDoubleBE(t):e.readDoubleLE(t);default:throw"Floats must be 32- or 64-bit"}}function o(e,t){var n=e.size;return"string"==typeof n?t[n]:n}function s(e){function t(){}return t.prototype=e,new t}function a(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function u(e,t,n){function u(e){l("skip bits"),l(e);var t=o(e,v);if(t===!0)return d%8===0&&(d=g,!0);var n=e.unit*t;return!(d+n>g)&&void(d+=n)}function c(e){l("get_integer"),l(e);var n=e.unit,i=o(e,v),s=i*n,a=d/8;return d+=s,!(s%8>0||d>g)&&r(t,a,s/8,e.bigendian,e.signed)}function f(e){l("get_float"),l(e);var n=e.unit,r=o(e,v),s=r*n,a=d/8;return d+=s,!(d>g)&&i(t,a,s/8,e.bigendian)}function h(e){l("get_binary"),l(e);var n=e.unit,r=o(e,v),i=d/8;if(r===!0)return d=g,t.slice(i);var s=r*n;return!(s%8>0||d+s>g)&&(d+=s,t.slice(i,i+s/8))}function p(e){l("get_string"),l(e);var n=e.value.length,r=d/8;return d+=8*n,!(d>g)&&t.slice(r,r+n).toString("utf8")}for(var d=0,v=s(n),g=8*t.length,y=e.length,m=0;m<y;m++){var b=e[m],_=!1;if("_"===b.name)_=u(b);else{switch(b.type){case"string":_=p(b);break;case"integer":_=c(b);break;case"float":_=f(b);break;case"binary":_=h(b)}if(_===!1)return!1;if(b.name)v[b.name]=_;else if(b.value!=_)return!1}}return d==g&&a(v)}var c=n(120),l={NODE_ENV:"production"}.DEBUG?function(e){console.log(e)}:function(){};e.exports.match=u,e.exports.parse_int=r,e.exports.parse_float=i},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){for(var i=0,o=n.length;i<o;i++){var s=n[i];switch(s.type){case"string":t+=e.write(s.value,t,"utf8");break;case"binary":t+=a(s,e,t,r);break;case"integer":t+=u(s,e,t,r);break;case"float":t+=l(s,e,t,r)}}return t}function i(e,n){var i=s(e,n),o=new t(i);return r(o,0,e,n),o}function o(e,n){if("string"==typeof e.size)return n[e.size]*e.unit/8;if("string"===e.type)return t.byteLength(e.value,"utf8");if("binary"===e.type&&e.size===!0){var r=n[e.name];return r.length}return e.size*e.unit/8}function s(e,t){for(var n=0,r=0,i=e.length;r<i;r++)n+=o(e[r],t);return n}function a(e,t,n,r){var i=r[e.name],s=o(e,r);return i.copy(t,n,0,s),s}function u(e,t,n,r){var i=e.name?r[e.name]:e.value,s=o(e,r);return c(t,i,n,s,e.bigendian)}function c(e,t,n,r,i){switch(r){case 1:e.writeUInt8(t,n);break;case 2:i?e.writeUInt16BE(t,n):e.writeUInt16LE(t,n);break;case 4:i?e.writeUInt32BE(t,n):e.writeUInt32LE(t,n);break;case 8:i?h.writeUInt64BE(e,t,n):h.writeUInt64LE(e,t,n);break;default:throw new Error("integer size * unit must be 8, 16, 32 or 64")}return r}function l(e,t,n,r){var i=e.name?r[e.name]:e.value,s=o(e,r);return f(t,i,n,s,e.bigendian)}function f(e,t,n,r,i){if(4===r)i?e.writeFloatBE(t,n):e.writeFloatLE(t,n);else{if(8!==r)throw new Error("float size * unit must be 32 or 64");i?e.writeDoubleBE(t,n):e.writeDoubleLE(t,n)}return r}var h=n(120),p=n(127).parse;e.exports.write=r,e.exports.build=i,e.exports.write_int=c,e.exports.write_float=f,e.exports.builder=function(e){e=arguments.length>1?[].join.call(arguments,","):e;var t=p(e);return function(e){return i(t,e)}}}).call(t,n(3).Buffer)},function(e,t,n){(function(t){"use strict";function r(){T=[]}function i(){T.push(_.apply(null,arguments))}function o(){return T.join("\n")}function s(e){return"string"==typeof e.size?_("%s * %d",h(e.size),e.unit):(e.size*e.unit).toString()}function a(e){i("bits = %s;\n",s(e));var t="integer"===e.type?"parse_int":"parse_float",n=e.bigendian,r=e.signed;i("byteoffset = offset / 8; offset += bits"),i("if (offset > binsize) { return false; }"),i("else { result = %s(bin, byteoffset, bits / 8, %s, %s); }",t,n,r)}function u(e){i("byteoffset = offset / 8;"),e.size===!0?(i("offset = binsize;"),i("result = bin.slice(byteoffset);")):(i("bits = %s;",s(e)),i("offset += bits;"),i("if (offset > binsize) { return false; }"),i("else { result = bin.slice(byteoffset,","byteoffset + bits / 8); }"))}function c(e){i("byteoffset = offset / 8;");var t=e.value.length,n=8*t;i("offset += %d;",n),i("if (offset > binsize) { return false; }"),i("else { result = bin.toString(byteoffset,",_("byteoffset + %d); }",t))}function l(e){if("string"==typeof e.size)i("var skipbits = %s * %d;",h(e.size),e.unit),i("if (offset + skipbits > binsize) { return false; }"),i("else { offset += skipbits; }");else if(e.size===!0)i("if (offset % 8 === 0) { offset = binsize; }"),i("else { return false; }");else{var t=e.unit*e.size;i("if (offset + %d > binsize) { return false; }",t),i("else { offset += %d; }",t)}}function f(e){if("_"===e.name)l(e);else{switch(e.type){case"integer":case"float":a(e);break;case"binary":u(e);break;case"string":c(e)}if(i("if (result === false) return false;"),e.name)i("else if (%s !== undefined) {",h(e.name)),i("if (%s != result) return false;",h(e.name)),i("}"),i("else %s = result;",h(e.name));else{var t=JSON.stringify(e.value);i("else if (result != %s) return false;",t)}}}function h(e){return"var_"+e}function p(e){for(var t={},n=0;n<e.length;n++){var r=e[n].name;r&&"_"!==r&&(t[r]=!0),r=e[n].size,"string"==typeof r&&(t[r]=!0)}return Object.keys(t)}function d(e){r(),i("return function(binary, env) {"),i("'use strict';"),i("var bin = binary, env = env || {};"),i("var offset = 0, binsize = bin.length * 8;"),i("var bits, result, byteoffset;");for(var t=p(e),n=0;n<t.length;n++){var s=t[n];i("var %s = env['%s'];",h(s),s)}for(var a=e.length,u=0;u<a;u++){var c=e[u];i("// "+JSON.stringify(c)),f(c)}i("if (offset == binsize) {"),i("return {");for(var n=0;n<t.length;n++){var s=t[n];i("%s: %s,",s,h(s))}i("};"),i("}"),i("else return false;"),i("}");var l=new Function("parse_int","parse_float",o());return l(x,k)}function v(e){switch(e.type){case"string":i("offset += buf.write(%s, offset, 'utf8');",JSON.stringify(e.value));break;case"binary":i("val = bindings['%s'];",e.name),e.size===!0?i("size = val.length;"):"string"==typeof e.size?i("size = (bindings['%s'] * %d) / 8;",e.size,e.unit):i("size = %d;",e.size*e.unit/8),i("val.copy(buf, offset, 0, size);"),i("offset += size;");break;case"integer":case"float":g(e)}}function g(e){e.name?i("val = bindings['%s'];",e.name):i("val = %d",e.value);var t="integer"===e.type?"write_int":"write_float";"string"==typeof e.size?i("size = (bindings['%s'] * %d) / 8;",e.size,e.unit):i("size = %d;",e.size*e.unit/8),i("%s(buf, val, offset, size, %s);",t,e.bigendian),i("offset += size;")}function y(e){for(var n=[],r=0,o=0;o<e.length;o++){var s=e[o];"string"==typeof s.size||s.size===!0?n.push(s):r+="string"===s.type?t.byteLength(s.value):s.size*s.unit/8}if(i("var buffersize = %d;",r),n.length>0)for(var a=0;a<n.length;a++){var s=n[a];s.size===!0?i("buffersize += bindings['%s'].length;",s.name):i("buffersize += (bindings['%s'] * %d) / 8;",s.size,s.unit)}}function m(e){i("var val, size;");for(var t=e.length,n=0;n<t;n++){var r=e[n];i("// %s",JSON.stringify(r)),v(r)}}function b(e){return r(),i("return function(bindings) {"),i("'use strict';"),y(e),i("var buf = new Buffer(buffersize);"),i("var offset = 0;"),m(e),i("return buf;"),i("}"),new Function("write_int","write_float",o())(C,S)}n(120);var _=n(133).format,w=n(127).parse,E=n(130),x=E.parse_int,k=E.parse_float,I=n(131),C=I.write_int,S=I.write_float,T=[];e.exports.compile_pattern=d,e.exports.compile=function(){var e=[].join.call(arguments,","),t=w(e);return d(t)},e.exports.compile_builder=function(){var e=[].join.call(arguments,","),t=w(e);return b(t)}}).call(t,n(3).Buffer)},[350,134,135],123,124,function(e,t,n){(function(t,r){"use strict";function i(e){this.newStreams=[],this.oldStreams=[],this.blocked=!1,this.scheduledRead=!1,this.out=e;var t=this;e.on("drain",function(){t.blocked=!1,t._readIncoming()})}var o=(n(133).inherits,n(121)),s="function"==typeof t?t:r.nextTick;i.prototype._readIncoming=function(){function e(e){var r;if(1===e.length){for(r=e.shift();t;){var i=r.read();if(null===i)break;t=n.write(i)}t||e.push(r)}else for(;t&&(r=e.shift());){var i=r.read();null!==i&&(t=n.write(i),e.push(r))}}if(!this.blocked){var t=!0,n=this.out;e(this.newStreams),t?(o.equal(0,this.newStreams.length),e(this.oldStreams)):(o(this.newStreams.length>0,"Expect some new streams to remain"),this.oldStreams=this.oldStreams.concat(this.newStreams),this.newStreams=[]),this.blocked=!t}},i.prototype._scheduleRead=function(){var e=this;e.scheduledRead||(s(function(){e.scheduledRead=!1,e._readIncoming()}),e.scheduledRead=!0)},i.prototype.pipeFrom=function(e){function t(){i.newStreams.push(e),i._scheduleRead()}function n(){e.removeListener("readable",t),e.removeListener("error",n),e.removeListener("end",n),e.removeListener("unpipeFrom",r)}function r(e){e===i&&n()}var i=this;e.on("unpipeFrom",r),e.on("end",n),e.on("error",n),e.on("readable",t)},i.prototype.unpipeFrom=function(e){e.emit("unpipeFrom",this)},e.exports.Mux=i}).call(t,n(57).setImmediate,n(52))},function(e,t,n){function r(){i.call(this)}e.exports=r;var i=n(138).EventEmitter,o=n(135);o(r,i),r.Readable=n(139),r.Writable=n(149),r.Duplex=n(150),r.Transform=n(151),r.PassThrough=n(152),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,e.end())}function s(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function a(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){c.removeListener("data",n),e.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",s),c.removeListener("error",a),e.removeListener("error",a),c.removeListener("end",u),c.removeListener("close",u),e.removeListener("close",u)}var c=this;c.on("data",n),e.on("drain",r),e._isStdio||t&&t.end===!1||(c.on("end",o),c.on("close",s));var l=!1;return c.on("error",a),e.on("error",a),c.on("end",u),c.on("close",u),e.on("close",u),e.emit("pipe",c),e}},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,a,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,u=0;u<i;u++)c[u].apply(this,a);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,s,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(a=s;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){(function(r){t=e.exports=n(140),t.Stream=n(137),t.Readable=t,t.Writable=n(145),t.Duplex=n(144),t.Transform=n(147),t.PassThrough=n(148),r.browser||"disable"!=={NODE_ENV:"production"}.READABLE_STREAM||(e.exports=n(137))}).call(t,n(52))},[351,141,143,144,144],function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===g(e)}function r(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function c(e){return void 0===e}function l(e){return"[object RegExp]"===g(e)}function f(e){return"object"==typeof e&&null!==e}function h(e){return"[object Date]"===g(e)}function p(e){return"[object Error]"===g(e)||e instanceof Error}function d(e){return"function"==typeof e}function v(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function g(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=r,t.isNull=i,t.isNullOrUndefined=o,t.isNumber=s,t.isString=a,t.isSymbol=u,t.isUndefined=c,t.isRegExp=l,t.isObject=f,t.isDate=h,t.isError=p,t.isFunction=d,t.isPrimitive=v,t.isBuffer=e.isBuffer}).call(t,n(3).Buffer)},91,[352,140,145],[353,144,144],function(e,t,n){function r(e){if(e&&!u(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function s(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var a=n(3).Buffer,u=a.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){
case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},[354,144],[355,147],function(e,t,n){e.exports=n(145)},[356,144],function(e,t,n){e.exports=n(147)},[357,148],[356,154],[352,155,158],[351,156,157,154,154],141,91,[353,154,154],function(e,t,n){"use strict";function r(t,n,r){function i(){return r()?(c=0,!0):++c<2}o.call(this),this.interval=t;var s=t*e.exports.UNITS_TO_MS,a=this.emit.bind(this,"beat"),u=this.emit.bind(this,"timeout");this.sendTimer=setInterval(this.runHeartbeat.bind(this,n,a),s/2);var c=0;this.recvTimer=setInterval(this.runHeartbeat.bind(this,i,u),s)}var i=n(133).inherits,o=n(138).EventEmitter;e.exports.UNITS_TO_MS=1e3,i(r,o),e.exports.Heart=r,r.prototype.clear=function(){clearInterval(this.sendTimer),clearInterval(this.recvTimer)},r.prototype.runHeartbeat=function(e,t){e()||t()}},function(e,t,n){"use strict";var r=n(117),i=n(133).format,o=(n(133).inherits,n(125).HEARTBEAT);e.exports.closeMessage=function(e){var t=e.fields.replyCode;return i('%d (%s) with message "%s"',t,r.constant_strs[t],e.fields.replyText)},e.exports.methodName=function(e){return r.info(e).name},e.exports.inspect=function(e,t){if(e===o)return"<Heartbeat>";if(e.id){var n=r.info(e.id);return i("<%s channel:%d%s>",n.name,e.channel,t?" "+JSON.stringify(e.fields,void 0,2):"")}return i("<Content channel:%d size:%d>",e.channel,e.size)}},function(e,t){"use strict";function n(e){if(e){var t=Math.ceil(e/32);this.words=new Array(t)}else this.words=[];this.wordsInUse=0}function r(e){return Math.floor(e/32)}function i(e){if(0===e)return 32;var t,n=31;return t=e<<16,0!=t&&(n-=16,e=t),t=e<<8,0!=t&&(n-=8,e=t),t=e<<4,0!=t&&(n-=4,e=t),t=e<<2,0!=t&&(n-=2,e=t),n-(e<<1>>>31)}var o=n.prototype;o.ensureSize=function(e){var t=this.words.length;t<e&&(this.words=this.words.concat(new Array(e-t)))},o.set=function(e){var t=r(e);t>=this.wordsInUse&&(this.ensureSize(t+1),this.wordsInUse=t+1);var n=1<<e;this.words[t]|=n},o.clear=function(e){var t=r(e);if(!(t>=this.wordsInUse)){var n=~(1<<e);this.words[t]&=n}},o.get=function(e){var t=r(e);if(t>=this.wordsInUse)return!1;var n=1<<e;return!!(this.words[t]&n)},o.nextSetBit=function(e){var t=r(e);if(t>=this.wordsInUse)return-1;for(var n=this.words[t]&4294967295<<e;;){if(n)return 32*t+i(n);if(t++,t===this.wordsInUse)return-1;n=this.words[t]}},o.nextClearBit=function(e){var t=r(e);if(t>=this.wordsInUse)return e;for(var n=~this.words[t]&4294967295<<e;;){if(n)return 32*t+i(n);if(t++,t==this.wordsInUse)return 32*t;n=~this.words[t]}},e.exports.BitSet=n},[357,163],[355,164],[354,154],function(e,t,n){function r(e,t){return e&&e.split("\n").slice(t).join("\n")}function i(e,t){var n=new Error;this.message=e,this.stack=this.toString()+"\n"+r(n.stack,2),this.stackAtStateChange=t}function o(e){var t=new Error;return"Stack capture: "+e+"\n"+r(t.stack,2)}var s=n(133).inherits;s(i,Error),i.prototype.name="IllegalOperationError",e.exports.IllegalOperationError=i,e.exports.stackCapture=o},function(e,t,n){var r=n(118).Buffer;e.exports.plain=function(e,t){return{mechanism:"PLAIN",response:function(){return r.from(["",e,t].join(String.fromCharCode(0)))},username:e,password:t}},e.exports.external=function(){return{mechanism:"EXTERNAL",response:function(){return r.from("")}}}},function(e,t){e.exports={name:"amqplib",homepage:"http://squaremo.github.io/amqp.node/",main:"./channel_api.js",version:"0.5.2",description:"An AMQP 0-9-1 (e.g., RabbitMQ) library and client.",repository:{type:"git",url:"https://github.com/squaremo/amqp.node.git"},engines:{node:">=0.8 <=9"},dependencies:{bitsyntax:"~0.0.4",bluebird:"^3.4.6","buffer-more-ints":"0.0.2","readable-stream":"1.x >=1.1.9","safe-buffer":"^5.0.1"},devDependencies:{mocha:"~1",claire:"0.4.1","uglify-js":"2.4.x",istanbul:"0.1.x"},scripts:{test:"make test",prepublish:"make"},keywords:["AMQP","AMQP 0-9-1","RabbitMQ"],author:"Michael Bridgen <mikeb@squaremobius.net>",license:"MIT"}},function(e,t){},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);c.call(this),this.connection=e;var t=this;["error","close","blocked","unblocked"].forEach(function(n){e.on(n,t.emit.bind(t,n))})}function i(e){l.call(this,e),this.on("delivery",this.handleDelivery.bind(this)),this.on("cancel",this.handleCancel.bind(this))}function o(e){i.call(this,e)}var s=n(117),a=n(50),u=n(133).inherits,c=n(138).EventEmitter,l=n(170).BaseChannel,f=n(170).acceptMessage,h=n(171);u(r,c),e.exports.ChannelModel=r;var p=r.prototype;p.close=function(){return a.fromCallback(this.connection.close.bind(this.connection))},u(i,l),e.exports.Channel=i,p.createChannel=function(){var e=new i(this.connection);return e.open().then(function(t){return e})};var d=i.prototype;d.rpc=function(e,t,n){var r=this;return a.fromCallback(function(i){return r._rpc(e,t,n,i)}).then(function(e){return e.fields})},d.open=function(){return a["try"](this.allocate.bind(this)).then(function(e){return e.rpc(s.ChannelOpen,{outOfBand:""},s.ChannelOpenOk)})},d.close=function(){var e=this;return a.fromCallback(function(t){return e.closeBecause("Goodbye",s.constants.REPLY_SUCCESS,t)})},d.assertQueue=function(e,t){return this.rpc(s.QueueDeclare,h.assertQueue(e,t),s.QueueDeclareOk)},d.checkQueue=function(e){return this.rpc(s.QueueDeclare,h.checkQueue(e),s.QueueDeclareOk)},d.deleteQueue=function(e,t){return this.rpc(s.QueueDelete,h.deleteQueue(e,t),s.QueueDeleteOk)},d.purgeQueue=function(e){return this.rpc(s.QueuePurge,h.purgeQueue(e),s.QueuePurgeOk)},d.bindQueue=function(e,t,n,r){return this.rpc(s.QueueBind,h.bindQueue(e,t,n,r),s.QueueBindOk)},d.unbindQueue=function(e,t,n,r){return this.rpc(s.QueueUnbind,h.unbindQueue(e,t,n,r),s.QueueUnbindOk)},d.assertExchange=function(e,t,n){return this.rpc(s.ExchangeDeclare,h.assertExchange(e,t,n),s.ExchangeDeclareOk).then(function(t){return{exchange:e}})},d.checkExchange=function(e){return this.rpc(s.ExchangeDeclare,h.checkExchange(e),s.ExchangeDeclareOk)},d.deleteExchange=function(e,t){return this.rpc(s.ExchangeDelete,h.deleteExchange(e,t),s.ExchangeDeleteOk)},d.bindExchange=function(e,t,n,r){return this.rpc(s.ExchangeBind,h.bindExchange(e,t,n,r),s.ExchangeBindOk)},d.unbindExchange=function(e,t,n,r){return this.rpc(s.ExchangeUnbind,h.unbindExchange(e,t,n,r),s.ExchangeUnbindOk)},d.publish=function(e,t,n,r){var i=h.publish(e,t,r);return this.sendMessage(i,i,n)},d.sendToQueue=function(e,t,n){return this.publish("",e,t,n)},d.consume=function(e,t,n){var r=this,i=h.consume(e,n);return a.fromCallback(function(e){r._rpc(s.BasicConsume,i,s.BasicConsumeOk,e)}).then(function(e){return r.registerConsumer(e.fields.consumerTag,t),e.fields})},d.cancel=function(e){var t=this;return a.fromCallback(function(n){t._rpc(s.BasicCancel,h.cancel(e),s.BasicCancelOk,n)}).then(function(n){return t.unregisterConsumer(e),n.fields})},d.get=function(e,t){var n=this,r=h.get(e,t);return a.fromCallback(function(e){return n.sendOrEnqueue(s.BasicGet,r,e)}).then(function(e){if(e.id===s.BasicGetEmpty)return!1;if(e.id===s.BasicGetOk){var t=e.fields;return new a(function(e){n.handleMessage=f(function(n){n.fields=t,e(n)})})}throw new Error("Unexpected response to BasicGet: "+inspect(e))})},d.ack=function(e,t){this.sendImmediately(s.BasicAck,h.ack(e.fields.deliveryTag,t))},d.ackAll=function(){this.sendImmediately(s.BasicAck,h.ack(0,!0))},d.nack=function(e,t,n){this.sendImmediately(s.BasicNack,h.nack(e.fields.deliveryTag,t,n))},d.nackAll=function(e){this.sendImmediately(s.BasicNack,h.nack(0,!0,e))},d.reject=function(e,t){this.sendImmediately(s.BasicReject,h.reject(e.fields.deliveryTag,t))},d.prefetch=d.qos=function(e,t){return this.rpc(s.BasicQos,h.prefetch(e,t),s.BasicQosOk)},d.recover=function(){return this.rpc(s.BasicRecover,h.recover(),s.BasicRecoverOk)},u(o,i),e.exports.ConfirmChannel=o,p.createConfirmChannel=function(){var e=new o(this.connection);return e.open().then(function(t){return e.rpc(s.ConfirmSelect,{nowait:!1},s.ConfirmSelectOk)}).then(function(){return e})};var v=o.prototype;v.publish=function(e,t,n,r,i){return this.pushConfirmCallback(i),d.publish.call(this,e,t,n,r)},v.sendToQueue=function(e,t,n,r){return this.publish("",e,t,n,r)},v.waitForConfirms=function(){var e=[],t=this.unconfirmed;return t.forEach(function(n,r){if(null===n);else{var i=new a(function(e,i){t[r]=function(t){n&&n(t),null===t?e():i(t)}});e.push(i)}}),a.all(e)}},function(e,t,n){"use strict";function r(e){v.call(this),this.connection=e,this.reply=null,this.pending=[],this.lwm=1,this.unconfirmed=[],this.on("ack",this.handleConfirm.bind(this,function(e){e&&e(null)})),this.on("nack",this.handleConfirm.bind(this,function(e){e&&e(new Error("message nacked"))})),this.handleMessage=s}function i(e,t){return function(){throw new y(e,t)}}function o(e,t,n){e.sendImmediately=e.sendOrEnqueue=e.sendMessage=i(t,n)}function s(e){var t;if(e.id===c.BasicDeliver)t="delivery";else{if(e.id!==c.BasicReturn)throw g("Expected BasicDeliver or BasicReturn; got %s",f(e));t="return"}var n=this,r=e.fields;return a(function(e){e.fields=r,n.emit(t,e)})}function a(e){function t(t){if(t.id===c.BasicProperties)return a.properties=t.fields,r=i=t.size,0===r?(a.content=b.alloc(0),e(a),s):n;throw"Expected headers frame after delivery"}function n(t){if(t.content){var u=t.content.length;if(i-=u,0===i)return null!==o?(o.push(t.content),a.content=b.concat(o)):a.content=t.content,e(a),s;if(i<0)throw g("Too much content sent! Expected %d bytes",r);return null!==o?o.push(t.content):o=[t.content],n}throw"Expected content frame after headers"}var r=0,i=0,o=null,a={fields:null,properties:null,content:null};return t}function u(e){r.call(this,e),this.consumers={}}var c=n(117),l=n(160).closeMessage,f=n(160).inspect,h=n(160).methodName,p=n(121),d=n(133).inherits,v=n(138).EventEmitter,g=n(133).format,y=n(165).IllegalOperationError,m=n(165).stackCapture,b=n(118).Buffer;d(r,v),e.exports.Channel=r,e.exports.acceptMessage=a;var _=r.prototype;_.allocate=function(){return this.ch=this.connection.freshChannel(this),this},_.sendImmediately=function(e,t){return this.connection.sendMethod(this.ch,e,t)},_.sendOrEnqueue=function(e,t,n){this.reply?this.pending.push({method:e,fields:t,reply:n}):(p(0===this.pending.length),this.reply=n,this.sendImmediately(e,t))},_.sendMessage=function(e,t,n){return this.connection.sendMessage(this.ch,c.BasicPublish,e,c.BasicProperties,t,n)},_._rpc=function(e,t,n,r){function i(t,i){if(null===t){if(i.id===n)return r(null,i);var s=h(n),a=new Error(g("Expected %s; got %s",s,f(i,!1)));return o.closeWithError(g("Expected %s; got %s",s,h(i.id)),c.constants.UNEXPECTED_FRAME,a),r(a)}if(t instanceof Error)return r(t);var u=(t.fields.classId<<16)+t.fields.methodId,a=e===u?g("Operation failed: %s; %s",h(e),l(t)):g("Channel closed by server: %s",l(t));return r(new Error(a))}var o=this;this.sendOrEnqueue(e,t,i)},_.toClosed=function(e){this._rejectPending(),o(this,"Channel closed",e),this.accept=i("Channel closed",e),this.connection.releaseChannel(this.ch),this.emit("close")},_.toClosing=function(e,t){var n=this.sendImmediately.bind(this);o(this,"Channel closing",e),this.accept=function(e){if(e.id===c.ChannelCloseOk){t&&t();var r=m("ChannelCloseOk frame received");this.toClosed(r)}else e.id===c.ChannelClose&&n(c.ChannelCloseOk,{})}},_._rejectPending=function(){function e(e){e(new Error("Channel ended, no reply will be forthcoming"))}null!==this.reply&&e(this.reply),this.reply=null;for(var t;t=this.pending.shift();)e(t.reply);this.pending=null},_.closeBecause=function(e,t,n){this.sendImmediately(c.ChannelClose,{replyText:e,replyCode:t,methodId:0,classId:0});var r=m("closeBecause called: "+e);this.toClosing(r,n)},_.closeWithError=function(e,t,n){var r=this;this.closeBecause(e,t,function(){n.code=t,r.emit("error",n)})},_.acceptMessageFrame=function(e){try{this.handleMessage=this.handleMessage(e)}catch(t){"string"==typeof t?this.closeWithError(t,c.constants.UNEXPECTED_FRAME,new Error(t)):t instanceof Error?this.closeWithError("Error while processing message",c.constants.INTERNAL_ERROR,t):this.closeWithError("Internal error while processing message",c.constants.INTERNAL_ERROR,new Error(t.toString()))}},_.handleConfirm=function(e,t){var n=t.deliveryTag,r=t.multiple;if(r){var i=this.unconfirmed.splice(0,n-this.lwm+1);this.lwm=n+1,i.forEach(e)}else{var o;if(n===this.lwm)for(o=this.unconfirmed.shift(),this.lwm++;null===this.unconfirmed[0];)this.unconfirmed.shift(),this.lwm++;else o=this.unconfirmed[n-this.lwm],this.unconfirmed[n-this.lwm]=null;e(o)}},_.pushConfirmCallback=function(e){this.unconfirmed.push(e||!1)},_.accept=function(e){switch(e.id){case void 0:case c.BasicDeliver:case c.BasicReturn:case c.BasicProperties:return this.acceptMessageFrame(e);case c.BasicAck:return this.emit("ack",e.fields);case c.BasicNack:return this.emit("nack",e.fields);case c.BasicCancel:return this.emit("cancel",e.fields);case c.ChannelClose:if(this.reply){var t=this.reply;this.reply=null,t(e)}var n="Channel closed by server: "+l(e);this.sendImmediately(c.ChannelCloseOk,{});var r=new Error(n);r.code=e.fields.replyCode,this.emit("error",r);var i=m(n);return void this.toClosed(i);case c.BasicFlow:return this.closeWithError("Flow not implemented",c.constants.NOT_IMPLEMENTED,new Error("Flow not implemented"));default:var t=this.reply;if(this.reply=null,this.pending.length>0){var o=this.pending.shift();this.reply=o.reply,this.sendImmediately(o.method,o.fields)}return t(null,e)}},_.onBufferDrain=function(){this.emit("drain")},d(u,r),e.exports.BaseChannel=u,u.prototype.registerConsumer=function(e,t){this.consumers[e]=t},u.prototype.unregisterConsumer=function(e){delete this.consumers[e]},u.prototype.dispatchMessage=function(e,t){var n=e.consumerTag,r=this.consumers[n];if(r)return r(t);throw new Error("Unknown consumer: "+n)},u.prototype.handleDelivery=function(e){return this.dispatchMessage(e.fields,e)},u.prototype.handleCancel=function(e){return this.dispatchMessage(e,null)}},function(e,t){"use strict";function n(e,t,n){void 0!=n&&(e[t]=n)}var r=Object.freeze({}),i={};i.assertQueue=function(e,t){e=e||"",t=t||r;var i=Object.create(t.arguments||null);return n(i,"x-expires",t.expires),n(i,"x-message-ttl",t.messageTtl),n(i,"x-dead-letter-exchange",t.deadLetterExchange),n(i,"x-dead-letter-routing-key",t.deadLetterRoutingKey),n(i,"x-max-length",t.maxLength),n(i,"x-max-priority",t.maxPriority),{queue:e,exclusive:!!t.exclusive,durable:void 0===t.durable||t.durable,autoDelete:!!t.autoDelete,arguments:i,passive:!1,ticket:0,nowait:!1}},i.checkQueue=function(e){return{queue:e,passive:!0,nowait:!1,durable:!0,autoDelete:!1,exclusive:!1,ticket:0}},i.deleteQueue=function(e,t){return t=t||r,{queue:e,ifUnused:!!t.ifUnused,ifEmpty:!!t.ifEmpty,ticket:0,nowait:!1}},i.purgeQueue=function(e){return{queue:e,ticket:0,nowait:!1}},i.bindQueue=function(e,t,n,r){return{queue:e,exchange:t,routingKey:n,arguments:r,ticket:0,nowait:!1}},i.unbindQueue=function(e,t,n,r){return{queue:e,exchange:t,routingKey:n,arguments:r,ticket:0,nowait:!1}},i.assertExchange=function(e,t,i){i=i||r;var o=Object.create(i.arguments||null);return n(o,"alternate-exchange",i.alternateExchange),{exchange:e,ticket:0,type:t,passive:!1,durable:void 0===i.durable||i.durable,autoDelete:!!i.autoDelete,internal:!!i.internal,nowait:!1,arguments:o}},i.checkExchange=function(e){return{exchange:e,passive:!0,nowait:!1,durable:!0,internal:!1,type:"",autoDelete:!1,ticket:0}},i.deleteExchange=function(e,t){return t=t||r,{exchange:e,ifUnused:!!t.ifUnused,ticket:0,nowait:!1}},i.bindExchange=function(e,t,n,r){return{source:t,destination:e,routingKey:n,arguments:r,ticket:0,nowait:!1}},i.unbindExchange=function(e,t,n,r){return{source:t,destination:e,routingKey:n,arguments:r,ticket:0,nowait:!1}},i.publish=function(e,t,i){function o(e){return void 0===e?void 0:Array.isArray(e)?e.map(String):[String(e)]}i=i||r;var s=Object.create(i.headers||null);n(s,"CC",o(i.CC)),n(s,"BCC",o(i.BCC));var a;void 0!==i.persistent?a=i.persistent?2:1:"number"==typeof i.deliveryMode?a=i.deliveryMode:i.deliveryMode&&(a=2);var u=i.expiration;return void 0!==u&&(u=u.toString()),{exchange:e,routingKey:t,mandatory:!!i.mandatory,immediate:!1,ticket:void 0,contentType:i.contentType,contentEncoding:i.contentEncoding,headers:s,deliveryMode:a,priority:i.priority,correlationId:i.correlationId,replyTo:i.replyTo,expiration:u,messageId:i.messageId,timestamp:i.timestamp,type:i.type,userId:i.userId,appId:i.appId,clusterId:void 0}},i.consume=function(e,t){t=t||r;var i=Object.create(t.arguments||null);return n(i,"x-priority",t.priority),{ticket:0,queue:e,consumerTag:t.consumerTag||"",noLocal:!!t.noLocal,noAck:!!t.noAck,exclusive:!!t.exclusive,nowait:!1,arguments:i}},i.cancel=function(e){return{consumerTag:e,nowait:!1}},i.get=function(e,t){return t=t||r,{ticket:0,queue:e,noAck:!!t.noAck}},i.ack=function(e,t){return{deliveryTag:e,multiple:!!t}},i.nack=function(e,t,n){return{deliveryTag:e,multiple:!!t,requeue:void 0===n||n}},i.reject=function(e,t){return{deliveryTag:e,requeue:void 0===t||t}},i.prefetch=function(e,t){return{prefetchCount:e||0,prefetchSize:0,global:!!t}},i.recover=function(){return{requeue:!0}},e.exports=Object.freeze(i)},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(173),u=r(a),c=n(264),l=r(c),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(168),p=r(h),d=n(49),v=r(d),g=n(266),y=r(g),m=n(292),b=r(m),_=n(50),w=r(_),E=n(110),x=r(E),k=n(138),I=r(k),C=n(293).CONFIG,S=function(t){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t._connectionParams=(0,v["default"])({},b["default"].camelizeKeys(e)),t._endpointConfigs=void 0,t._endpoint=(0,v["default"])(C.endpoint,t._connectionParams.endpoint),t._deviceKey=t._connectionParams.deviceKey,t._channels=t._connectionParams.channels,t._deviceId=t._connectionParams.deviceId,t._client=t._connectionParams.client,t._secret=t._connectionParams.secret,t._host=t._connectionParams.host,t._port=t._connectionParams.port,t._vhost=t._connectionParams.vhost,t._protocol=C.protocol,t._inboxTopic=t._connectionParams.inputTopic||C.inboxTopic,t._liveStreamSuffix=C.liveStreamSuffix,t._tempQueueSuffix=C.tempQueueSuffix,t._liveStreams=[],t._tls=t._connectionParams.tls||!1,t._tlsOpts={},t._connectionParams.cert&&(t._tlsOpts.cert=p["default"].readFileSync(t._connectionParams.cert)),t._connectionParams.key&&(t._tlsOpts.key=p["default"].readFileSync(t._connectionParams.key)),t._connectionParams.passphrase&&(t._tlsOpts.passphrase=t._connectionParams.passphrase),t._connectionParams.ca&&(Array.isArray(t._connectionParams.ca)?t._tlsOpts.ca=t._connectionParams.ca.map(function(e){return p["default"].readFileSync(e)}):t._tlsOpts.ca=[p["default"].readFileSync(t._connectionParams.ca)]),t._connectionParams.pfx&&(t._tlsOpts.pfx=p["default"].readFileSync(t._connectionParams.pfx)),t._connectionParams.disableCertCheck?t._tlsOpts.rejectUnauthorized=!1:t._tlsOpts.rejectUnauthorized=!0,t._tlsOpts.secureProtocol=t._connectionParams.secureProtocol||C.tls.secureProtocol,t}return s(n,t),f(n,[{key:"getEndpointConfigs",value:function(){var e=this;return new w["default"](function(t,n){if(void 0!==e._endpointConfigs&&t(e._endpointConfigs),e._deviceId&&e._secret||e._deviceKey){var r=e._generateHostname(),i=x["default"].resolve(r,e._endpoint.deviceConfigurationsPath);if(e._deviceKey){var o={url:i,method:"get",responseType:"json",headers:{"Device-Key":e._deviceKey,"Content-Type":"application/json"}};(0,y["default"])(o).then(function(n){e._endpointConfigs=b["default"].camelizeKeys(n.data),e._connectionParams=e._endpointConfigs.connection,t(e._endpointConfigs)})["catch"](function(e){n(e)})}else e._deviceId&&e._secret&&e._host&&e._port&&e._vhost&&(e._connectionParams.protocols={},e._tls?e._connectionParams.protocols[e._protocol]={tlsPort:e._port}:e._connectionParams.protocols[e._protocol]={port:e._port},e._endpointConfigs={connection:e._connectionParams,channels:[]},t(e._endpointConfigs))}else if(e._client&&e._secret)if(e._host&&e._port&&e._vhost)e._connectionParams.protocols={},e._tls?e._connectionParams.protocols[e._protocol]={tlsPort:e._port}:e._connectionParams.protocols[e._protocol]={port:e._port},e._endpointConfigs={connection:e._connectionParams,liveStreams:[]},t(e._endpointConfigs);else{var s=e._generateHostname(),a=x["default"].resolve(s,e._endpoint.liveStreamKeyConfigurationsPath),u={url:a,method:"get",responseType:"json",headers:{"Live-Stream-Key-Client":e._client,"Live-Stream-Key-Secret":e._secret,"Content-Type":"application/json"}};(0,y["default"])(u).then(function(n){e._endpointConfigs=b["default"].camelizeKeys(n.data),e._connectionParams=e._endpointConfigs.connection,e._liveStreams=e._endpointConfigs.liveStreams||[],t(e._endpointConfigs)})["catch"](function(e){n(e)})}else n(new Error("Missing Device Key or wrong connection parameters"))})}},{key:"channels",value:function(){return this._endpointConfigs.channels?(this._channels=this._endpointConfigs.channels.map(function(e){return e.name}),this._channels||[]):[]}},{key:"deviceId",value:function(){return this._deviceId=this._deviceId||this._connectionParams.deviceId,this._deviceId}},{key:"liveStreamByName",value:function(e){var t=(0,u["default"])(this._liveStreams,function(t){return t.name===e});return t.length>0?t[0].id||e:e}},{key:"liveStreamExists",value:function(e){var t=(0,u["default"])(this._liveStreams,function(t){return t.name===e});return t.length>0}},{key:"tempQueue",value:function(e,t,n){var r=n||(new Date).getTime(),i=this._connectionParams.client||this._connectionParams.deviceId;return r+"-"+i+"-"+(this.exchangeName(e,t)+".")+(""+this._tempQueueSuffix)}},{key:"exchangeName",value:function(e,t){return e&&t?this.liveStreamByName(e)+"."+t:""+t}},{key:"_encapsulateContent",value:function(e){var t=e;try{t=JSON.stringify(e)}catch(n){t=e}return t}},{key:"_generateHostname",value:function(){if(this._endpoint.url)return this._endpoint.url;var e=this._endpoint.host+":"+this._endpoint.port,t=this._tls?this._endpoint.secureProtocol:this._endpoint.protocol;return(0,l["default"])(e,t)||(e=t+"://"+e),e}},{key:"_parseContent",value:function(t){var n=t;e.isBuffer(n)&&(n=n.toString("utf-8"));var r=void 0;try{r=JSON.parse(n)}catch(i){r=n}return r}}]),n}(I["default"]);t["default"]=S}).call(t,n(3).Buffer)},function(e,t,n){function r(e,t){var n=a(e)?i:o;return n(e,s(t,3))}var i=n(174),o=n(175),s=n(181),a=n(23);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}e.exports=n},function(e,t,n){function r(e,t){var n=[];return i(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}var i=n(176);e.exports=r},function(e,t,n){var r=n(177),i=n(180),o=i(r);e.exports=o},function(e,t,n){function r(e,t){return e&&i(e,t,o)}var i=n(178),o=n(32);e.exports=r},function(e,t,n){var r=n(179),i=r();e.exports=i},function(e,t){function n(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var u=s[e?a:++i];if(n(o[u],u,o)===!1)break}return t}}e.exports=n},function(e,t,n){function r(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&r(a[s],s,a)!==!1;);return n}}var i=n(12);e.exports=r},function(e,t,n){function r(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?a(e)?o(e[0],e[1]):i(e):u(e)}var i=n(182),o=n(246),s=n(260),a=n(23),u=n(261);e.exports=r},function(e,t,n){function r(e){var t=o(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}var i=n(183),o=n(243),s=n(245);e.exports=r},function(e,t,n){function r(e,t,n,r){var u=n.length,c=u,l=!r;if(null==e)return!c;for(e=Object(e);u--;){var f=n[u];if(l&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++u<c;){f=n[u];var h=f[0],p=e[h],d=f[1];if(l&&f[2]){if(void 0===p&&!(h in e))return!1}else{var v=new i;if(r)var g=r(p,d,h,e,t,v);if(!(void 0===g?o(d,p,s|a,r,v):g))return!1}}return!0}var i=n(184),o=n(220),s=1,a=2;e.exports=r},function(e,t,n){function r(e){var t=this.__data__=new i(e);this.size=t.size}var i=n(185),o=n(193),s=n(194),a=n(195),u=n(196),c=n(197);r.prototype.clear=o,r.prototype["delete"]=s,r.prototype.get=a,r.prototype.has=u,r.prototype.set=c,e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(186),o=n(187),s=n(190),a=n(191),u=n(192);r.prototype.clear=i,r.prototype["delete"]=o,r.prototype.get=s,r.prototype.has=a,r.prototype.set=u,e.exports=r},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():s.call(t,n,1),--this.size,!0}var i=n(188),o=Array.prototype,s=o.splice;e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(189);e.exports=r},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}var i=n(188);e.exports=r},function(e,t,n){function r(e){return i(this.__data__,e)>-1}var i=n(188);e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var i=n(188);e.exports=r},function(e,t,n){function r(){this.__data__=new i,this.size=0}var i=n(185);e.exports=r},function(e,t){function n(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<a-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(r)}return n.set(e,t),this.size=n.size,this}var i=n(185),o=n(198),s=n(205),a=200;e.exports=r},function(e,t,n){var r=n(199),i=n(16),o=r(i,"Map");e.exports=o},function(e,t,n){function r(e,t){var n=o(e,t);return i(n)?n:void 0}var i=n(200),o=n(204);e.exports=r},function(e,t,n){function r(e){if(!s(e)||o(e))return!1;var t=i(e)?d:c;return t.test(a(e))}var i=n(13),o=n(201),s=n(20),a=n(203),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,h=l.toString,p=f.hasOwnProperty,d=RegExp("^"+h.call(p).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},function(e,t,n){function r(e){return!!o&&o in e}var i=n(202),o=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=r},function(e,t,n){var r=n(16),i=r["__core-js_shared__"];e.exports=i},function(e,t){function n(e){if(null!=e){try{return i.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;e.exports=n},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(206),o=n(214),s=n(217),a=n(218),u=n(219);r.prototype.clear=i,r.prototype["delete"]=o,r.prototype.get=s,r.prototype.has=a,r.prototype.set=u,e.exports=r},function(e,t,n){function r(){this.size=0,this.__data__={hash:new i,map:new(s||o),string:new i}}var i=n(207),o=n(185),s=n(198);e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(208),o=n(210),s=n(211),a=n(212),u=n(213);r.prototype.clear=i,r.prototype["delete"]=o,r.prototype.get=s,r.prototype.has=a,r.prototype.set=u,e.exports=r},function(e,t,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(209);e.exports=r},function(e,t,n){var r=n(199),i=r(Object,"create");e.exports=i},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function r(e){var t=this.__data__;if(i){var n=t[e];return n===o?void 0:n}return a.call(t,e)?t[e]:void 0}var i=n(209),o="__lodash_hash_undefined__",s=Object.prototype,a=s.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){var t=this.__data__;return i?void 0!==t[e]:s.call(t,e)}var i=n(209),o=Object.prototype,s=o.hasOwnProperty;e.exports=r},function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?o:t,this}var i=n(209),o="__lodash_hash_undefined__";e.exports=r},function(e,t,n){function r(e){var t=i(this,e)["delete"](e);return this.size-=t?1:0,t}var i=n(215);e.exports=r},function(e,t,n){function r(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}var i=n(216);e.exports=r},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function r(e){return i(this,e).get(e)}var i=n(215);e.exports=r},function(e,t,n){function r(e){return i(this,e).has(e)}var i=n(215);e.exports=r},function(e,t,n){function r(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var i=n(215);e.exports=r},function(e,t,n){function r(e,t,n,s,a){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:i(e,t,n,s,r,a))}var i=n(221),o=n(24);e.exports=r},function(e,t,n){function r(e,t,n,r,g,m){var b=c(e),_=c(t),w=b?d:u(e),E=_?d:u(t);w=w==p?v:w,E=E==p?v:E;var x=w==v,k=E==v,I=w==E;if(I&&l(e)){if(!l(t))return!1;b=!0,x=!1}if(I&&!x)return m||(m=new i),b||f(e)?o(e,t,n,r,g,m):s(e,t,w,n,r,g,m);if(!(n&h)){var C=x&&y.call(e,"__wrapped__"),S=k&&y.call(t,"__wrapped__");if(C||S){var T=C?e.value():e,B=S?t.value():t;return m||(m=new i),g(T,B,n,r,m)}}return!!I&&(m||(m=new i),a(e,t,n,r,g,m))}var i=n(184),o=n(222),s=n(228),a=n(232),u=n(238),c=n(23),l=n(37),f=n(41),h=1,p="[object Arguments]",d="[object Array]",v="[object Object]",g=Object.prototype,y=g.hasOwnProperty;
e.exports=r},function(e,t,n){function r(e,t,n,r,c,l){var f=n&a,h=e.length,p=t.length;if(h!=p&&!(f&&p>h))return!1;var d=l.get(e);if(d&&l.get(t))return d==t;var v=-1,g=!0,y=n&u?new i:void 0;for(l.set(e,t),l.set(t,e);++v<h;){var m=e[v],b=t[v];if(r)var _=f?r(b,m,v,t,e,l):r(m,b,v,e,t,l);if(void 0!==_){if(_)continue;g=!1;break}if(y){if(!o(t,function(e,t){if(!s(y,t)&&(m===e||c(m,e,n,r,l)))return y.push(t)})){g=!1;break}}else if(m!==b&&!c(m,b,n,r,l)){g=!1;break}}return l["delete"](e),l["delete"](t),g}var i=n(223),o=n(226),s=n(227),a=1,u=2;e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}var i=n(205),o=n(224),s=n(225);r.prototype.add=r.prototype.push=o,r.prototype.has=s,e.exports=r},function(e,t){function n(e){return this.__data__.set(e,r),this}var r="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function r(e,t,n,r,i,x,I){switch(n){case E:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return!(e.byteLength!=t.byteLength||!x(new o(e),new o(t)));case h:case p:case g:return s(+e,+t);case d:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case v:var C=u;case m:var S=r&l;if(C||(C=c),e.size!=t.size&&!S)return!1;var T=I.get(e);if(T)return T==t;r|=f,I.set(e,t);var B=a(C(e),C(t),r,i,x,I);return I["delete"](e),B;case _:if(k)return k.call(e)==k.call(t)}return!1}var i=n(15),o=n(229),s=n(189),a=n(222),u=n(230),c=n(231),l=1,f=2,h="[object Boolean]",p="[object Date]",d="[object Error]",v="[object Map]",g="[object Number]",y="[object RegExp]",m="[object Set]",b="[object String]",_="[object Symbol]",w="[object ArrayBuffer]",E="[object DataView]",x=i?i.prototype:void 0,k=x?x.valueOf:void 0;e.exports=r},function(e,t,n){var r=n(16),i=r.Uint8Array;e.exports=i},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){function r(e,t,n,r,s,u){var c=n&o,l=i(e),f=l.length,h=i(t),p=h.length;if(f!=p&&!c)return!1;for(var d=f;d--;){var v=l[d];if(!(c?v in t:a.call(t,v)))return!1}var g=u.get(e);if(g&&u.get(t))return g==t;var y=!0;u.set(e,t),u.set(t,e);for(var m=c;++d<f;){v=l[d];var b=e[v],_=t[v];if(r)var w=c?r(_,b,v,t,e,u):r(b,_,v,e,t,u);if(!(void 0===w?b===_||s(b,_,n,r,u):w)){y=!1;break}m||(m="constructor"==v)}if(y&&!m){var E=e.constructor,x=t.constructor;E!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof x&&x instanceof x)&&(y=!1)}return u["delete"](e),u["delete"](t),y}var i=n(233),o=1,s=Object.prototype,a=s.hasOwnProperty;e.exports=r},function(e,t,n){function r(e){return i(e,s,o)}var i=n(234),o=n(236),s=n(32);e.exports=r},function(e,t,n){function r(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}var i=n(235),o=n(23);e.exports=r},function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},function(e,t,n){var r=n(174),i=n(237),o=Object.prototype,s=o.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return s.call(e,t)}))}:i;e.exports=u},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){var r=n(239),i=n(198),o=n(240),s=n(241),a=n(242),u=n(14),c=n(203),l="[object Map]",f="[object Object]",h="[object Promise]",p="[object Set]",d="[object WeakMap]",v="[object DataView]",g=c(r),y=c(i),m=c(o),b=c(s),_=c(a),w=u;(r&&w(new r(new ArrayBuffer(1)))!=v||i&&w(new i)!=l||o&&w(o.resolve())!=h||s&&w(new s)!=p||a&&w(new a)!=d)&&(w=function(e){var t=u(e),n=t==f?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return v;case y:return l;case m:return h;case b:return p;case _:return d}return t}),e.exports=w},function(e,t,n){var r=n(199),i=n(16),o=r(i,"DataView");e.exports=o},function(e,t,n){var r=n(199),i=n(16),o=r(i,"Promise");e.exports=o},function(e,t,n){var r=n(199),i=n(16),o=r(i,"Set");e.exports=o},function(e,t,n){var r=n(199),i=n(16),o=r(i,"WeakMap");e.exports=o},function(e,t,n){function r(e){for(var t=o(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,i(s)]}return t}var i=n(244),o=n(32);e.exports=r},function(e,t,n){function r(e){return e===e&&!i(e)}var i=n(20);e.exports=r},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t,n){function r(e,t){return a(e)&&u(t)?c(l(e),t):function(n){var r=o(n,e);return void 0===r&&r===t?s(n,e):i(t,r,f|h)}}var i=n(220),o=n(247),s=n(257),a=n(250),u=n(244),c=n(245),l=n(256),f=1,h=2;e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}var i=n(248);e.exports=r},function(e,t,n){function r(e,t){t=i(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}var i=n(249),o=n(256);e.exports=r},function(e,t,n){function r(e,t){return i(e)?e:o(e,t)?[e]:s(a(e))}var i=n(23),o=n(250),s=n(251),a=n(254);e.exports=r},function(e,t,n){function r(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!s.test(e)||null!=t&&e in Object(t))}var i=n(23),o=n(28),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=r},function(e,t,n){var r=n(252),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=s},function(e,t,n){function r(e){var t=i(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}var i=n(253),o=500;e.exports=r},function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(r.Cache||i),n}var i=n(205),o="Expected a function";r.Cache=i,e.exports=r},function(e,t,n){function r(e){return null==e?"":i(e)}var i=n(255);e.exports=r},function(e,t,n){function r(e){if("string"==typeof e)return e;if(s(e))return o(e,r)+"";if(a(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var i=n(15),o=n(31),s=n(23),a=n(28),u=1/0,c=i?i.prototype:void 0,l=c?c.toString:void 0;e.exports=r},function(e,t,n){function r(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var i=n(28),o=1/0;e.exports=r},function(e,t,n){function r(e,t){return null!=e&&o(e,t,i)}var i=n(258),o=n(259);e.exports=r},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function r(e,t,n){t=i(t,e);for(var r=-1,l=t.length,f=!1;++r<l;){var h=c(t[r]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++r!=l?f:(l=null==e?0:e.length,!!l&&u(l)&&a(h,l)&&(s(e)||o(e)))}var i=n(249),o=n(35),s=n(23),a=n(40),u=n(21),c=n(256);e.exports=r},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){function r(e){return s(e)?i(a(e)):o(e)}var i=n(262),o=n(263),s=n(250),a=n(256);e.exports=r},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function r(e){return function(t){return i(t,e)}}var i=n(248);e.exports=r},function(e,t,n){function r(e,t,n){return e=a(e),n=null==n?0:i(s(n),0,e.length),t=o(t),e.slice(n,n+t.length)==t}var i=n(265),o=n(255),s=n(25),a=n(254);e.exports=r},function(e,t){function n(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}e.exports=n},function(e,t,n){e.exports=n(267)},function(e,t,n){"use strict";function r(e){var t=new s(e),n=o(s.prototype.request,t);return i.extend(n,s.prototype,t),i.extend(n,t),n}var i=n(268),o=n(269),s=n(271),a=n(272),u=r(a);u.Axios=s,u.create=function(e){return r(i.merge(a,e))},u.Cancel=n(289),u.CancelToken=n(290),u.isCancel=n(286),u.all=function(e){return Promise.all(e)},u.spread=n(291),e.exports=u,e.exports["default"]=u},function(e,t,n){"use strict";function r(e){return"[object Array]"===k.call(e)}function i(e){return"[object ArrayBuffer]"===k.call(e)}function o(e){return"undefined"!=typeof FormData&&e instanceof FormData}function s(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function a(e){return"string"==typeof e}function u(e){return"number"==typeof e}function c(e){return"undefined"==typeof e}function l(e){return null!==e&&"object"==typeof e}function f(e){return"[object Date]"===k.call(e)}function h(e){return"[object File]"===k.call(e)}function p(e){return"[object Blob]"===k.call(e)}function d(e){return"[object Function]"===k.call(e)}function v(e){return l(e)&&d(e.pipe)}function g(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function y(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function m(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function b(e,t){if(null!==e&&"undefined"!=typeof e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function _(){function e(e,n){"object"==typeof t[n]&&"object"==typeof e?t[n]=_(t[n],e):t[n]=e}for(var t={},n=0,r=arguments.length;n<r;n++)b(arguments[n],e);return t}function w(e,t,n){return b(t,function(t,r){n&&"function"==typeof t?e[r]=E(t,n):e[r]=t}),e}var E=n(269),x=n(270),k=Object.prototype.toString;e.exports={isArray:r,isArrayBuffer:i,isBuffer:x,isFormData:o,isArrayBufferView:s,isString:a,isNumber:u,isObject:l,isUndefined:c,isDate:f,isFile:h,isBlob:p,isFunction:d,isStream:v,isURLSearchParams:g,isStandardBrowserEnv:m,forEach:b,merge:_,extend:w,trim:y}},function(e,t){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function r(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}/*!
	 * Determine if an object is a Buffer
	 *
	 * @author   Feross Aboukhadijeh <https://feross.org>
	 * @license  MIT
	 */
e.exports=function(e){return null!=e&&(n(e)||r(e)||!!e._isBuffer)}},function(e,t,n){"use strict";function r(e){this.defaults=e,this.interceptors={request:new s,response:new s}}var i=n(272),o=n(268),s=n(283),a=n(284);r.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),e=o.merge(i,{method:"get"},this.defaults,e),e.method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){r.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){r.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function i(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(274):"undefined"!=typeof t&&(e=n(274)),e}var o=n(268),s=n(273),a={"Content-Type":"application/x-www-form-urlencoded"},u={adapter:i(),transformRequest:[function(e,t){return s(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(r(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(e){u.headers[e]={}}),o.forEach(["post","put","patch"],function(e){u.headers[e]=o.merge(a)}),e.exports=u}).call(t,n(52))},function(e,t,n){"use strict";var r=n(268);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(268),i=n(275),o=n(278),s=n(279),a=n(280),u=n(276),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(281);e.exports=function(e){return new Promise(function(t,l){var f=e.data,h=e.headers;r.isFormData(f)&&delete h["Content-Type"];var p=new XMLHttpRequest,d="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||a(e.url)||(p=new window.XDomainRequest,d="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var g=e.auth.username||"",y=e.auth.password||"";h.Authorization="Basic "+c(g+":"+y)}if(p.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[d]=function(){if(p&&(4===p.readyState||v)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?p.response:p.responseText,o={data:r,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:n,config:e,request:p};i(t,l,o),p=null}},p.onerror=function(){l(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var m=n(282),b=(e.withCredentials||a(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;b&&(h[e.xsrfHeaderName]=b)}if("setRequestHeader"in p&&r.forEach(h,function(e,t){"undefined"==typeof f&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(_){if("json"!==e.responseType)throw _}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){p&&(p.abort(),l(e),p=null)}),void 0===f&&(f=null),p.send(f)})}},function(e,t,n){"use strict";var r=n(276);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(277);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},function(e,t){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},function(e,t,n){"use strict";function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=n(268);e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var s=[];i.forEach(t,function(e,t){null!==e&&"undefined"!=typeof e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))}))}),o=s.join("&")}return o&&(e+=(e.indexOf("?")===-1?"?":"&")+o),e}},function(e,t,n){"use strict";var r=n(268),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;"set-cookie"===t?s[t]=(s[t]?s[t]:[]).concat([n]):s[t]=s[t]?s[t]+", "+n:n}}),s):s}},function(e,t,n){"use strict";var r=n(268);e.exports=r.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return t=e(window.location.href),function(n){var i=r.isString(n)?e(n):n;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},function(e,t){"use strict";function n(){this.message="String contains an invalid character"}function r(e){for(var t,r,o=String(e),s="",a=0,u=i;o.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&t>>8-a%1*8)){if(r=o.charCodeAt(a+=.75),r>255)throw new n;t=t<<8|r}return s}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",e.exports=r},function(e,t,n){"use strict";var r=n(268);e.exports=r.isStandardBrowserEnv()?function(){return{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";function r(){this.handlers=[]}var i=n(268);r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=r},function(e,t,n){"use strict";function r(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var i=n(268),o=n(285),s=n(286),a=n(272),u=n(287),c=n(288);e.exports=function(e){r(e),e.baseURL&&!u(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),i.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t=e.adapter||a.adapter;return t(e).then(function(t){return r(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(r(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(268);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,n){"use strict";function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new i(e),t(n.reason))})}var i=n(289);r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e,t=new r(function(t){e=t});return{token:t,cancel:e}},e.exports=r},function(e,t){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){var r,i;!function(o){var s=function(e,t,n){if(!p(t)||v(t)||g(t)||y(t)||h(t))return t;var r,i=0,o=0;if(d(t))for(r=[],o=t.length;i<o;i++)r.push(s(e,t[i],n));else{r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[e(a,n)]=s(e,t[a],n))}return r},a=function(e,t){t=t||{};var n=t.separator||"_",r=t.split||/(?=[A-Z])/;return e.split(r).join(n)},u=function(e){return m(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))},c=function(e){var t=u(e);return t.substr(0,1).toUpperCase()+t.substr(1)},l=function(e,t){return a(e,t).toLowerCase()},f=Object.prototype.toString,h=function(e){return"function"==typeof e},p=function(e){return e===Object(e)},d=function(e){return"[object Array]"==f.call(e)},v=function(e){return"[object Date]"==f.call(e)},g=function(e){return"[object RegExp]"==f.call(e)},y=function(e){return"[object Boolean]"==f.call(e)},m=function(e){return e-=0,e===e},b=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!=typeof n?e:function(t,r){return n(t,e,r)}},_={camelize:u,decamelize:l,pascalize:c,depascalize:l,camelizeKeys:function(e,t){return s(b(u,t),e)},decamelizeKeys:function(e,t){return s(b(l,t),e,t)},pascalizeKeys:function(e,t){return s(b(c,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};r=_,i="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==i&&(e.exports=i))}(this)},function(e,t){"use strict";t.CONFIG={endpoint:{protocol:"http",secureProtocol:"https",host:"api.spacebunny.io",port:3e3,deviceConfigurationsPath:"device_configurations",liveStreamKeyConfigurationsPath:"live_stream_key_configurations"},tls:{secureProtocol:"TLSv1_2_method"},fromApiHeader:"x-from-sb-api",protocol:"amqp",inboxTopic:"inbox",liveStreamSuffix:"live_stream",tempQueueSuffix:"temp",amqp:{ackTypes:["auto","manual"],protocol:"amqp",tls:{protocol:"amqps"},inputQueueArgs:{},deviceExchangeArgs:{},subscribeArgs:{noAck:!0,requeue:!1,allUpTo:!1},publishArgs:{withConfirm:!1},socketOptions:{frameMax:32768,heartbeat:60},stream:{defaultStreamRoutingKey:"#",streamQueueArguments:{exclusive:!0,autoDelete:!0,durable:!1}}},mqtt:{protocol:"mqtt",tls:{protocol:"mqtts",rejectUnauthorized:!0},connection:{opts:{qos:1},timeout:5e3}},stomp:{ackTypes:["client"],connection:{headers:{max_hbrlck_fails:10,"accept-version":"1.0,1.1,1.2","heart-beat":"10000,10000"},opts:{}},existingQueuePrefix:"amq/queue",stream:{exchangePrefix:"exchange",defaultPattern:"#"}},webStomp:{ackTypes:["client"],webSocket:{protocol:"ws",tls:{protocol:"wss"},endpoint:"ws"}}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(293).CONFIG,a=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.content=t.content,this.fields=t.fields,this.properties=t.properties;try{var s=this.fields.routingKey.split("."),a=i(s,2);this.senderId=a[0],this.channelName=a[1]}catch(u){console.error("Wrong routing key format")}this._receiverId=n,this._discardMine=o.discardMine||!1,this._discardFromApi=o.discardFromApi||!1}return o(e,[{key:"blackListed",value:function(){return!(!this._discardMine||this._receiverId!==this.senderId||this.fromApi())||!(!this._discardFromApi||!this.fromApi())}},{key:"fromApi",value:function(){return this.properties.headers&&this.properties.headers[s.fromApiHeader]}}]),e}();t["default"]=a},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(296),u=r(a),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(49),f=r(l),h=n(50),p=r(h),d=n(297),v=r(d),g=n(172),y=r(g),m=n(293).CONFIG,b=function(t){function n(e){i(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t._topics={},t._mqttConnection=void 0,t._subscription=void 0;var r=m.mqtt;return t._protocol=r.protocol,t._tlsOpts.protocol=r.tls.protocol,t._tlsOpts.rejectUnauthorized=r.tls.rejectUnauthorized,t._connectionOpts=r.connection.opts,t._connectionTimeout=r.connection.timeout,t}return s(n,t),c(n,[{key:"onReceive",value:function(e,t){var n=this;return t=(0,f["default"])({},t),new p["default"](function(r,i){n.connect().then(function(o){n._topics[n._topicFor(null,n._inboxTopic)]=t.qos||n._connectionOpts.qos,o.subscribe(n._topics,(0,f["default"])(n._connectionOpts,t),function(t){t?i(t):(o.on("message",function(t,r){e(t,n._parseContent(r))}),r(!0))})})["catch"](function(e){i(e)})})}},{key:"publish",value:function(t,n,r){var i=this;return new p["default"](function(o,s){i.connect().then(function(s){var a=function(){var a=new e(i._encapsulateContent(n));s.publish(i._topicFor(null,t),a,(0,f["default"])(i._connectionOpts,r),function(){o(!0)})};s.connected?a():s.on("connect",function(){a()})})["catch"](function(e){s(e)})})}},{key:"unsubscribe",value:function(e){var t=this;return new p["default"](function(n,r){try{(0,u["default"])(e)?n(!0):t._mqttConnection.unsubscribe(Object.keys(e),function(){n(!0)})}catch(i){r(i)}})}},{key:"disconnect",value:function(){var e=this;return new p["default"](function(t,n){if(void 0===e._mqttConnection)n(new Error("Invalid connection"));else{var r=function(){e._mqttConnection.end(!0,function(){e._mqttConnection=void 0,e.emit("disconnect"),t(!0)})};try{(0,u["default"])(e._topics)?r():e._mqttConnection.unsubscribe(Object.keys(e._topics),function(){r()})}catch(i){n(i)}}})}},{key:"connect",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=(0,f["default"])(this._connectionOpts,t),new p["default"](function(n,r){e.getEndpointConfigs().then(function(i){var o=i.connection;if(void 0!==e._mqttConnection)n(e._mqttConnection);else try{var s={host:o.host,port:e._tls?o.protocols.mqtt.tlsPort:o.protocols.mqtt.port,username:o.vhost+":"+(o.deviceId||o.client),password:o.secret,clientId:o.deviceId||o.client,connectionTimeout:t.connectionTimeout||e._connectionTimeout};e._tls&&(s=(0,f["default"])(s,e._tlsOpts));var a=v["default"].connect(s);a.on("error",function(t){e.emit("error",t),r(t)}),a.on("close",function(t){r(t),e.emit("close",t),e._mqttConnection=void 0}),e._mqttConnection=a,e.emit("connect"),n(e._mqttConnection)}catch(u){r(u)}})["catch"](function(e){r(e)})})}},{key:"isConnected",value:function(){return void 0!==this._mqttConnection}},{key:"_topicFor",value:function(e,t){return(e||this.deviceId())+"/"+t}}]),n}(y["default"]);t["default"]=b}).call(t,n(3).Buffer)},function(e,t,n){function r(e){if(null==e)return!0;if(u(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||f(e)||s(e)))return!e.length;var t=o(e);if(t==h||t==p)return!e.size;if(l(e))return!i(e).length;for(var n in e)if(v.call(e,n))return!1;return!0}var i=n(45),o=n(238),s=n(35),a=n(23),u=n(12),c=n(37),l=n(46),f=n(41),h="[object Map]",p="[object Set]",d=Object.prototype,v=d.hasOwnProperty;e.exports=r},function(e,t,n){(function(t){"use strict";function r(e){var t;e.auth&&(t=e.auth.match(/^(.+):(.+)$/),t?(e.username=t[1],e.password=t[2]):e.username=e.auth)}function i(e,t){function n(e){return t.servers&&(e._reconnectCount&&e._reconnectCount!==t.servers.length||(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),c[t.protocol](e,t)}if("object"!=typeof e||t||(t=e,e=null),t=t||{},e){var i=a.parse(e,!0);if(null!=i.port&&(i.port=Number(i.port)),t=u(i,t),null===t.protocol)throw new Error("Missing protocol");t.protocol=t.protocol.replace(/:$/,"")}if(r(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(["mqtts","wss","wxs"].indexOf(t.protocol)===-1)switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;case"wx":t.protocol="wxs";break;default:throw new Error('Unknown protocol for secure connection: "'+t.protocol+'"!')}}if(!c[t.protocol]){var s=["mqtts","wss"].indexOf(t.protocol)!==-1;t.protocol=["mqtt","mqtts","ws","wss","wx","wxs"].filter(function(e,t){return(!s||t%2!==0)&&"function"==typeof c[e]})[0]}if(t.clean===!1&&!t.clientId)throw new Error("Missing clientId for unclean clients");return t.protocol&&(t.defaultProtocol=t.protocol),new o(n,t)}var o=n(298),s=n(299),a=n(110),u=n(300),c={};"browser"!==t.title?(c.mqtt=n(329),c.tcp=n(329),c.ssl=n(331),c.tls=n(331),c.mqtts=n(331)):(c.wx=n(333),c.wxs=n(333)),c.ws=n(338),c.wss=n(338),e.exports=i,e.exports.connect=i,e.exports.MqttClient=o,e.exports.Store=s}).call(t,n(52))},function(e,t,n){(function(t,r){"use strict";function i(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function o(e,t,n){e.emit("packetsend",t);var r=p.writeToStream(t,e.stream);!r&&n?e.stream.once("drain",n):n&&n()}function s(e){e&&Object.keys(e).forEach(function(t){"function"==typeof e[t]&&(e[t](new Error("Connection closed")),delete e[t])})}function a(e,t,n){e.outgoingStore.put(t,function(r){return r?n&&n(r):void o(e,t,n)})}function u(){}function c(e,t){var n,r=this;if(!(this instanceof c))return new c(e,t);this.options=t||{};for(n in _)"undefined"==typeof this.options[n]?this.options[n]=_[n]:this.options[n]=t[n];this.options.clientId="string"==typeof this.options.clientId?this.options.clientId:i(),this.streamBuilder=e,this.outgoingStore=this.options.outgoingStore||new f,this.incomingStore=this.options.incomingStore||new f,this.queueQoSZero=void 0===this.options.queueQoSZero||this.options.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this.nextId=Math.floor(65535*Math.random()),this.outgoing={},this.on("connect",function(){if(!this.disconnected){this.connected=!0;var e=null;e=this.outgoingStore.createStream(),e.once("readable",function(){function t(){var n,i=e.read(1);i&&(!r.disconnecting&&!r.reconnectTimer&&r.options.reconnectPeriod>0?(e.read(0),n=r.outgoing[i.messageId],r.outgoing[i.messageId]=function(e,r){n&&n(e,r),t()},r._sendPacket(i)):e.destroy&&e.destroy())}t()}).on("error",this.emit.bind(this,"error"))}}),this.on("close",function(){this.connected=!1,clearTimeout(this.connackTimer)}),this.on("connect",this._setupPingTimer),this.on("connect",function(){function e(){var n=t.shift(),i=null;n&&(i=n.packet,r._sendPacket(i,function(t){n.cb&&n.cb(t),e()}))}var t=this.queue;e()});var o=!0;this.on("connect",function(){!o&&this.options.clean&&Object.keys(this._resubscribeTopics).length>0&&(this.options.resubscribe?(this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics)):this._resubscribeTopics={}),o=!1}),this.on("close",function(){null!==r.pingTimer&&(r.pingTimer.clear(),r.pingTimer=null)}),this.on("close",this._setupReconnect),l.EventEmitter.call(this),this._setupStream()}var l=n(138),f=n(299),h=n(315),p=n(318),d=n(301).Writable,v=n(135),g=n(327),y=n(328),m=n(300),b=t.setImmediate||function(e){r.nextTick(e)},_={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0};v(c,l.EventEmitter),c.prototype._setupStream=function(){function e(){r.nextTick(t)}function t(){var t=l.shift(),n=c;t?i._handlePacket(t,e):(c=null,n())}var n,i=this,s=new d,a=p.parser(this.options),c=null,l=[];this._clearReconnect(),this.stream=this.streamBuilder(this),a.on("packet",function(e){l.push(e)}),s._write=function(e,n,r){c=r,a.parse(e),t()},this.stream.pipe(s),this.stream.on("error",u),h(this.stream,this.emit.bind(this,"close")),n=Object.create(this.options),n.cmd="connect",o(this,n),a.on("error",this.emit.bind(this,"error")),this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){i._cleanUp(!0)},this.options.connectTimeout)},c.prototype._handlePacket=function(e,t){switch(this.emit("packetreceive",e),e.cmd){case"publish":this._handlePublish(e,t);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(e),t();break;case"pubrel":this._handlePubrel(e,t);break;case"connack":this._handleConnack(e),t();break;case"pingresp":this._handlePingresp(e),t()}},c.prototype._checkDisconnecting=function(e){return this.disconnecting&&(e?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},c.prototype.publish=function(e,t,n,r){var i;"function"==typeof n&&(r=n,n=null);var o={qos:0,retain:!1,dup:!1};if(n=m(o,n),this._checkDisconnecting(r))return this;switch(i={cmd:"publish",topic:e,payload:t,qos:n.qos,retain:n.retain,messageId:this._nextId(),dup:n.dup},n.qos){case 1:case 2:this.outgoing[i.messageId]=r||u,this._sendPacket(i);break;default:this._sendPacket(i,r)}return this},c.prototype.subscribe=function(){var e,t,n=Array.prototype.slice.call(arguments),r=[],i=n.shift(),o=i.resubscribe,s=n.pop()||u,a=n.pop(),c=this;if(delete i.resubscribe,"string"==typeof i&&(i=[i]),"function"!=typeof s&&(a=s,s=u),t=y.validateTopics(i),null!==t)return b(s,new Error("Invalid topic "+t)),this;if(this._checkDisconnecting(s))return this;var l={qos:0};if(a=m(l,a),Array.isArray(i)?i.forEach(function(e){(c._resubscribeTopics[e]<a.qos||!c._resubscribeTopics.hasOwnProperty(e)||o)&&r.push({topic:e,qos:a.qos})}):Object.keys(i).forEach(function(e){(c._resubscribeTopics[e]<i[e]||!c._resubscribeTopics.hasOwnProperty(e)||o)&&r.push({topic:e,qos:i[e]})}),e={cmd:"subscribe",subscriptions:r,qos:1,retain:!1,dup:!1,messageId:this._nextId()},!r.length)return void s(null,[]);if(this.options.resubscribe){var f=[];r.forEach(function(e){c.options.reconnectPeriod>0&&(c._resubscribeTopics[e.topic]=e.qos,f.push(e.topic))}),c.messageIdToTopic[e.messageId]=f}return this.outgoing[e.messageId]=function(e,t){if(!e)for(var n=t.granted,i=0;i<n.length;i+=1)r[i].qos=n[i];s(e,r)},this._sendPacket(e),this},c.prototype.unsubscribe=function(e,t){var n={cmd:"unsubscribe",qos:1,messageId:this._nextId()},r=this;return t=t||u,this._checkDisconnecting(t)?this:("string"==typeof e?n.unsubscriptions=[e]:"object"==typeof e&&e.length&&(n.unsubscriptions=e),this.options.resubscribe&&n.unsubscriptions.forEach(function(e){delete r._resubscribeTopics[e]}),this.outgoing[n.messageId]=t,this._sendPacket(n),this)},c.prototype.end=function(e,t){function n(){i.disconnected=!0,i.incomingStore.close(function(){i.outgoingStore.close(function(){t&&t.apply(null,arguments),i.emit("end")})}),i._deferredReconnect&&i._deferredReconnect()}function r(){i._cleanUp(e,b.bind(null,n))}var i=this;return"function"==typeof e&&(t=e,e=!1),this.disconnecting?this:(this._clearReconnect(),this.disconnecting=!0,!e&&Object.keys(this.outgoing).length>0?this.once("outgoingEmpty",setTimeout.bind(null,r,10)):r(),this)},c.prototype.removeOutgoingMessage=function(e){var t=this.outgoing[e];return delete this.outgoing[e],this.outgoingStore.del({messageId:e},function(){t(new Error("Message removed"))}),this},c.prototype.reconnect=function(e){var t=this,n=function(){e?(t.options.incomingStore=e.incomingStore,t.options.outgoingStore=e.outgoingStore):(t.options.incomingStore=null,t.options.outgoingStore=null),t.incomingStore=t.options.incomingStore||new f,t.outgoingStore=t.options.outgoingStore||new f,t.disconnecting=!1,t.disconnected=!1,t._deferredReconnect=null,t._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=n:n(),this},c.prototype._reconnect=function(){this.emit("reconnect"),this._setupStream()},c.prototype._setupReconnect=function(){var e=this;!e.disconnecting&&!e.reconnectTimer&&e.options.reconnectPeriod>0&&(this.reconnecting||(this.emit("offline"),this.reconnecting=!0),e.reconnectTimer=setInterval(function(){e._reconnect()},e.options.reconnectPeriod))},c.prototype._clearReconnect=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},c.prototype._cleanUp=function(e,t){t&&this.stream.on("close",t),e?(0===this.options.reconnectPeriod&&this.options.clean&&s(this.outgoing),this.stream.destroy()):this._sendPacket({cmd:"disconnect"},b.bind(null,this.stream.end.bind(this.stream))),this.disconnecting||(this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null),t&&!this.connected&&(this.stream.removeListener("close",t),t())},c.prototype._sendPacket=function(e,t){if(!this.connected)return void(0===(e.qos||0)&&this.queueQoSZero||"publish"!==e.cmd?this.queue.push({packet:e,cb:t}):e.qos>0?(t=this.outgoing[e.messageId],this.outgoingStore.put(e,function(e){if(e)return t&&t(e)})):t&&t(new Error("No connection to broker")));if(this._shiftPingInterval(),"publish"!==e.cmd)return void o(this,e,t);switch(e.qos){case 2:case 1:a(this,e,t);break;case 0:default:o(this,e,t)}},c.prototype._setupPingTimer=function(){var e=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=g(function(){e._checkPing()},1e3*this.options.keepalive))},c.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},c.prototype._checkPing=function(){this.pingResp?(this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):this._cleanUp(!0)},c.prototype._handlePingresp=function(){this.pingResp=!0},c.prototype._handleConnack=function(e){var t=e.returnCode,n=["","Unacceptable protocol version","Identifier rejected","Server unavailable","Bad username or password","Not authorized"];if(clearTimeout(this.connackTimer),0===t)this.reconnecting=!1,this.emit("connect",e);else if(t>0){var r=new Error("Connection refused: "+n[t]);r.code=t,this.emit("error",r)}},c.prototype._handlePublish=function(e,t){var n=e.topic.toString(),r=e.payload,i=e.qos,o=e.messageId,s=this;switch(i){case 2:this.incomingStore.put(e,function(){s._sendPacket({cmd:"pubrec",messageId:o},t)});break;case 1:this.emit("message",n,r,e),this.handleMessage(e,function(e){return e?t&&t(e):void s._sendPacket({cmd:"puback",messageId:o},t)});break;case 0:this.emit("message",n,r,e),this.handleMessage(e,t)}},c.prototype.handleMessage=function(e,t){t()},c.prototype._handleAck=function(e){var t=e.messageId,n=e.cmd,r=null,i=this.outgoing[t],o=this;if(i){switch(n){case"pubcomp":case"puback":delete this.outgoing[t],this.outgoingStore.del(e,i);break;case"pubrec":r={cmd:"pubrel",qos:2,messageId:t},this._sendPacket(r);break;case"suback":if(delete this.outgoing[t],1===e.granted.length&&0!==(128&e.granted[0])){var s=this.messageIdToTopic[t];s&&s.forEach(function(e){delete o._resubscribeTopics[e]})}i(null,e);break;case"unsuback":delete this.outgoing[t],i(null);break;default:o.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}},c.prototype._handlePubrel=function(e,t){var n=e.messageId,r=this,i={cmd:"pubcomp",messageId:n};r.incomingStore.get(e,function(n,o){n||"pubrel"===o.cmd?r._sendPacket(i,t):(r.emit("message",o.topic,o.payload,o),r.incomingStore.put(e),r.handleMessage(o,function(e){return e?t&&t(e):void r._sendPacket(i,t)}))})},c.prototype._nextId=function(){var e=this.nextId++;return 65535===e&&(this.nextId=1),e},c.prototype.getLastMessageId=function(){return 1===this.nextId?65535:this.nextId-1},e.exports=c}).call(t,function(){return this}(),n(52))},function(e,t,n){(function(t){"use strict";function r(e){return this instanceof r?(this.options=e||{},this.options=i(a,e),void(this._inflights={})):new r(e)}var i=n(300),o=n(301).Readable,s={objectMode:!0},a={clean:!0};r.prototype.put=function(e,t){return this._inflights[e.messageId]=e,t&&t(),this},r.prototype.createStream=function(){var e=new o(s),n=this._inflights,r=Object.keys(this._inflights),i=!1,a=0;return e._read=function(){!i&&a<r.length?this.push(n[r[a++]]):this.push(null)},e.destroy=function(){if(!i){var e=this;i=!0,t.nextTick(function(){e.emit("close")})}},e},r.prototype.del=function(e,t){return e=this._inflights[e.messageId],e?(delete this._inflights[e.messageId],t(null,e)):t&&t(new Error("missing packet")),this},r.prototype.get=function(e,t){return e=this._inflights[e.messageId],e?t(null,e):t&&t(new Error("missing packet")),this},r.prototype.close=function(e){this.options.clean&&(this._inflights=null),e&&e()},e.exports=r}).call(t,n(52))},function(e,t){function n(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e}e.exports=n;var r=Object.prototype.hasOwnProperty},function(e,t,n){t=e.exports=n(302),t.Stream=t,t.Readable=t,t.Writable=n(310),t.Duplex=n(309),t.Transform=n(313),t.PassThrough=n(314)},function(e,t,n){(function(t,r){"use strict";function i(e){return L.from(e);
}function o(e){return L.isBuffer(e)||e instanceof M}function s(e,t,n){return"function"==typeof e.prependListener?e.prependListener(t,n):void(e._events&&e._events[t]?R(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n))}function a(e,t){A=A||n(309),e=e||{};var r=t instanceof A;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;i||0===i?this.highWaterMark=i:r&&(o||0===o)?this.highWaterMark=o:this.highWaterMark=s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new H,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(z||(z=n(312).StringDecoder),this.decoder=new z(e.encoding),this.encoding=e.encoding)}function u(e){return A=A||n(309),this instanceof u?(this._readableState=new a(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),void P.call(this)):new u(e)}function c(e,t,n,r,o){var s=e._readableState;if(null===t)s.reading=!1,v(e,s);else{var a;o||(a=f(s,t)),a?e.emit("error",a):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===L.prototype||(t=i(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):l(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?l(e,s,t,!1):m(e,s)):l(e,s,t,!1))):r||(s.reading=!1)}return h(s)}function l(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&g(e)),m(e,t)}function f(e,t){var n;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function h(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function p(e){return e>=K?e=K:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function d(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=p(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function v(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,g(e)}}function g(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(q("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?j.nextTick(y,e):y(e))}function y(e){q("emit readable"),e.emit("readable"),k(e)}function m(e,t){t.readingMore||(t.readingMore=!0,j.nextTick(b,e,t))}function b(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(q("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function _(e){return function(){var t=e._readableState;q("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&F(e,"data")&&(t.flowing=!0,k(e))}}function w(e){q("readable nexttick read 0"),e.read(0)}function E(e,t){t.resumeScheduled||(t.resumeScheduled=!0,j.nextTick(x,e,t))}function x(e,t){t.reading||(q("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),k(e),t.flowing&&!t.reading&&e.read(0)}function k(e){var t=e._readableState;for(q("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=C(e,t.buffer,t.decoder),n}function C(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?S(e,t):T(e,t),r}function S(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(i+=s===o.length?o:o.slice(0,e),e-=s,0===e){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}function T(e,t){var n=L.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),e-=s,0===e){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}function B(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,j.nextTick(U,t,e))}function U(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function O(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var j=n(303);e.exports=u;var A,R=n(6);u.ReadableState=a;var F=(n(138).EventEmitter,function(e,t){return e.listeners(t).length}),P=n(304),L=n(118).Buffer,M=t.Uint8Array||function(){},N=n(142);N.inherits=n(135);var D=n(305),q=void 0;q=D&&D.debuglog?D.debuglog("stream"):function(){};var z,H=n(306),Q=n(308);N.inherits(u,P);var W=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),u.prototype.destroy=Q.destroy,u.prototype._undestroy=Q.undestroy,u.prototype._destroy=function(e,t){this.push(null),t(e)},u.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=L.from(e,t),t=""),n=!0),c(this,e,t,!1,n)},u.prototype.unshift=function(e){return c(this,e,null,!0,!1)},u.prototype.isPaused=function(){return this._readableState.flowing===!1},u.prototype.setEncoding=function(e){return z||(z=n(312).StringDecoder),this._readableState.decoder=new z(e),this._readableState.encoding=e,this};var K=8388608;u.prototype.read=function(e){q("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return q("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):g(this),null;if(e=d(e,t),0===e&&t.ended)return 0===t.length&&B(this),null;var r=t.needReadable;q("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,q("length less than watermark",r)),t.ended||t.reading?(r=!1,q("reading or ended",r)):r&&(q("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=d(n,t)));var i;return i=e>0?I(e,t):null,null===i?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&B(this)),null!==i&&this.emit("data",i),i},u.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},u.prototype.pipe=function(e,t){function n(e,t){q("onunpipe"),e===h&&t&&t.hasUnpiped===!1&&(t.hasUnpiped=!0,o())}function i(){q("onend"),e.end()}function o(){q("cleanup"),e.removeListener("close",c),e.removeListener("finish",l),e.removeListener("drain",g),e.removeListener("error",u),e.removeListener("unpipe",n),h.removeListener("end",i),h.removeListener("end",f),h.removeListener("data",a),y=!0,!p.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function a(t){q("ondata"),m=!1;var n=e.write(t);!1!==n||m||((1===p.pipesCount&&p.pipes===e||p.pipesCount>1&&O(p.pipes,e)!==-1)&&!y&&(q("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,m=!0),h.pause())}function u(t){q("onerror",t),f(),e.removeListener("error",u),0===F(e,"error")&&e.emit("error",t)}function c(){e.removeListener("finish",l),f()}function l(){q("onfinish"),e.removeListener("close",c),f()}function f(){q("unpipe"),h.unpipe(e)}var h=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e)}p.pipesCount+=1,q("pipe count=%d opts=%j",p.pipesCount,t);var d=(!t||t.end!==!1)&&e!==r.stdout&&e!==r.stderr,v=d?i:f;p.endEmitted?j.nextTick(v):h.once("end",v),e.on("unpipe",n);var g=_(h);e.on("drain",g);var y=!1,m=!1;return h.on("data",a),s(e,"error",u),e.once("close",c),e.once("finish",l),e.emit("pipe",h),p.flowing||(q("pipe resume"),h.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=O(t.pipes,e);return s===-1?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},u.prototype.on=function(e,t){var n=P.prototype.on.call(this,e,t);if("data"===e)this._readableState.flowing!==!1&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&g(this):j.nextTick(w,this))}return n},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var e=this._readableState;return e.flowing||(q("resume"),e.flowing=!0,E(this,e)),this},u.prototype.pause=function(){return q("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(q("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;e.on("end",function(){if(q("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){if(q("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)){var o=t.push(i);o||(r=!0,e.pause())}});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<W.length;o++)e.on(W[o],this.emit.bind(this,W[o]));return this._read=function(t){q("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),u._fromList=I}).call(t,function(){return this}(),n(52))},function(e,t,n){(function(t){"use strict";function n(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick(function(){e.apply(null,o)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:n}:e.exports=t}).call(t,n(52))},function(e,t,n){e.exports=n(138).EventEmitter},91,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){e.copy(t,n)}var o=n(118).Buffer,s=n(307);e.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),n=this.head,r=0;n;)i(n.data,t,r),r+=n.data.length,n=n.next;return t},e}(),s&&s.inspect&&s.inspect.custom&&(e.exports.prototype[s.inspect.custom]=function(){var e=s.inspect({length:this.length});return this.constructor.name+" "+e})},91,function(e,t,n){"use strict";function r(e,t){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||s.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(s.nextTick(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}var s=n(303);e.exports={destroy:r,undestroy:i}},function(e,t,n){"use strict";function r(e){return this instanceof r?(c.call(this,e),l.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(e)}function i(){this.allowHalfOpen||this._writableState.ended||s.nextTick(o,this)}function o(e){e.end()}var s=n(303),a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var u=n(142);u.inherits=n(135);var c=n(302),l=n(310);u.inherits(r,c);for(var f=a(l.prototype),h=0;h<f.length;h++){var p=f[h];r.prototype[p]||(r.prototype[p]=l.prototype[p])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),s.nextTick(t,e)}},function(e,t,n){(function(t,r,i){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){S(t,e)}}function s(e){return R.from(e)}function a(e){return R.isBuffer(e)||e instanceof F}function u(){}function c(e,t){B=B||n(309),e=e||{};var r=t instanceof B;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,s=e.writableHighWaterMark,a=this.objectMode?16:16384;i||0===i?this.highWaterMark=i:r&&(s||0===s)?this.highWaterMark=s:this.highWaterMark=a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=e.decodeStrings===!1;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){m(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function l(e){return B=B||n(309),L.call(l,this)||this instanceof B?(this._writableState=new c(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e["final"]&&(this._final=e["final"])),void A.call(this)):new l(e)}function f(e,t){var n=new Error("write after end");e.emit("error",n),T.nextTick(t,n)}function h(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),T.nextTick(r,o),i=!1),i}function p(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=R.from(t,n)),t}function d(e,t,n,r,i,o){if(!n){var s=p(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,a,r,i,o);return u}function v(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function g(e,t,n,r,i){--t.pendingcb,n?(T.nextTick(i,r),T.nextTick(I,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),I(e,t))}function y(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function m(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(y(n),t)g(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?U(b,e,n,o,i):b(e,n,o,i)}}function b(e,t,n,r){n||_(e,t),t.pendingcb--,r(),I(e,t)}function _(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,u=!0;n;)i[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;i.allBuffers=u,v(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback,h=t.objectMode?1:c.length;if(v(e,t,!1,h,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),I(e,t)})}function k(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,T.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function I(e,t){var n=E(t);return n&&(k(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function C(e,t,n){t.ending=!0,I(e,t),n&&(t.finished?T.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function S(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var T=n(303);e.exports=l;var B,U=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:T.nextTick;l.WritableState=c;var O=n(142);O.inherits=n(135);var j={deprecate:n(311)},A=n(304),R=n(118).Buffer,F=i.Uint8Array||function(){},P=n(308);O.inherits(l,A),c.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(c.prototype,"buffer",{get:j.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var L;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(e){return!!L.call(this,e)||this===l&&(e&&e._writableState instanceof c)}})):L=function(e){return e instanceof this},l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},l.prototype.write=function(e,t,n){var r=this._writableState,i=!1,o=!r.objectMode&&a(e);return o&&!R.isBuffer(e)&&(e=s(e)),"function"==typeof t&&(n=t,t=null),o?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=u),r.ended?f(this,n):(o||h(this,r,e,n))&&(r.pendingcb++,i=d(this,r,o,e,t,n)),i},l.prototype.cork=function(){var e=this._writableState;e.corked++},l.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},l.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),l.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},l.prototype._writev=null,l.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||C(this,r,n)},Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),l.prototype.destroy=P.destroy,l.prototype._undestroy=P.undestroy,l.prototype._destroy=function(e,t){this.end(),t(e)}}).call(t,n(52),n(57).setImmediate,function(){return this}())},function(e,t){(function(t){function n(e,t){function n(){if(!i){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var i=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(n){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=n}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=r(e);if("string"!=typeof t&&(m.isEncoding===b||!b(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=i(e);var t;switch(this.encoding){case"utf16le":this.text=h,this.end=p,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=d,this.end=v,t=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(t)}function s(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function a(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||i===-2?0:(i=s(t[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||i===-2?0:(i=s(t[r]),i>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0))}function u(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"�"}}function c(e){var t=this.lastTotal-this.lastNeed,n=u(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){var n=a(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t}function h(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function p(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function d(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function v(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function g(e){return e.toString(this.encoding)}function y(e){return e&&e.length?this.write(e):""}var m=n(118).Buffer,b=m.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=f,o.prototype.text=l,o.prototype.fillLast=function(e){return this.lastNeed<=e.length?(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),void(this.lastNeed-=e.length))}},function(e,t,n){"use strict";function r(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(e){return this instanceof i?(a.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),void this.on("prefinish",o)):new i(e)}function o(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){s(e,t,n)}):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=i;var a=n(309),u=n(142);u.inherits=n(135),u.inherits(i,a),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var n=this;a.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){"use strict";function r(e){return this instanceof r?void i.call(this,e):new r(e)}e.exports=r;var i=n(313),o=n(142);o.inherits=n(135),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){var r=n(316),i=function(){},o=function(e){return e.setHeader&&"function"==typeof e.abort},s=function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length},a=function(e,t,n){if("function"==typeof t)return a(e,null,t);t||(t={}),n=r(n||i);var u=e._writableState,c=e._readableState,l=t.readable||t.readable!==!1&&e.readable,f=t.writable||t.writable!==!1&&e.writable,h=function(){e.writable||p()},p=function(){f=!1,l||n.call(e)},d=function(){l=!1,f||n.call(e)},v=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},g=function(t){n.call(e,t)},y=function(){return(!l||c&&c.ended)&&(!f||u&&u.ended)?void 0:n.call(e,new Error("premature close"))},m=function(){e.req.on("finish",p)};return o(e)?(e.on("complete",p),e.on("abort",y),e.req?m():e.on("request",m)):f&&!u&&(e.on("end",h),e.on("close",h)),s(e)&&e.on("exit",v),e.on("end",d),e.on("finish",p),t.error!==!1&&e.on("error",g),e.on("close",y),function(){e.removeListener("complete",p),e.removeListener("abort",y),e.removeListener("request",m),e.req&&e.req.removeListener("finish",p),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",p),e.removeListener("exit",v),e.removeListener("end",d),e.removeListener("error",g),e.removeListener("close",y)}};e.exports=a},function(e,t,n){function r(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}var o=n(317);e.exports=o(r),e.exports.strict=o(i),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},function(e,t){function n(e,t){function r(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var r=e.apply(this,t),i=t[t.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}if(e&&t)return n(e)(t);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(t){r[t]=e[t]}),r}e.exports=n},function(e,t,n){"use strict";t.parser=n(319),t.generate=n(324),t.writeToStream=n(325)},function(e,t,n){"use strict";function r(){return this instanceof r?(this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],void this._resetState()):new r}var i=n(320),o=n(135),s=n(138).EventEmitter,a=n(322),u=n(323);o(r,s),r.prototype._resetState=function(){this.packet=new a,this.error=null,this._list=i(),this._stateCounter=0},r.prototype.parse=function(e){for(this.error&&this._resetState(),this._list.append(e);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,this._stateCounter>=this._states.length&&(this._stateCounter=0);return this._list.length},r.prototype._parseHeader=function(){var e=this._list.readUInt8(0);return this.packet.cmd=u.types[e>>u.CMD_SHIFT],this.packet.retain=0!==(e&u.RETAIN_MASK),this.packet.qos=e>>u.QOS_SHIFT&u.QOS_MASK,this.packet.dup=0!==(e&u.DUP_MASK),this._list.consume(1),!0},r.prototype._parseLength=function(){for(var e,t=0,n=1,r=0,i=!0;t<5&&(e=this._list.readUInt8(t++),r+=n*(e&u.LENGTH_MASK),n*=128,0!==(e&u.LENGTH_FIN_MASK));)if(this._list.length<=t){i=!1;break}return i&&(this.packet.length=r,this._list.consume(t)),i},r.prototype._parsePayload=function(){var e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseMessageId();break;case"subscribe":this._parseSubscribe();
break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":case"disconnect":break;default:this._emitError(new Error("Not supported"))}e=!0}return e},r.prototype._parseConnect=function(){var e,t,n,r,i,o,s={},a=this.packet;if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==e&&"MQIsdp"!==e)return this._emitError(new Error("Invalid protocolId"));if(a.protocolId=e,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(a.protocolVersion=this._list.readUInt8(this._pos),3!==a.protocolVersion&&4!==a.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(s.username=this._list.readUInt8(this._pos)&u.USERNAME_MASK,s.password=this._list.readUInt8(this._pos)&u.PASSWORD_MASK,s.will=this._list.readUInt8(this._pos)&u.WILL_FLAG_MASK,s.will&&(a.will={},a.will.retain=0!==(this._list.readUInt8(this._pos)&u.WILL_RETAIN_MASK),a.will.qos=(this._list.readUInt8(this._pos)&u.WILL_QOS_MASK)>>u.WILL_QOS_SHIFT),a.clean=0!==(this._list.readUInt8(this._pos)&u.CLEAN_SESSION_MASK),this._pos++,a.keepalive=this._parseNum(),a.keepalive===-1)return this._emitError(new Error("Packet too short"));if(t=this._parseString(),null===t)return this._emitError(new Error("Packet too short"));if(a.clientId=t,s.will){if(n=this._parseString(),null===n)return this._emitError(new Error("Cannot parse will topic"));if(a.will.topic=n,r=this._parseBuffer(),null===r)return this._emitError(new Error("Cannot parse will payload"));a.will.payload=r}if(s.username){if(o=this._parseString(),null===o)return this._emitError(new Error("Cannot parse username"));a.username=o}if(s.password){if(i=this._parseBuffer(),null===i)return this._emitError(new Error("Cannot parse password"));a.password=i}return a},r.prototype._parseConnack=function(){var e=this.packet;return this._list.length<2?null:(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&u.SESSIONPRESENT_MASK),e.returnCode=this._list.readUInt8(this._pos),e.returnCode===-1?this._emitError(new Error("Cannot parse return code")):void 0)},r.prototype._parsePublish=function(){var e=this.packet;return e.topic=this._parseString(),null===e.topic?this._emitError(new Error("Cannot parse topic")):void(e.qos>0&&!this._parseMessageId()||(e.payload=this._list.slice(this._pos,e.length)))},r.prototype._parseSubscribe=function(){var e,t,n=this.packet;if(1!==n.qos)return this._emitError(new Error("Wrong subscribe header"));if(n.subscriptions=[],this._parseMessageId())for(;this._pos<n.length;){if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse topic"));t=this._list.readUInt8(this._pos++),n.subscriptions.push({topic:e,qos:t})}},r.prototype._parseSuback=function(){if(this.packet.granted=[],this._parseMessageId())for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))},r.prototype._parseUnsubscribe=function(){var e=this.packet;if(e.unsubscriptions=[],this._parseMessageId())for(;this._pos<e.length;){var t;if(t=this._parseString(),null===t)return this._emitError(new Error("Cannot parse topic"));e.unsubscriptions.push(t)}},r.prototype._parseUnsuback=function(){if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"))},r.prototype._parseMessageId=function(){var e=this.packet;return e.messageId=this._parseNum(),null!==e.messageId||(this._emitError(new Error("Cannot parse messageId")),!1)},r.prototype._parseString=function(e){var t,n=this._parseNum(),r=n+this._pos;return n===-1||r>this._list.length||r>this.packet.length?null:(t=this._list.toString("utf8",this._pos,r),this._pos+=n,t)},r.prototype._parseBuffer=function(){var e,t=this._parseNum(),n=t+this._pos;return t===-1||n>this._list.length||n>this.packet.length?null:(e=this._list.slice(this._pos,n),this._pos+=t,e)},r.prototype._parseNum=function(){if(this._list.length-this._pos<2)return-1;var e=this._list.readUInt16BE(this._pos);return this._pos+=2,e},r.prototype._newPacket=function(){return this.packet&&(this._list.consume(this.packet.length),this.emit("packet",this.packet)),this.packet=new a,!0},r.prototype._emitError=function(e){this.error=e,this.emit("error",e)},e.exports=r},function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);if(this._bufs=[],this.length=0,"function"==typeof e){this._callback=e;var t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)})}else this.append(e);i.call(this)}var i=n(321),o=n(133),s=n(118).Buffer;o.inherits(r,i),r.prototype._offset=function(e){var t,n=0,r=0;if(0===e)return[0,0];for(;r<this._bufs.length;r++){if(t=n+this._bufs[r].length,e<t||r==this._bufs.length-1)return[r,e-n];n=t}},r.prototype.append=function(e){var t=0;if(s.isBuffer(e))this._appendBuffer(e);else if(Array.isArray(e))for(;t<e.length;t++)this.append(e[t]);else if(e instanceof r)for(;t<e._bufs.length;t++)this.append(e._bufs[t]);else null!=e&&("number"==typeof e&&(e=e.toString()),this._appendBuffer(s.from(e)));return this},r.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},r.prototype._write=function(e,t,n){this._appendBuffer(e),"function"==typeof n&&n()},r.prototype._read=function(e){return this.length?(e=Math.min(e,this.length),this.push(this.slice(0,e)),void this.consume(e)):this.push(null)},r.prototype.end=function(e){i.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},r.prototype.get=function(e){return this.slice(e,e+1)[0]},r.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},r.prototype.copy=function a(e,t,n,r){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof r||r>this.length)&&(r=this.length),n>=this.length)return e||s.alloc(0);if(r<=0)return e||s.alloc(0);var i,o,a=!!e,u=this._offset(n),c=r-n,l=c,f=a&&t||0,h=u[1];if(0===n&&r==this.length){if(!a)return 1===this._bufs.length?this._bufs[0]:s.concat(this._bufs,this.length);for(o=0;o<this._bufs.length;o++)this._bufs[o].copy(e,f),f+=this._bufs[o].length;return e}if(l<=this._bufs[u[0]].length-h)return a?this._bufs[u[0]].copy(e,t,h,h+l):this._bufs[u[0]].slice(h,h+l);for(a||(e=s.allocUnsafe(c)),o=u[0];o<this._bufs.length;o++){if(i=this._bufs[o].length-h,!(l>i)){this._bufs[o].copy(e,f,h,h+l);break}this._bufs[o].copy(e,f,h),f+=i,l-=i,h&&(h=0)}return e},r.prototype.shallowSlice=function(e,t){e=e||0,t=t||this.length,e<0&&(e+=this.length),t<0&&(t+=this.length);var n=this._offset(e),i=this._offset(t),o=this._bufs.slice(n[0],i[0]+1);return 0==i[1]?o.pop():o[o.length-1]=o[o.length-1].slice(0,i[1]),0!=n[1]&&(o[0]=o[0].slice(n[1])),new r(o)},r.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},r.prototype.consume=function(e){for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},r.prototype.duplicate=function(){for(var e=0,t=new r;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},r.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var t in e)!function(t){r.prototype[t]=function(n){return this.slice(n,n+e[t])[t](0)}}(t)}(),e.exports=r},function(e,t,n){e.exports=n(309)},function(e,t){function n(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}e.exports=n},function(e,t,n){"use strict";function r(e){return[0,1,2].map(function(t){return[0,1].map(function(n){return[0,1].map(function(r){var s=new i(1);return s.writeUInt8(o.codes[e]<<o.CMD_SHIFT|(n?o.DUP_MASK:0)|t<<o.QOS_SHIFT|r,0,!0),s})})})}var i=n(118).Buffer,o=e.exports;o.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"reserved"},o.codes={};for(var s in o.types){var a=o.types[s];o.codes[a]=s}o.CMD_SHIFT=4,o.CMD_MASK=240,o.DUP_MASK=8,o.QOS_MASK=3,o.QOS_SHIFT=1,o.RETAIN_MASK=1,o.LENGTH_MASK=127,o.LENGTH_FIN_MASK=128,o.SESSIONPRESENT_MASK=1,o.SESSIONPRESENT_HEADER=i.from([o.SESSIONPRESENT_MASK]),o.CONNACK_HEADER=i.from([o.codes.connack<<o.CMD_SHIFT]),o.USERNAME_MASK=128,o.PASSWORD_MASK=64,o.WILL_RETAIN_MASK=32,o.WILL_QOS_MASK=24,o.WILL_QOS_SHIFT=3,o.WILL_FLAG_MASK=4,o.CLEAN_SESSION_MASK=2,o.CONNECT_HEADER=i.from([o.codes.connect<<o.CMD_SHIFT]),o.PUBLISH_HEADER=r("publish"),o.SUBSCRIBE_HEADER=r("subscribe"),o.UNSUBSCRIBE_HEADER=r("unsubscribe"),o.ACKS={unsuback:r("unsuback"),puback:r("puback"),pubcomp:r("pubcomp"),pubrel:r("pubrel"),pubrec:r("pubrec")},o.SUBACK_HEADER=i.from([o.codes.suback<<o.CMD_SHIFT]),o.VERSION3=i.from([3]),o.VERSION4=i.from([4]),o.QOS=[0,1,2].map(function(e){return i.from([e])}),o.EMPTY={pingreq:i.from([o.codes.pingreq<<4,0]),pingresp:i.from([o.codes.pingresp<<4,0]),disconnect:i.from([o.codes.disconnect<<4,0])}},function(e,t,n){"use strict";function r(e){var t=new i;return s(e,t),t.concat()}function i(){this._array=new Array(20),this._i=0}var o=n(118).Buffer,s=n(325),a=n(138).EventEmitter,u=n(135);u(i,a),i.prototype.write=function(e){return this._array[this._i++]=e,!0},i.prototype.concat=function(){var e,t,n=0,r=new Array(this._array.length),i=this._array,s=0;for(e=0;e<i.length&&void 0!==i[e];e++)"string"!=typeof i[e]?r[e]=i[e].length:r[e]=o.byteLength(i[e]),n+=r[e];for(t=o.allocUnsafe(n),e=0;e<i.length&&void 0!==i[e];e++)"string"!=typeof i[e]?(i[e].copy(t,s),s+=r[e]):(t.write(i[e],s),s+=r[e]);return t},e.exports=r},function(e,t,n){"use strict";function r(e,t){switch(t.cork&&(t.cork(),S(i,t)),j&&(j=!1,U()),e.cmd){case"connect":return o(e,t);case"connack":return s(e,t);case"publish":return a(e,t);case"puback":case"pubrec":case"pubrel":case"pubcomp":case"unsuback":return u(e,t);case"subscribe":return c(e,t);case"suback":return l(e,t);case"unsubscribe":return f(e,t);case"pingreq":case"pingresp":case"disconnect":return h(e,t);default:return t.emit("error",new Error("Unknown command")),!1}}function i(e){e.uncork()}function o(e,t){var n=e||{},r=n.protocolId||"MQTT",i=n.protocolVersion||4,o=n.will,s=n.clean,a=n.keepalive||0,u=n.clientId||"",c=n.username,l=n.password;void 0===s&&(s=!0);var f=0;if(!r||"string"!=typeof r&&!x.isBuffer(r))return t.emit("error",new Error("Invalid protocolId")),!1;if(f+=r.length+2,3!==i&&4!==i)return t.emit("error",new Error("Invalid protocol version")),!1;if(f+=1,"string"!=typeof u&&!x.isBuffer(u)||!u&&4!==i||!u&&!s){if(i<4)return t.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*s===0)return t.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}else f+=u.length+2;if("number"!=typeof a||a<0||a>65535||a%1!==0)return t.emit("error",new Error("Invalid keepalive")),!1;if(f+=2,f+=1,o){if("object"!=typeof o)return t.emit("error",new Error("Invalid will")),!1;if(!o.topic||"string"!=typeof o.topic)return t.emit("error",new Error("Invalid will topic")),!1;if(f+=x.byteLength(o.topic)+2,o.payload&&o.payload){if(!(o.payload.length>=0))return t.emit("error",new Error("Invalid will payload")),!1;f+="string"==typeof o.payload?x.byteLength(o.payload)+2:o.payload.length+2}else f+=2}var h=!1;if(null!=c){if(!w(c))return t.emit("error",new Error("Invalid username")),!1;h=!0,f+=x.byteLength(c)+2}if(null!=l){if(!h)return t.emit("error",new Error("Username is required to use password")),!1;if(!w(l))return t.emit("error",new Error("Invalid password")),!1;f+=_(l)+2}t.write(E.CONNECT_HEADER),v(t,f),b(t,r),t.write(4===i?E.VERSION4:E.VERSION3);var p=0;return p|=null!=c?E.USERNAME_MASK:0,p|=null!=l?E.PASSWORD_MASK:0,p|=o&&o.retain?E.WILL_RETAIN_MASK:0,p|=o&&o.qos?o.qos<<E.WILL_QOS_SHIFT:0,p|=o?E.WILL_FLAG_MASK:0,p|=s?E.CLEAN_SESSION_MASK:0,t.write(x.from([p])),O(t,a),b(t,u),o&&(g(t,o.topic),b(t,o.payload)),null!=c&&b(t,c),null!=l&&b(t,l),!0}function s(e,t){var n=e||{},r=n.returnCode;return"number"!=typeof r?(t.emit("error",new Error("Invalid return code")),!1):(t.write(E.CONNACK_HEADER),v(t,2),t.write(e.sessionPresent?E.SESSIONPRESENT_HEADER:I),t.write(x.from([r])))}function a(e,t){var n=e||{},r=n.qos||0,i=n.retain?E.RETAIN_MASK:0,o=n.topic,s=n.payload||k,a=n.messageId,u=0;if("string"==typeof o)u+=x.byteLength(o)+2;else{if(!x.isBuffer(o))return t.emit("error",new Error("Invalid topic")),!1;u+=o.length+2}return u+=x.isBuffer(s)?s.length:x.byteLength(s),r&&"number"!=typeof a?(t.emit("error",new Error("Invalid messageId")),!1):(r&&(u+=2),t.write(E.PUBLISH_HEADER[r][e.dup?1:0][i?1:0]),v(t,u),O(t,_(o)),t.write(o),r>0&&O(t,a),t.write(s))}function u(e,t){var n=e||{},r=n.cmd||"puback",i=n.messageId,o=n.dup&&"pubrel"===r?E.DUP_MASK:0,s=0;return"pubrel"===r&&(s=1),"number"!=typeof i?(t.emit("error",new Error("Invalid messageId")),!1):(t.write(E.ACKS[r][s][o][0]),v(t,2),O(t,i))}function c(e,t){var n=e||{},r=n.dup?E.DUP_MASK:0,i=n.messageId,o=n.subscriptions,s=0;if("number"!=typeof i)return t.emit("error",new Error("Invalid messageId")),!1;if(s+=2,"object"!=typeof o||!o.length)return t.emit("error",new Error("Invalid subscriptions")),!1;for(var a=0;a<o.length;a+=1){var u=o[a].topic,c=o[a].qos;if("string"!=typeof u)return t.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof c)return t.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;s+=x.byteLength(u)+2+1}t.write(E.SUBSCRIBE_HEADER[1][r?1:0][0]),v(t,s),O(t,i);for(var l=!0,f=0;f<o.length;f++){var h=o[f],p=h.topic,d=h.qos;g(t,p),l=t.write(E.QOS[d])}return l}function l(e,t){var n=e||{},r=n.messageId,i=n.granted,o=0;if("number"!=typeof r)return t.emit("error",new Error("Invalid messageId")),!1;if(o+=2,"object"!=typeof i||!i.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(var s=0;s<i.length;s+=1){if("number"!=typeof i[s])return t.emit("error",new Error("Invalid qos vector")),!1;o+=1}return t.write(E.SUBACK_HEADER),v(t,o),O(t,r),t.write(x.from(i))}function f(e,t){var n=e||{},r=n.messageId,i=n.dup?E.DUP_MASK:0,o=n.unsubscriptions,s=0;if("number"!=typeof r)return t.emit("error",new Error("Invalid messageId")),!1;if(s+=2,"object"!=typeof o||!o.length)return t.emit("error",new Error("Invalid unsubscriptions")),!1;for(var a=0;a<o.length;a+=1){if("string"!=typeof o[a])return t.emit("error",new Error("Invalid unsubscriptions")),!1;s+=x.byteLength(o[a])+2}t.write(E.UNSUBSCRIBE_HEADER[1][i?1:0][0]),v(t,s),O(t,r);for(var u=!0,c=0;c<o.length;c++)u=g(t,o[c]);return u}function h(e,t){return t.write(E.EMPTY[e.cmd])}function p(e){return e>=0&&e<128?1:e>=128&&e<16384?2:e>=16384&&e<2097152?3:e>=2097152&&e<268435456?4:0}function d(e){var t=0,n=0,r=x.allocUnsafe(p(e));do t=e%128|0,e=e/128|0,e>0&&(t=128|t),r.writeUInt8(t,n++);while(e>0);return r}function v(e,t){var n=A[t];n||(n=d(t),t<16384&&(A[t]=n)),e.write(n)}function g(e,t){var n=x.byteLength(t);O(e,n),e.write(t,"utf8")}function y(e,t){return e.write(T[t])}function m(e,t){return e.write(B(t))}function b(e,t){"string"==typeof t?g(e,t):t?(O(e,t.length),e.write(t)):O(e,0)}function _(e){return e?e instanceof x?e.length:x.byteLength(e):0}function w(e){return"string"==typeof e||e instanceof x}var E=n(323),x=n(118).Buffer,k=x.allocUnsafe(0),I=x.from([0]),C=n(326),S=n(303).nextTick,T=C.cache,B=C.generateNumber,U=C.generateCache,O=y,j=!0;Object.defineProperty(r,"cacheNumbers",{get:function(){return O===y},set:function(e){e?(T&&0!==Object.keys(T).length||(j=!0),O=y):(j=!1,O=m)}});var A={};e.exports=r},function(e,t,n){"use strict";function r(e){var t=o.allocUnsafe(2);return t.writeUInt8(e>>8,0),t.writeUInt8(255&e,1),t}function i(){for(var e=0;e<s;e++)a[e]=r(e)}var o=n(118).Buffer,s=65536,a={};e.exports={cache:a,generateCache:i,generateNumber:r}},function(e,t){"use strict";function n(e,t,n){var r=this;this._callback=e,this._args=n,this._interval=setInterval(e,t,this._args),this.reschedule=function(e){e||(e=r._interval),r._interval&&clearInterval(r._interval),r._interval=setInterval(r._callback,e,r._args)},this.clear=function(){r._interval&&(clearInterval(r._interval),r._interval=void 0)},this.destroy=function(){r._interval&&clearInterval(r._interval),r._callback=void 0,r._interval=void 0,r._args=void 0}}function r(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new n(arguments[0],arguments[1],e)}e.exports=r},function(e,t){"use strict";function n(e){for(var t=e.split("/"),n=0;n<t.length;n++)if("+"!==t[n]){if("#"===t[n])return n===t.length-1;if(t[n].indexOf("+")!==-1||t[n].indexOf("#")!==-1)return!1}return!0}function r(e){if(0===e.length)return"empty_topic_list";for(var t=0;t<e.length;t++)if(!n(e[t]))return e[t];return null}e.exports={validateTopics:r}},function(e,t,n){"use strict";function r(e,t){var n,r;return t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost",n=t.port,r=t.hostname,i.createConnection(n,r)}var i=n(330);e.exports=r},91,function(e,t,n){"use strict";function r(e,t){function n(n){t.rejectUnauthorized&&e.emit("error",n),r.end()}var r;return t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",t.rejectUnauthorized=t.rejectUnauthorized!==!1,delete t.path,r=i.connect(t),r.on("secureConnect",function(){t.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",n)}),r.on("error",n),r}var i=n(332);e.exports=r},91,function(e,t,n){"use strict";function r(e){c?wx.sendSocketMessage({data:e.buffer||e}):l.push(e)}function i(e,t){var n={OPEN:1,CLOSING:2,CLOSED:3,readyState:c?1:0,send:r,close:wx.closeSocket,onopen:null,onmessage:null,onclose:null,onerror:null};return wx.connectSocket({url:e,protocols:t}),wx.onSocketOpen(function(e){n.readyState=n.OPEN,c=!0;for(var t=0;t<l.length;t++)r(l[t]);l=[],n.onopen&&n.onopen.apply(n,arguments)}),wx.onSocketMessage(function(e){n.onmessage&&n.onmessage.apply(n,arguments)}),wx.onSocketClose(function(){n.onclose&&n.onclose.apply(n,arguments),n.readyState=n.CLOSED,c=!1}),wx.onSocketError(function(){n.onerror&&n.onerror.apply(n,arguments),n.readyState=n.CLOSED,c=!1}),n}function o(e,t){var n="wxs"===e.protocol?"wss":"ws",r=n+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(r=n+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}function s(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}function a(e,t){var n="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";s(t);var r=o(t,e);return f(i(r,[n]))}function u(e,t){if(t.hostname=t.hostname||t.host,!t.hostname)throw new Error("Could not determine host. Specify host manually.");return a(e,t)}var c=!1,l=[],f=n(334);e.exports=u},function(e,t,n){(function(t,r){"use strict";function i(e,t,n){var r=new s({objectMode:e.objectMode});return r._write=t,r._flush=n,r}function o(e,n,o){function s(e,t,n){return b.readyState!==b.OPEN?void n():(C&&"string"==typeof e&&(e=c.from(e,"utf8")),void b.send(e,n))}function l(e,t,n){if(b.bufferedAmount>k)return void setTimeout(l,I,e,t,n);C&&"string"==typeof e&&(e=c.from(e,"utf8"));try{b.send(e)}catch(r){return n(r)}n()}function f(e){b.close(),e()}function h(){m.setReadable(x),m.setWritable(x),m.emit("connect")}function p(){m.end(),m.destroy()}function d(e){m.destroy(e)}function v(e){var t=e.data;t=t instanceof ArrayBuffer?c.from(t):c.from(t,"utf8"),x.push(t)}function g(){b.close()}function y(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"string"==typeof e[r].chunk?n[r]=c.from(e[r],"utf8"):n[r]=e[r].chunk;this._write(c.concat(n),"binary",t)}var m,b,_="browser"===t.title,w=!!r.WebSocket,E=_?l:s;n&&!Array.isArray(n)&&"object"==typeof n&&(o=n,n=null,("string"==typeof o.protocol||Array.isArray(o.protocol))&&(n=o.protocol)),o||(o={}),void 0===o.objectMode&&(o.objectMode=!(o.binary===!0||void 0===o.binary));var x=i(o,E,f);o.objectMode||(x._writev=y);var k=o.browserBufferSize||524288,I=o.browserBufferTimeout||1e3;"object"==typeof e?b=e:(b=w&&_?new u(e,n):new u(e,n,o),b.binaryType="arraybuffer"),b.readyState===b.OPEN?m=x:(m=a.obj(),b.onopen=h),m.socket=b,b.onclose=p,b.onerror=d,b.onmessage=v,x.on("close",g);var C=!o.objectMode;return m}var s=n(301).Transform,a=n(335),u=n(337),c=n(118).Buffer;e.exports=o}).call(t,n(52),function(){return this}())},function(e,t,n){(function(t,r){var i=n(301),o=n(315),s=n(135),a=n(336),u=t.from&&t.from!==Uint8Array.from?t.from([0]):new t([0]),c=function(e,t){e._corked?e.once("uncork",t):t()},l=function(e,t){e._autoDestroy&&e.destroy(t)},f=function(e,t){return function(n){n?l(e,"premature close"===n.message?null:n):t&&!e._ended&&e.end()}},h=function(e,t){return e?e._writableState&&e._writableState.finished?t():e._writableState?e.end(t):(e.end(),void t()):t()},p=function(e){return new i.Readable({objectMode:!0,highWaterMark:16}).wrap(e)},d=function(e,t,n){return this instanceof d?(i.Duplex.call(this,n),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!n||n.autoDestroy!==!1,this._forwardDestroy=!n||n.destroy!==!1,this._forwardEnd=!n||n.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),void(t&&this.setReadable(t))):new d(e,t,n)};s(d,i.Duplex),d.obj=function(e,t,n){return n||(n={}),n.objectMode=!0,n.highWaterMark=16,new d(e,t,n)},d.prototype.cork=function(){1===++this._corked&&this.emit("cork")},d.prototype.uncork=function(){this._corked&&0===--this._corked&&this.emit("uncork")},d.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)return void(e&&e.destroy&&e.destroy());if(null===e||e===!1)return void this.end();var t=this,n=o(e,{writable:!0,readable:!1},f(this,this._forwardEnd)),i=function(){var e=t._ondrain;t._ondrain=null,e&&e()},s=function(){t._writable.removeListener("drain",i),n()};this._unwrite&&r.nextTick(i),this._writable=e,this._writable.on("drain",i),this._unwrite=s,this.uncork()},d.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)return void(e&&e.destroy&&e.destroy());if(null===e||e===!1)return this.push(null),void this.resume();var t=this,n=o(e,{writable:!1,readable:!0},f(this)),r=function(){t._forward()},i=function(){t.push(null)},s=function(){t._readable2.removeListener("readable",r),t._readable2.removeListener("end",i),n()};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:p(e),this._readable2.on("readable",r),this._readable2.on("end",i),this._unread=s,this._forward()},d.prototype._read=function(){this._drained=!0,this._forward()},d.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){this._forwarding=!0;for(var e;this._drained&&null!==(e=a(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},d.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;r.nextTick(function(){t._destroy(e)})}},d.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},d.prototype._write=function(e,t,n){return this.destroyed?n():this._corked?c(this,this._write.bind(this,e,t,n)):e===u?this._finish(n):this._writable?void(this._writable.write(e)===!1?this._ondrain=n:n()):n()},d.prototype._finish=function(e){var t=this;this.emit("preend"),c(this,function(){h(t._forwardEnd&&t._writable,function(){t._writableState.prefinished===!1&&(t._writableState.prefinished=!0),t.emit("prefinish"),c(t,e)})})},d.prototype.end=function(e,t,n){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(u),i.Writable.prototype.end.call(this,n))},e.exports=d}).call(t,n(3).Buffer,n(52))},function(e,t){function n(e){var t=e._readableState;return t?t.objectMode?e.read():e.read(r(t)):null}function r(e){return e.buffer.length?e.buffer.head?e.buffer.head.data.length:e.buffer[0].length:e.length}e.exports=n},function(e,t){var n=null;"undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof MozWebSocket?n=MozWebSocket:"undefined"!=typeof window&&(n=window.WebSocket||window.MozWebSocket),e.exports=n},function(e,t,n){(function(t){"use strict";function r(e,t){var n=e.protocol+"://"+e.hostname+":"+e.port+e.path;return"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}function i(e){e.hostname||(e.hostname="localhost"),e.port||("wss"===e.protocol?e.port=443:e.port=80),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={}),f||"wss"!==e.protocol||l.forEach(function(t){e.hasOwnProperty(t)&&!e.wsOptions.hasOwnProperty(t)&&(e.wsOptions[t]=e[t])})}function o(e,t){var n="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";i(t);var o=r(t,e);return u(o,[n],t.wsOptions)}function s(e,t){return o(e,t)}function a(e,t){if(t.hostname||(t.hostname=t.host),!t.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");var n=c.parse(document.URL);t.hostname=n.hostname,t.port||(t.port=n.port)}return o(e,t)}var u=n(334),c=n(110),l=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],f="browser"===t.title;f?e.exports=a:e.exports=s}).call(t,n(52))},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),u=r(a),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(49),h=r(f),p=n(50),d=r(p),v=n(340),g=r(v),y=n(172),m=r(y),b=n(346),_=r(b),w=n(293).CONFIG,E=function(t){function n(t){i(this,n);var r=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));r._stompConnection=void 0,r._subscription=void 0,"object"===("undefined"==typeof e?"undefined":c(e))&&""+e=="[object process]"?r._protocol="stomp":r._protocol="webStomp";var s=w.stomp,a=w.webStomp;return r._webSocketOpts=a.webSocket,r._connectionHeaders=s.connection.headers,r._connectionOpts=s.connection.opts,r._existingQueuePrefix=s.existingQueuePrefix,r}return s(n,t),l(n,[{key:"onReceive",value:function(e,t){var n=this;return t=(0,h["default"])({},t),new d["default"](function(r,i){n.connect().then(function(i){var o=n._subcriptionFor(n._existingQueuePrefix,n._inboxTopic),s=function(r){var i=new _["default"](r,n._deviceId,t),o=n._autoAck(t.ack);return i.blackListed()?void(o&&r.nack()):(e(n._parseContent(i.body),i.headers),void(o&&r.ack()))};n._subscription=i.subscribe(o,s),r(!0)})["catch"](function(e){i(e)})})}},{key:"publish",value:function(e,t,n){var r=this;return n=(0,h["default"])({},n),new d["default"](function(n,i){r.connect().then(function(i){var o=r._destinationFor("exchange",e);i.send(o,r._connectionHeaders,r._encapsulateContent(t)),n(!0)})["catch"](function(e){i(e)})})}},{key:"disconnect",value:function(){var e=this;return new d["default"](function(t,n){void 0===e._stompConnection?n("Invalid connection"):(void 0!==e._subscription&&e._subscription.unsubscribe(),e._stompConnection.disconnect(function(){e.emit("disconnect"),e._stompConnection=void 0,t(!0)})["catch"](function(t){e._stompConnection=void 0,n(t)}))})}},{key:"connect",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n=(0,h["default"])(this._connectionOpts,n),new d["default"](function(n,r){t.getEndpointConfigs().then(function(i){var o=i.connection;if(void 0!==t._stompConnection)n(t._stompConnection);else try{var s=void 0;if("object"===("undefined"==typeof e?"undefined":c(e))&&""+e=="[object process]")s=t._tls?g["default"].overTCP(o.host,o.protocols.stomp.tlsPort,t._tlsOpts):g["default"].overTCP(o.host,o.protocols.stomp.port);else{var a=t._tls?t._webSocketOpts.tls.protocol:t._webSocketOpts.protocol,u=t._tls?o.protocols.webStomp.tlsPort:o.protocols.webStomp.port,l=a+"://"+o.host+":"+u+"/"+t._webSocketOpts.endpoint,f=new WebSocket(l);s=g["default"].over(f),s.heartbeat.outgoing=1e4,s.heartbeat.incoming=1e4,s.debug=null}var p=(0,h["default"])(t._connectionHeaders,{login:o.deviceId||o.client,passcode:o.secret,host:o.vhost});s.connect(p,function(){t._stompConnection=s,t.emit("connect"),n(t._stompConnection)},function(e){t.emit("error",e),t._stompConnection=void 0,r(e)})}catch(d){r(d)}})["catch"](function(e){r(e)})})}},{key:"isConnected",value:function(){return void 0!==this._stompConnection}},{key:"_subcriptionFor",value:function(e,t){return"/"+e+"/"+this.deviceId()+"."+t}},{key:"_destinationFor",value:function(e,t){return"/"+e+"/"+this.deviceId()+"/"+this.deviceId()+"."+t}},{key:"_autoAck",value:function(e){if(e)switch((0,u["default"])(w[this._protocol].ackTypes,e)||console.error("Wrong acknowledge type"),e){case"client":return!1;default:return!0}return!1}}]),n}(m["default"]);t["default"]=E}).call(t,n(52))},function(e,t,n){var r=n(341),i=n(342);e.exports=r.Stomp,e.exports.overTCP=i.overTCP,e.exports.overWS=i.overWS},function(e,t){(function(){var e,n,r,i,o={}.hasOwnProperty,s=[].slice;e={LF:"\n",NULL:"\0"},r=function(){function t(e,t,n){this.command=e,this.headers=null!=t?t:{},this.body=null!=n?n:""}var n;return t.prototype.toString=function(){var n,r,i,s,a;n=[this.command],s=this.headers["content-length"]===!1,s&&delete this.headers["content-length"],i=this.headers;for(r in i)o.call(i,r)&&(a=i[r],n.push(r+":"+a));return this.body&&!s&&n.push("content-length:"+t.sizeOfUTF8(this.body)),n.push(e.LF+this.body),n.join(e.LF)},t.sizeOfUTF8=function(e){return e?encodeURI(e).match(/%..|./g).length:0},n=function(n){var r,i,o,s,a,u,c,l,f,h,p,d,v,g,y,m,b,_;for(s=n.search(RegExp(""+e.LF+e.LF)),a=n.substring(0,s).split(e.LF),o=a.shift(),u={},_=function(e){return e.replace(/^\s+|\s+$/g,"")},g=a.reverse(),f=0,d=g.length;f<d;f++)v=g[f],l=v.indexOf(":"),u[_(v.substring(0,l))]=_(v.substring(l+1));if(r="",b=s+2,u["content-length"])p=parseInt(u["content-length"]),r=(""+n).substring(b,b+p);else for(i=null,c=h=y=b,m=n.length;(y<=m?h<m:h>m)&&(i=n.charAt(c),i!==e.NULL);c=y<=m?++h:--h)r+=i;return new t(o,u,r)},t.unmarshall=function(t){var r,i,o,s;return i=t.split(RegExp(""+e.NULL+e.LF+"*")),s={frames:[],partial:""},s.frames=function(){var e,t,o,s;for(o=i.slice(0,-1),s=[],e=0,t=o.length;e<t;e++)r=o[e],s.push(n(r));return s}(),o=i.slice(-1)[0],o===e.LF||o.search(RegExp(""+e.NULL+e.LF+"*$"))!==-1?s.frames.push(n(o)):s.partial=o,s},t.marshall=function(n,r,i){var o;return o=new t(n,r,i),o.toString()+e.NULL},t}(),n=function(){
function t(e){this.ws=e,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData=""}var n;return t.prototype.debug=function(e){var t;return"undefined"!=typeof window&&null!==window&&null!=(t=window.console)?t.log(e):void 0},n=function(){return Date.now?Date.now():(new Date).valueOf},t.prototype._transmit=function(e,t,n){var i;for(i=r.marshall(e,t,n),"function"==typeof this.debug&&this.debug(">>> "+i);;){if(!(i.length>this.maxWebSocketFrameSize))return this.ws.send(i);this.ws.send(i.substring(0,this.maxWebSocketFrameSize)),i=i.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+i.length)}},t.prototype._setupHeartbeat=function(t){var r,o,s,a,u,c;if((r=t.version)===i.VERSIONS.V1_1||r===i.VERSIONS.V1_2)return o=function(){var e,n,r,i;for(r=t["heart-beat"].split(","),i=[],e=0,n=r.length;e<n;e++)c=r[e],i.push(parseInt(c));return i}(),a=o[0],s=o[1],0!==this.heartbeat.outgoing&&0!==s&&(u=Math.max(this.heartbeat.outgoing,s),"function"==typeof this.debug&&this.debug("send PING every "+u+"ms"),this.pinger=i.setInterval(u,function(t){return function(){return t.ws.send(e.LF),"function"==typeof t.debug?t.debug(">>> PING"):void 0}}(this))),0!==this.heartbeat.incoming&&0!==a?(u=Math.max(this.heartbeat.incoming,a),"function"==typeof this.debug&&this.debug("check PONG every "+u+"ms"),this.ponger=i.setInterval(u,function(e){return function(){var t;if(t=n()-e.serverActivity,t>2*u)return"function"==typeof e.debug&&e.debug("did not receive server activity for the last "+t+"ms"),e.ws.close()}}(this))):void 0},t.prototype._parseConnect=function(){var e,t,n,r;switch(e=1<=arguments.length?s.call(arguments,0):[],r={},e.length){case 2:r=e[0],t=e[1];break;case 3:e[1]instanceof Function?(r=e[0],t=e[1],n=e[2]):(r.login=e[0],r.passcode=e[1],t=e[2]);break;case 4:r.login=e[0],r.passcode=e[1],t=e[2],n=e[3];break;default:r.login=e[0],r.passcode=e[1],t=e[2],n=e[3],r.host=e[4]}return[r,t,n]},t.prototype.connect=function(){var t,o,a,u;return t=1<=arguments.length?s.call(arguments,0):[],u=this._parseConnect.apply(this,t),a=u[0],this.connectCallback=u[1],o=u[2],"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(t){return function(i){var s,a,u,c,l,f,h,p,d,v,g,y,m;if(c="undefined"!=typeof ArrayBuffer&&i.data instanceof ArrayBuffer?(s=new Uint8Array(i.data),"function"==typeof t.debug?t.debug("--- got data length: "+s.length):void 0,function(){var e,t,n;for(n=[],e=0,t=s.length;e<t;e++)a=s[e],n.push(String.fromCharCode(a));return n}().join("")):i.data,t.serverActivity=n(),c===e.LF)return void("function"==typeof t.debug&&t.debug("<<< PONG"));for("function"==typeof t.debug&&t.debug("<<< "+c),m=r.unmarshall(t.partialData+c),t.partialData=m.partial,v=m.frames,g=[],f=0,h=v.length;f<h;f++)switch(l=v[f],l.command){case"CONNECTED":"function"==typeof t.debug&&t.debug("connected to server "+l.headers.server),t.connected=!0,t._setupHeartbeat(l.headers),g.push("function"==typeof t.connectCallback?t.connectCallback(l):void 0);break;case"MESSAGE":y=l.headers.subscription,d=t.subscriptions[y]||t.onreceive,d?(u=t,p=l.headers["message-id"],l.ack=function(e){return null==e&&(e={}),u.ack(p,y,e)},l.nack=function(e){return null==e&&(e={}),u.nack(p,y,e)},g.push(d(l))):g.push("function"==typeof t.debug?t.debug("Unhandled received MESSAGE: "+l):void 0);break;case"RECEIPT":g.push("function"==typeof t.onreceipt?t.onreceipt(l):void 0);break;case"ERROR":g.push("function"==typeof o?o(l):void 0);break;default:g.push("function"==typeof t.debug?t.debug("Unhandled frame: "+l):void 0)}return g}}(this),this.ws.onclose=function(e){return function(){var t;return t="Whoops! Lost connection to "+e.ws.url,"function"==typeof e.debug&&e.debug(t),e._cleanUp(),"function"==typeof o?o(t):void 0}}(this),this.ws.onopen=function(e){return function(){return"function"==typeof e.debug&&e.debug("Web Socket Opened..."),a["accept-version"]=i.VERSIONS.supportedVersions(),a["heart-beat"]=[e.heartbeat.outgoing,e.heartbeat.incoming].join(","),e._transmit("CONNECT",a)}}(this)},t.prototype.disconnect=function(e,t){return null==t&&(t={}),this._transmit("DISCONNECT",t),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"==typeof e?e():void 0},t.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&i.clearInterval(this.pinger),this.ponger)return i.clearInterval(this.ponger)},t.prototype.send=function(e,t,n){return null==t&&(t={}),null==n&&(n=""),t.destination=e,this._transmit("SEND",t,n)},t.prototype.subscribe=function(e,t,n){var r;return null==n&&(n={}),n.id||(n.id="sub-"+this.counter++),n.destination=e,this.subscriptions[n.id]=t,this._transmit("SUBSCRIBE",n),r=this,{id:n.id,unsubscribe:function(){return r.unsubscribe(n.id)}}},t.prototype.unsubscribe=function(e){return delete this.subscriptions[e],this._transmit("UNSUBSCRIBE",{id:e})},t.prototype.begin=function(e){var t,n;return n=e||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:n}),t=this,{id:n,commit:function(){return t.commit(n)},abort:function(){return t.abort(n)}}},t.prototype.commit=function(e){return this._transmit("COMMIT",{transaction:e})},t.prototype.abort=function(e){return this._transmit("ABORT",{transaction:e})},t.prototype.ack=function(e,t,n){return null==n&&(n={}),n["message-id"]=e,n.subscription=t,this._transmit("ACK",n)},t.prototype.nack=function(e,t,n){return null==n&&(n={}),n["message-id"]=e,n.subscription=t,this._transmit("NACK",n)},t}(),i={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(e,t){var r,o;return null==t&&(t=["v10.stomp","v11.stomp"]),r=i.WebSocketClass||WebSocket,o=new r(e,t),new n(o)},over:function(e){return new n(e)},Frame:r},"undefined"!=typeof t&&null!==t&&(t.Stomp=i),"undefined"!=typeof window&&null!==window?(i.setInterval=function(e,t){return window.setInterval(t,e)},i.clearInterval=function(e){return window.clearInterval(e)},window.Stomp=i):t||(self.Stomp=i)}).call(this)},function(e,t,n){(function(){var e,r,i,o,s,a,u;e=n(341),r=n(168),s=n(168),e.Stomp.setInterval=function(e,t){return setInterval(t,e)},e.Stomp.clearInterval=function(e){return clearInterval(e)},a=function(e,t,n){var i,o;return i=null,o={url:"tcp://"+e+":"+t,send:function(e){return i.write(e)},close:function(){return i.end()}},i=n?s.connect(t,e,n,function(e){return i.authorized?o.onopen():(console.error("SSL is not authorized: "+i.authorizationError),"function"==typeof o.onclose?o.onclose(e):void 0)}):r.connect(t,e,function(e){return o.onopen()}),i.on("error",function(e){return"function"==typeof o.onclose?o.onclose(e):void 0}),i.on("close",function(e){return"function"==typeof o.onclose?o.onclose(e):void 0}),i.on("data",function(e){var t;return t={data:e.toString()},o.onmessage(t)}),o},u=function(e){var t,r,i,o;return t=n(343).client,r=null,o={url:e,send:function(e){return r.sendUTF(e)},close:function(){return r.close()}},i=new t,i.on("connect",function(e){return r=e,o.onopen(),r.on("error",function(e){return"function"==typeof o.onclose?o.onclose(e):void 0}),r.on("close",function(){return"function"==typeof o.onclose?o.onclose():void 0}),r.on("message",function(e){var t;if("utf8"===e.type)return t={data:e.utf8Data},o.onmessage(t)})}),i.connect(e),o},i=function(t,n,r){var i;return i=a(t,n,r),e.Stomp.over(i)},o=function(t){var n;return n=u(t),e.Stomp.over(n)},t.overTCP=i,t.overWS=o}).call(this)},function(e,t,n){function r(e,t){var n;return n=t?new o(e,t):new o(e)}var i=function(){return this}(),o=i.WebSocket||i.MozWebSocket,s=n(344);o&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e){Object.defineProperty(r,e,{get:function(){return o[e]}})}),e.exports={w3cwebsocket:o?r:null,version:s}},function(e,t,n){e.exports=n(345).version},function(e,t){e.exports={name:"websocket",description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],author:"Brian McKelvey <brian@worlize.com> (https://www.worlize.com/)",contributors:["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],version:"1.0.26",repository:{type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},homepage:"https://github.com/theturtle32/WebSocket-Node",engines:{node:">=0.10.0"},dependencies:{debug:"^2.2.0",nan:"^2.3.3","typedarray-to-buffer":"^3.1.2",yaeti:"^0.0.6"},devDependencies:{"buffer-equal":"^1.0.0",faucet:"^0.0.1",gulp:"git+https://github.com/gulpjs/gulp.git#4.0","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.0.1"},config:{verbose:!1},scripts:{install:"(node-gyp rebuild 2> builderror.log) || (exit 0)",test:"faucet test/unit",gulp:"gulp"},main:"index",directories:{lib:"./lib"},browser:"lib/browser.js",license:"Apache-2.0"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&a["return"]&&a["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(293).CONFIG,a=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.body=t.body,this.headers=t.headers;try{var s=this.headers.destination.split("/"),a=s[s.length-1].split("."),u=i(a,2);this.senderId=u[0],this.channelName=u[1]}catch(c){console.error("Wrong routing key format")}this._receiverId=n,this._discardMine=o.discardMine||!1,this._discardFromApi=o.discardFromApi||!1}return o(e,[{key:"blackListed",value:function(){return!(!this._discardMine||this._receiverId!==this.senderId||this.fromApi())||!(!this._discardFromApi||!this.fromApi())}},{key:"fromApi",value:function(){return this.headers&&this.headers[s.fromApiHeader]}}]),e}();t["default"]=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(49),c=r(u),l=n(50),f=r(l),h=n(2),p=r(h),d=n(293).CONFIG,v=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=d.amqp.stream;return n._defaultStreamRoutingKey=r.defaultStreamRoutingKey,n._streamQueueArguments=r.streamQueueArguments,n}return s(t,e),a(t,[{key:"streamFrom",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],r=t.map(function(t){return e._attachStreamHook(t,n)})||[];return r.length>0?f["default"].any(r):f["default"].reject("Missing stream hooks")}},{key:"_attachStreamHook",value:function(e,t){var n=this;return new f["default"](function(r,i){var o=e.deviceId,s=e.channel,a=e.stream,u="boolean"!=typeof e.cache||e.cache;void 0!==a||void 0!==s&&void 0!==o||i("Missing Stream or Device ID and Channel");var l=e.routingKey||n._defaultStreamRoutingKey,f=function(){},h=e.callback||f,p=(new Date).getTime();n._createChannel(""+p).then(function(e){n._amqpChannels[""+p]=e;var i=void 0;if(a)if(n.liveStreamExists(a)||(console.error("Stream "+a+" does not exist"),r(!1)),u){var f=n._cachedStreamQueue(a);i=n._amqpChannels[""+p].checkQueue(f,n._streamQueueArguments).then(function(){return n._amqpChannels[""+p].consume(f,function(e){h(n._parseContent(e.content),e.fields,e.properties)},(0,c["default"])(n._subscribeArgs,t))})}else{var d=n.exchangeName(a,n._liveStreamSuffix),v=n.tempQueue(a,n._liveStreamSuffix,p);i=n._amqpChannels[""+p].checkExchange(d).then(function(){return n._amqpChannels[""+p].assertQueue(v,n._streamQueueArguments)}).then(function(){return n._amqpChannels[""+p].bindQueue(v,d,l)}).then(function(){return n._amqpChannels[""+p].consume(v,function(e){h(n._parseContent(e.content),e.fields,e.properties)},(0,c["default"])(n._subscribeArgs,t))})}else{var g=n.exchangeName(o,s),y=n.tempQueue(o,s,p);i=n._amqpChannels[""+p].checkExchange(g).then(function(){return n._amqpChannels[""+p].assertQueue(y,n._streamQueueArguments)}).then(function(){return n._amqpChannels[""+p].bindQueue(y,g,l)}).then(function(){return n._amqpChannels[""+p].consume(y,function(e){h(n._parseContent(e.content),e.fields,e.properties)},(0,c["default"])(n._subscribeArgs,t))})}return i}).then(function(){r(!0)})["catch"](function(e){i(e)})})}},{key:"_cachedStreamQueue",value:function(e){return this.liveStreamByName(e)+"."+this._liveStreamSuffix}}]),t}(p["default"]);delete v.onReceive,delete v.publish,delete v._routingKeyFor,t["default"]=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(49),c=r(u),l=n(50),f=r(l),h=n(295),p=r(h),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"streamFrom",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];return new f["default"](function(r,i){e.connect().then(function(o){var s=function(){};t.forEach(function(t){var n=t.stream,o=t.deviceId,s=t.channel,a=t.qos,u="boolean"!=typeof t.cache||t.cache;void 0!==n||void 0!==s&&void 0!==o||i("Missing Stream or Device ID and Channel"),n?(e.liveStreamExists(n)||(console.error("Stream "+n+" does not exist"),r(!1)),e._topics[e._streamTopicFor(n)]=u?1:0):e._topics[e._streamChannelTopicFor(o,s)]=a||e._connectionOpts.qos}),o.subscribe(e._topics,(0,c["default"])(e._connectionOpts,n),function(n){n?i(!1):(o.on("message",function(n,r){var i=n.split("/"),o=t.filter(function(t){return e.liveStreamByName(t.stream)===i[0]||t.deviceId===i[0]&&t.channel===i[1]}),a=s;o.length>0&&(a=o[0].callback||s),a(n,e._parseContent(r))}),r(!0))})})["catch"](function(e){i(e)})})}},{key:"_streamChannelTopicFor",value:function(e,t){return e+"/"+t}},{key:"_streamTopicFor",value:function(e){return this.liveStreamByName(e)+"/"+this._liveStreamSuffix}}]),t}(p["default"]);delete d.onReceive,delete d.publish,delete d._topicFor,t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(49),c=r(u),l=n(50),f=r(l),h=n(339),p=r(h),d=n(293).CONFIG,v=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._subscriptions={};var r=d.stomp.stream;return n._exchangePrefix=r.exchangePrefix,n._defaultPattern=r.defaultPattern,n}return s(t,e),a(t,[{key:"streamFrom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=this,r=(arguments[2],arguments[3],e.map(function(e){return n._attachStreamHook(e,t)})||[]);return r.length>0?f["default"].any(r):f["default"].reject(new Error("Missing stream hooks"))}},{key:"unsubscribe",value:function(e,t){var n=this;return new f["default"](function(r,i){if(void 0===n._stompConnection)i(new Error("Invalid connection"));else{var o=n._streamChannelTopicFor(e,t),s=n._subscriptions[o];s.unsubscribe(o),delete n._subscriptions[o],r(!0)}})}},{key:"unsubscribeStream",value:function(e){var t=this;return new f["default"](function(n,r){if(void 0===t._stompConnection)r(new Error("Invalid connection"));else{var i=t._streamTopicFor(e),o=t._subscriptions[i];o.unsubscribe(i),delete t._subscriptions[i],n(!0)}})}},{key:"disconnect",value:function(){var e=this;return new f["default"](function(t,n){if(void 0===e._stompConnection)n(new Error("Invalid connection"));else{for(var r in e._subscriptions)r&&e._subscriptions[r].unsubscribe();e._subscriptions={},e._stompConnection.disconnect(function(){e._stompConnection=void 0,t(!0)})["catch"](function(e){n(e)})}})}},{key:"_attachStreamHook",value:function(e,t){var n=this;return t=(0,c["default"])({},t),new f["default"](function(t,r){var i=e.stream,o=e.deviceId,s=e.channel,a="boolean"!=typeof e.cache||e.cache,u=function(){},c=e.callback||u;void 0!==i||void 0!==s&&void 0!==o||r(new Error("Missing Stream or Device ID and Channel")),n.connect().then(function(e){var r=void 0,u=void 0;i?(n.liveStreamExists(i)||(console.error("Stream "+i+" does not exist"),t(!1)),a?r=n._cachedStreamTopicFor(i):(r=n._streamTopicFor(i),u=n.tempQueue(i,n._liveStreamSuffix))):(r=n._streamChannelTopicFor(o,s),u=n.tempQueue(o,s));var l={};u&&(l["x-queue-name"]=u);var f=function(e){c(n._parseContent(e.body),e.headers)},h=e.subscribe(r,f,l);n._subscriptions[r]=h,t(!0)})["catch"](function(e){r(e)})})}},{key:"_streamChannelTopicFor",value:function(e,t,n,r){return"/"+(n||this._exchangePrefix)+"/"+e+"."+t+"/"+(r||this._defaultPattern)}},{key:"_cachedStreamTopicFor",value:function(e,t){return"/"+(t||this._existingQueuePrefix)+"/"+this.liveStreamByName(e)+"."+this._liveStreamSuffix}},{key:"_streamTopicFor",value:function(e,t,n){return"/"+(t||this._exchangePrefix)+"/"+this.liveStreamByName(e)+"."+(this._liveStreamSuffix+"/"+(n||this._defaultPattern))}}]),t}(p["default"]);delete v.onReceive,delete v.publish,delete v._subcriptionFor,delete v._destinationFor,t["default"]=v},function(e,t,n,r,i){(function(e,o){function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&t._extend(r,n),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),l(r,e,r.depth)}function a(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,n,r){if(e.customInspect&&n&&T(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return w(i)||(i=l(e,i,r)),i}var o=f(e,n);if(o)return o;var s=Object.keys(n),a=c(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),S(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(T(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(k(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(C(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return h(n)}var y="",m=!1,b=["{","}"];if(g(n)&&(m=!0,b=["[","]"]),T(n)){var _=n.name?": "+n.name:"";y=" [Function"+_+"]"}if(k(n)&&(y=" "+RegExp.prototype.toString.call(n)),C(n)&&(y=" "+Date.prototype.toUTCString.call(n)),S(n)&&(y=" "+h(n)),0===s.length&&(!m||0==n.length))return b[0]+y+b[1];if(r<0)return k(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var E;return E=m?p(e,n,r,a,s):s.map(function(t){return d(e,n,r,a,t,m)}),e.seen.pop(),v(E,y,b)}function f(e,t){if(x(t))return e.stylize("undefined","undefined");if(w(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return _(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)A(t,String(s))?o.push(d(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))}),o}function d(e,t,n,r,i,o){var s,a,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),A(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=m(n)?l(e,u.value,null):l(e,u.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),x(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function v(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function g(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function m(e){return null===e}function b(e){return null==e}function _(e){return"number"==typeof e}function w(e){return"string"==typeof e}function E(e){return"symbol"==typeof e}function x(e){return void 0===e}function k(e){return I(e)&&"[object RegExp]"===U(e)}function I(e){return"object"==typeof e&&null!==e}function C(e){return I(e)&&"[object Date]"===U(e)}function S(e){return I(e)&&("[object Error]"===U(e)||e instanceof Error)}function T(e){return"function"==typeof e}function B(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function U(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}function j(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),L[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,o=String(e).replace(R,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),a=r[n];n<i;a=r[++n])o+=m(a)||!I(a)?" "+a:" "+s(a);return o},t.deprecate=function(n,r){function i(){if(!s){if(o.throwDeprecation)throw new Error(r);o.traceDeprecation?console.trace(r):console.error(r),s=!0}return n.apply(this,arguments)}if(x(e.process))return function(){return t.deprecate(n,r).apply(this,arguments)};if(o.noDeprecation===!0)return n;var s=!1;return i};var F,P={};t.debuglog=function(e){if(x(F)&&(F={NODE_ENV:"production"}.NODE_DEBUG||""),e=e.toUpperCase(),!P[e])if(new RegExp("\\b"+e+"\\b","i").test(F)){var n=o.pid;P[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else P[e]=function(){};return P[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=g,t.isBoolean=y,t.isNull=m,t.isNullOrUndefined=b,t.isNumber=_,t.isString=w,t.isSymbol=E,t.isUndefined=x,t.isRegExp=k,t.isObject=I,t.isDate=C,t.isError=S,t.isFunction=T,t.isPrimitive=B,t.isBuffer=n(r);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",j(),t.format.apply(t,arguments))},t.inherits=n(i),t._extend=function(e,t){if(!t||!I(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,function(){return this}(),n(52))},function(e,t,n,r,i,o,s){(function(t){function a(e,t){var r=n(o);e=e||{};var i=e.highWaterMark,s=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:s,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(j||(j=n(146).StringDecoder),this.decoder=new j(e.encoding),this.encoding=e.encoding)}function u(e){n(s);return this instanceof u?(this._readableState=new a(e,this),this.readable=!0,void U.call(this)):new u(e)}function c(e,t,n,r,i){var o=p(t,n);if(o)e.emit("error",o);else if(O.isNullOrUndefined(n))t.reading=!1,t.ended||d(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&v(e)),y(e,t);else i||(t.reading=!1);return l(t)}function l(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function f(e){if(e>=R)e=R;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function h(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||O.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=f(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function p(e,t){var n=null;return O.isBuffer(t)||O.isString(t)||O.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function d(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,v(e)}function v(e){var n=e._readableState;n.needReadable=!1,n.emittedReadable||(A("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?t.nextTick(function(){g(e)}):g(e))}function g(e){A("emit readable"),e.emit("readable"),E(e)}function y(e,n){n.readingMore||(n.readingMore=!0,t.nextTick(function(){m(e,n)}))}function m(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(A("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function b(e){return function(){var t=e._readableState;A("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&B.listenerCount(e,"data")&&(t.flowing=!0,E(e))}}function _(e,n){n.resumeScheduled||(n.resumeScheduled=!0,t.nextTick(function(){w(e,n)}))}function w(e,t){t.resumeScheduled=!1,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;if(A("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function x(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!e||e>=i)n=o?r.join(""):T.concat(r,i),r.length=0;else if(e<r[0].length){var a=r[0];n=a.slice(0,e),r[0]=a.slice(e)}else if(e===r[0].length)n=r.shift();else{n=o?"":new T(e);for(var u=0,c=0,l=r.length;c<l&&u<e;c++){var a=r[0],f=Math.min(e-u,a.length);o?n+=a.slice(0,f):a.copy(n,u,0,f),f<a.length?r[0]=a.slice(f):r.shift(),u+=f}}return n}function k(e){var n=e._readableState;if(n.length>0)throw new Error("endReadable called on non-empty stream");n.endEmitted||(n.ended=!0,t.nextTick(function(){n.endEmitted||0!==n.length||(n.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function I(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function C(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}e.exports=u;var S=n(r),T=n(3).Buffer;u.ReadableState=a;var B=n(138).EventEmitter;B.listenerCount||(B.listenerCount=function(e,t){return e.listeners(t).length});var U=n(137),O=n(142);O.inherits=n(135);var j,A=n(i);A=A&&A.debuglog?A.debuglog("stream"):function(){},O.inherits(u,U),u.prototype.push=function(e,t){var n=this._readableState;return O.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new T(e,t),t="")),c(this,n,e,t,!1)},u.prototype.unshift=function(e){var t=this._readableState;return c(this,t,e,"",!0)},u.prototype.setEncoding=function(e){return j||(j=n(146).StringDecoder),this._readableState.decoder=new j(e),this._readableState.encoding=e,this};var R=8388608;u.prototype.read=function(e){A("read",e);var t=this._readableState,n=e;if((!O.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return A("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?k(this):v(this),null;if(e=h(e,t),0===e&&t.ended)return 0===t.length&&k(this),null;var r=t.needReadable;A("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,A("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,A("reading or ended",r)),r&&(A("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=h(n,t));var i;return i=e>0?x(e,t):null,O.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&k(this),O.isNull(i)||this.emit("data",i),i},u.prototype._read=function(e){this.emit("error",new Error("not implemented"))},u.prototype.pipe=function(e,n){function r(e){A("onunpipe"),e===f&&o()}function i(){A("onend"),e.end()}function o(){A("cleanup"),e.removeListener("close",u),e.removeListener("finish",c),e.removeListener("drain",v),e.removeListener("error",a),e.removeListener("unpipe",r),f.removeListener("end",i),
f.removeListener("end",o),f.removeListener("data",s),!h.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function s(t){A("ondata");var n=e.write(t);!1===n&&(A("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,f.pause())}function a(t){A("onerror",t),l(),e.removeListener("error",a),0===B.listenerCount(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",c),l()}function c(){A("onfinish"),e.removeListener("close",u),l()}function l(){A("unpipe"),f.unpipe(e)}var f=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,A("pipe count=%d opts=%j",h.pipesCount,n);var p=(!n||n.end!==!1)&&e!==t.stdout&&e!==t.stderr,d=p?i:o;h.endEmitted?t.nextTick(d):f.once("end",d),e.on("unpipe",r);var v=b(f);return e.on("drain",v),f.on("data",s),e._events&&e._events.error?S(e._events.error)?e._events.error.unshift(a):e._events.error=[a,e._events.error]:e.on("error",a),e.once("close",u),e.once("finish",c),e.emit("pipe",f),h.flowing||(A("pipe resume"),f.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var i=C(t.pipes,e);return i===-1?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},u.prototype.on=function(e,n){var r=U.prototype.on.call(this,e,n);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&v(this,i);else{var o=this;t.nextTick(function(){A("readable nexttick read 0"),o.read(0)})}}return r},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var e=this._readableState;return e.flowing||(A("resume"),e.flowing=!0,e.reading||(A("resume read 0"),this.read(0)),_(this,e)),this},u.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(A("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(A("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)O.isFunction(e[i])&&O.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return I(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){A("wrapped _read",t),n&&(n=!1,e.resume())},r},u._fromList=x}).call(t,n(52))},function(e,t,n,r,i){(function(t){function o(e){return this instanceof o?(l.call(this,e),f.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",s)):new o(e)}function s(){this.allowHalfOpen||this._writableState.ended||t.nextTick(this.end.bind(this))}function a(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}e.exports=o;var u=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},c=n(142);c.inherits=n(135);var l=n(r),f=n(i);c.inherits(o,l),a(u(f.prototype),function(e){o.prototype[e]||(o.prototype[e]=f.prototype[e])})}).call(t,n(52))},function(e,t,n,r,i){(function(t){function o(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function s(e,t){var i=n(r);e=e||{};var o=e.highWaterMark,s=e.objectMode?16:16384;this.highWaterMark=o||0===o?o:s,this.objectMode=!!e.objectMode,t instanceof i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=e.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){v(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function a(e){var t=n(i);return this instanceof a||this instanceof t?(this._writableState=new s(e,this),this.writable=!0,void I.call(this)):new a(e)}function u(e,n,r){var i=new Error("write after end");e.emit("error",i),t.nextTick(function(){r(i)})}function c(e,n,r,i){var o=!0;if(!(k.isBuffer(r)||k.isString(r)||k.isNullOrUndefined(r)||n.objectMode)){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),t.nextTick(function(){i(s)}),o=!1}return o}function l(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&k.isString(t)&&(t=new x(t,n)),t}function f(e,t,n,r,i){n=l(t,n,r),k.isBuffer(n)&&(r="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new o(n,r,i)):h(e,t,!1,s,n,r,i),a}function h(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function p(e,n,r,i,o){r?t.nextTick(function(){n.pendingcb--,o(i)}):(n.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function d(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function v(e,n){var r=e._writableState,i=r.sync,o=r.writecb;if(d(r),n)p(e,r,i,n,o);else{var s=b(e,r);s||r.corked||r.bufferProcessing||!r.buffer.length||m(e,r),i?t.nextTick(function(){g(e,r,s,o)}):g(e,r,s,o)}}function g(e,t,n,r){n||y(e,t),t.pendingcb--,r(),w(e,t)}function y(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function m(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],r=0;r<t.buffer.length;r++)n.push(t.buffer[r].callback);t.pendingcb++,h(e,t,!0,t.length,t.buffer,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)}),t.buffer=[]}else{for(var r=0;r<t.buffer.length;r++){var i=t.buffer[r],o=i.chunk,s=i.encoding,a=i.callback,u=t.objectMode?1:o.length;if(h(e,t,!1,u,o,s,a),t.writing){r++;break}}r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}t.bufferProcessing=!1}function b(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function _(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function w(e,t){var n=b(e,t);return n&&(0===t.pendingcb?(_(e,t),t.finished=!0,e.emit("finish")):_(e,t)),n}function E(e,n,r){n.ending=!0,w(e,n),r&&(n.finished?t.nextTick(r):e.once("finish",r)),n.ended=!0}e.exports=a;var x=n(3).Buffer;a.WritableState=s;var k=n(142);k.inherits=n(135);var I=n(137);k.inherits(a,I),a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},a.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return k.isFunction(t)&&(n=t,t=null),k.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),k.isFunction(n)||(n=function(){}),r.ended?u(this,r,n):c(this,r,e,n)&&(r.pendingcb++,i=f(this,r,e,t,n)),i},a.prototype.cork=function(){var e=this._writableState;e.corked++},a.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||m(this,e))},a.prototype._write=function(e,t,n){n(new Error("not implemented"))},a.prototype._writev=null,a.prototype.end=function(e,t,n){var r=this._writableState;k.isFunction(e)?(n=e,e=null,t=null):k.isFunction(t)&&(n=t,t=null),k.isNullOrUndefined(e)||this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||E(this,r,n)}}).call(t,n(52))},function(e,t,n,r){function i(e,t){this.afterTransform=function(e,n){return o(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function o(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,c.isNullOrUndefined(n)||e.push(n),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);u.call(this,e),this._transformState=new i(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){c.isFunction(this._flush)?this._flush(function(e){a(t,e)}):a(t)})}function a(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}e.exports=s;var u=n(r),c=n(142);c.inherits=n(135),c.inherits(s,u),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,n){throw new Error("not implemented")},s.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;c.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},function(e,t,n,r){function i(e){return this instanceof i?void o.call(this,e):new i(e)}e.exports=i;var o=n(r),s=n(142);s.inherits=n(135),s.inherits(i,o),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n,r){e.exports=n(r)},function(e,t,n,r){e.exports=n(r)}]));