!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.spacebunny=factory():root.spacebunny=factory()}(this,(function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=135)}([function(module,exports){module.exports=require("util")},function(module,exports,__webpack_require__){"use strict";var es5=__webpack_require__(16),canEvaluate="undefined"==typeof navigator,errorObj={e:{}},tryCatchTarget,globalObject="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null;function tryCatcher(){try{var target=tryCatchTarget;return tryCatchTarget=null,target.apply(this,arguments)}catch(e){return errorObj.e=e,errorObj}}function tryCatch(fn){return tryCatchTarget=fn,tryCatcher}var inherits=function(Child,Parent){var hasProp={}.hasOwnProperty;function T(){for(var propertyName in this.constructor=Child,this.constructor$=Parent,Parent.prototype)hasProp.call(Parent.prototype,propertyName)&&"$"!==propertyName.charAt(propertyName.length-1)&&(this[propertyName+"$"]=Parent.prototype[propertyName])}return T.prototype=Parent.prototype,Child.prototype=new T,Child.prototype};function isPrimitive(val){return null==val||!0===val||!1===val||"string"==typeof val||"number"==typeof val}function isObject(value){return"function"==typeof value||"object"==typeof value&&null!==value}function maybeWrapAsError(maybeError){return isPrimitive(maybeError)?new Error(safeToString(maybeError)):maybeError}function withAppended(target,appendee){var i,len=target.length,ret=new Array(len+1);for(i=0;i<len;++i)ret[i]=target[i];return ret[i]=appendee,ret}function getDataPropertyOrDefault(obj,key,defaultValue){if(!es5.isES5)return{}.hasOwnProperty.call(obj,key)?obj[key]:void 0;var desc=Object.getOwnPropertyDescriptor(obj,key);return null!=desc?null==desc.get&&null==desc.set?desc.value:defaultValue:void 0}function notEnumerableProp(obj,name,value){if(isPrimitive(obj))return obj;var descriptor={value:value,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(obj,name,descriptor),obj}function thrower(r){throw r}var inheritedDataKeys=function(){var excludedPrototypes=[Array.prototype,Object.prototype,Function.prototype],isExcludedProto=function(val){for(var i=0;i<excludedPrototypes.length;++i)if(excludedPrototypes[i]===val)return!0;return!1};if(es5.isES5){var getKeys=Object.getOwnPropertyNames;return function(obj){for(var ret=[],visitedKeys=Object.create(null);null!=obj&&!isExcludedProto(obj);){var keys;try{keys=getKeys(obj)}catch(e){return ret}for(var i=0;i<keys.length;++i){var key=keys[i];if(!visitedKeys[key]){visitedKeys[key]=!0;var desc=Object.getOwnPropertyDescriptor(obj,key);null!=desc&&null==desc.get&&null==desc.set&&ret.push(key)}}obj=es5.getPrototypeOf(obj)}return ret}}var hasProp={}.hasOwnProperty;return function(obj){if(isExcludedProto(obj))return[];var ret=[];enumeration:for(var key in obj)if(hasProp.call(obj,key))ret.push(key);else{for(var i=0;i<excludedPrototypes.length;++i)if(hasProp.call(excludedPrototypes[i],key))continue enumeration;ret.push(key)}return ret}}(),thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(fn){try{if("function"==typeof fn){var keys=es5.names(fn.prototype),hasMethods=es5.isES5&&keys.length>1,hasMethodsOtherThanConstructor=keys.length>0&&!(1===keys.length&&"constructor"===keys[0]),hasThisAssignmentAndStaticMethods=thisAssignmentPattern.test(fn+"")&&es5.names(fn).length>0;if(hasMethods||hasMethodsOtherThanConstructor||hasThisAssignmentAndStaticMethods)return!0}return!1}catch(e){return!1}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;var receiver=new FakeConstructor;function ic(){return typeof receiver.foo}return ic(),ic(),obj}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(str){return rident.test(str)}function filledRange(count,prefix,suffix){for(var ret=new Array(count),i=0;i<count;++i)ret[i]=prefix+i+suffix;return ret}function safeToString(obj){try{return obj+""}catch(e){return"[no string representation]"}}function isError(obj){return obj instanceof Error||null!==obj&&"object"==typeof obj&&"string"==typeof obj.message&&"string"==typeof obj.name}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",!0)}catch(ignore){}}function originatesFromRejection(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function canAttachTrace(obj){return isError(obj)&&es5.propertyIsWritable(obj,"stack")}var ensureErrorObject="stack"in new Error?function(value){return canAttachTrace(value)?value:new Error(safeToString(value))}:function(value){if(canAttachTrace(value))return value;try{throw new Error(safeToString(value))}catch(err){return err}};function classString(obj){return{}.toString.call(obj)}function copyDescriptors(from,to,filter){for(var keys=es5.names(from),i=0;i<keys.length;++i){var key=keys[i];if(filter(key))try{es5.defineProperty(to,key,es5.getDescriptor(from,key))}catch(ignore){}}}var asArray=function(v){return es5.isArray(v)?v:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var ArrayFrom="function"==typeof Array.from?function(v){return Array.from(v)}:function(v){for(var itResult,ret=[],it=v[Symbol.iterator]();!(itResult=it.next()).done;)ret.push(itResult.value);return ret};asArray=function(v){return es5.isArray(v)?v:null!=v&&"function"==typeof v[Symbol.iterator]?ArrayFrom(v):null}}var isNode="undefined"!=typeof process&&"[object process]"===classString(process).toLowerCase(),hasEnvVariables="undefined"!=typeof process&&void 0!==process.env,reflectHandler;function env(key){return hasEnvVariables?process.env[key]:void 0}function getNativePromise(){if("function"==typeof Promise)try{if("[object Promise]"===classString(new Promise((function(){}))))return Promise}catch(e){}}function contextBind(ctx,cb){if(null===ctx||"function"!=typeof cb||cb===reflectHandler)return cb;null!==ctx.domain&&(cb=ctx.domain.bind(cb));var async=ctx.async;if(null!==async){var old=cb;cb=function(){for(var $_len=arguments.length+2,args=new Array($_len),$_i=2;$_i<$_len;++$_i)args[$_i]=arguments[$_i-2];return args[0]=old,args[1]=this,async.runInAsyncScope.apply(async,args)}}return cb}var ret={setReflectHandler:function(fn){reflectHandler=fn},isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,asArray:asArray,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,isError:isError,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,isNode:isNode,hasEnvVariables:hasEnvVariables,env:env,global:globalObject,getNativePromise:getNativePromise,contextBind:contextBind},version;ret.isRecentNode=ret.isNode&&(process.versions&&process.versions.node?version=process.versions.node.split(".").map(Number):process.version&&(version=process.version.split(".").map(Number)),0===version[0]&&version[1]>10||version[0]>0),ret.nodeSupportsAsyncResource=ret.isNode&&function(){var supportsAsync=!1;try{supportsAsync="function"==typeof __webpack_require__(78).AsyncResource.prototype.runInAsyncScope}catch(e){supportsAsync=!1}return supportsAsync}(),ret.isNode&&ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},function(module,exports,__webpack_require__){try{var util=__webpack_require__(0);if("function"!=typeof util.inherits)throw"";module.exports=util.inherits}catch(e){module.exports=__webpack_require__(152)}},function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(82),toString=Object.prototype.toString;function isArray(val){return"[object Array]"===toString.call(val)}function isUndefined(val){return void 0===val}function isObject(val){return null!==val&&"object"==typeof val}function isFunction(val){return"[object Function]"===toString.call(val)}function forEach(obj,fn){if(null!=obj)if("object"!=typeof obj&&(obj=[obj]),isArray(obj))for(var i=0,l=obj.length;i<l;i++)fn.call(null,obj[i],i,obj);else for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&fn.call(null,obj[key],key,obj)}module.exports={isArray:isArray,isArrayBuffer:function(val){return"[object ArrayBuffer]"===toString.call(val)},isBuffer:function(val){return null!==val&&!isUndefined(val)&&null!==val.constructor&&!isUndefined(val.constructor)&&"function"==typeof val.constructor.isBuffer&&val.constructor.isBuffer(val)},isFormData:function(val){return"undefined"!=typeof FormData&&val instanceof FormData},isArrayBufferView:function(val){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(val):val&&val.buffer&&val.buffer instanceof ArrayBuffer},isString:function(val){return"string"==typeof val},isNumber:function(val){return"number"==typeof val},isObject:isObject,isUndefined:isUndefined,isDate:function(val){return"[object Date]"===toString.call(val)},isFile:function(val){return"[object File]"===toString.call(val)},isBlob:function(val){return"[object Blob]"===toString.call(val)},isFunction:isFunction,isStream:function(val){return isObject(val)&&isFunction(val.pipe)},isURLSearchParams:function(val){return"undefined"!=typeof URLSearchParams&&val instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:forEach,merge:function merge(){var result={};function assignValue(val,key){"object"==typeof result[key]&&"object"==typeof val?result[key]=merge(result[key],val):result[key]=val}for(var i=0,l=arguments.length;i<l;i++)forEach(arguments[i],assignValue);return result},deepMerge:function deepMerge(){var result={};function assignValue(val,key){"object"==typeof result[key]&&"object"==typeof val?result[key]=deepMerge(result[key],val):result[key]="object"==typeof val?deepMerge({},val):val}for(var i=0,l=arguments.length;i<l;i++)forEach(arguments[i],assignValue);return result},extend:function(a,b,thisArg){return forEach(b,(function(val,key){a[key]=thisArg&&"function"==typeof val?bind(val,thisArg):val})),a},trim:function(str){return str.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(module,exports){module.exports=require("fs")},function(module,exports){module.exports=require("events")},function(module,exports){module.exports=require("path")},function(module,exports,__webpack_require__){var Stream=__webpack_require__(15);"disable"===process.env.READABLE_STREAM&&Stream?(module.exports=Stream,(exports=module.exports=Stream.Readable).Readable=Stream.Readable,exports.Writable=Stream.Writable,exports.Duplex=Stream.Duplex,exports.Transform=Stream.Transform,exports.PassThrough=Stream.PassThrough,exports.Stream=Stream):((exports=module.exports=__webpack_require__(95)).Stream=Stream||exports,exports.Readable=exports,exports.Writable=__webpack_require__(98),exports.Duplex=__webpack_require__(22),exports.Transform=__webpack_require__(100),exports.PassThrough=__webpack_require__(226))},function(module,exports){function objectToString(o){return Object.prototype.toString.call(o)}exports.isArray=function(arg){return Array.isArray?Array.isArray(arg):"[object Array]"===objectToString(arg)},exports.isBoolean=function(arg){return"boolean"==typeof arg},exports.isNull=function(arg){return null===arg},exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=function(arg){return"number"==typeof arg},exports.isString=function(arg){return"string"==typeof arg},exports.isSymbol=function(arg){return"symbol"==typeof arg},exports.isUndefined=function(arg){return void 0===arg},exports.isRegExp=function(re){return"[object RegExp]"===objectToString(re)},exports.isObject=function(arg){return"object"==typeof arg&&null!==arg},exports.isDate=function(d){return"[object Date]"===objectToString(d)},exports.isError=function(e){return"[object Error]"===objectToString(e)||e instanceof Error},exports.isFunction=function(arg){return"function"==typeof arg},exports.isPrimitive=function(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=Buffer.isBuffer},function(module,exports,__webpack_require__){"use strict";var isValue=__webpack_require__(24),isPlainFunction=__webpack_require__(105),assign=__webpack_require__(58),normalizeOpts=__webpack_require__(106),contains=__webpack_require__(107);(module.exports=function(dscr,value){var c,e,w,options,desc;return arguments.length<2||"string"!=typeof dscr?(options=value,value=dscr,dscr=null):options=arguments[2],isValue(dscr)?(c=contains.call(dscr,"c"),e=contains.call(dscr,"e"),w=contains.call(dscr,"w")):(c=w=!0,e=!1),desc={value:value,configurable:c,enumerable:e,writable:w},options?assign(normalizeOpts(options),desc):desc}).gs=function(dscr,get,set){var c,e,options,desc;return"string"!=typeof dscr?(options=set,set=get,get=dscr,dscr=null):options=arguments[3],isValue(get)?isPlainFunction(get)?isValue(set)?isPlainFunction(set)||(options=set,set=void 0):set=void 0:(options=get,get=set=void 0):get=void 0,isValue(dscr)?(c=contains.call(dscr,"c"),e=contains.call(dscr,"e")):(c=!0,e=!1),desc={get:get,set:set,configurable:c,enumerable:e},options?assign(normalizeOpts(options),desc):desc}},function(module,exports,__webpack_require__){"use strict";var isValue=__webpack_require__(23);module.exports=function(value){if(!isValue(value))throw new TypeError("Cannot use null or undefined");return value}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__extends",(function(){return __extends})),__webpack_require__.d(__webpack_exports__,"__assign",(function(){return __assign})),__webpack_require__.d(__webpack_exports__,"__rest",(function(){return __rest})),__webpack_require__.d(__webpack_exports__,"__decorate",(function(){return __decorate})),__webpack_require__.d(__webpack_exports__,"__param",(function(){return __param})),__webpack_require__.d(__webpack_exports__,"__metadata",(function(){return __metadata})),__webpack_require__.d(__webpack_exports__,"__awaiter",(function(){return __awaiter})),__webpack_require__.d(__webpack_exports__,"__generator",(function(){return __generator})),__webpack_require__.d(__webpack_exports__,"__exportStar",(function(){return __exportStar})),__webpack_require__.d(__webpack_exports__,"__values",(function(){return __values})),__webpack_require__.d(__webpack_exports__,"__read",(function(){return __read})),__webpack_require__.d(__webpack_exports__,"__spread",(function(){return __spread})),__webpack_require__.d(__webpack_exports__,"__spreadArrays",(function(){return __spreadArrays})),__webpack_require__.d(__webpack_exports__,"__await",(function(){return __await})),__webpack_require__.d(__webpack_exports__,"__asyncGenerator",(function(){return __asyncGenerator})),__webpack_require__.d(__webpack_exports__,"__asyncDelegator",(function(){return __asyncDelegator})),__webpack_require__.d(__webpack_exports__,"__asyncValues",(function(){return __asyncValues})),__webpack_require__.d(__webpack_exports__,"__makeTemplateObject",(function(){return __makeTemplateObject})),__webpack_require__.d(__webpack_exports__,"__importStar",(function(){return __importStar})),__webpack_require__.d(__webpack_exports__,"__importDefault",(function(){return __importDefault})),__webpack_require__.d(__webpack_exports__,"__classPrivateFieldGet",(function(){return __classPrivateFieldGet})),__webpack_require__.d(__webpack_exports__,"__classPrivateFieldSet",(function(){return __classPrivateFieldSet}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function __decorate(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}function __exportStar(m,exports){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error:error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){g[n]&&(i[n]=function(v){return new Promise((function(a,b){q.push([n,v,a,b])>1||resume(n,v)}))})}function resume(n,v){try{(r=g[n](v)).value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}catch(e){settle(q[0][3],e)}var r}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",(function(e){throw e})),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:"return"===n}:f?f(v):v}:f}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o=__values(o),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise((function(resolve,reject){(function(resolve,reject,d,v){Promise.resolve(v).then((function(v){resolve({value:v,done:d})}),reject)})(resolve,reject,(v=o[n](v)).done,v.value)}))}}}function __makeTemplateObject(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}function __classPrivateFieldGet(receiver,privateMap){if(!privateMap.has(receiver))throw new TypeError("attempted to get private field on non-instance");return privateMap.get(receiver)}function __classPrivateFieldSet(receiver,privateMap,value){if(!privateMap.has(receiver))throw new TypeError("attempted to set private field on non-instance");return privateMap.set(receiver,value),value}},function(module,exports){module.exports=require("buffer")},function(module,exports,__webpack_require__){"use strict";var _TypeError,_RangeError,es5=__webpack_require__(16),Objectfreeze=es5.freeze,util=__webpack_require__(1),inherits=util.inherits,notEnumerableProp=util.notEnumerableProp;function subError(nameProperty,defaultMessage){function SubError(message){if(!(this instanceof SubError))return new SubError(message);notEnumerableProp(this,"message","string"==typeof message?message:defaultMessage),notEnumerableProp(this,"name",nameProperty),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return inherits(SubError,Error),SubError}var Warning=subError("Warning","warning"),CancellationError=subError("CancellationError","cancellation error"),TimeoutError=subError("TimeoutError","timeout error"),AggregateError=subError("AggregateError","aggregate error");try{_TypeError=TypeError,_RangeError=RangeError}catch(e){_TypeError=subError("TypeError","type error"),_RangeError=subError("RangeError","range error")}for(var methods="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),i=0;i<methods.length;++i)"function"==typeof Array.prototype[methods[i]]&&(AggregateError.prototype[methods[i]]=Array.prototype[methods[i]]);es5.defineProperty(AggregateError.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),AggregateError.prototype.isOperational=!0;var level=0;function OperationalError(message){if(!(this instanceof OperationalError))return new OperationalError(message);notEnumerableProp(this,"name","OperationalError"),notEnumerableProp(this,"message",message),this.cause=message,this.isOperational=!0,message instanceof Error?(notEnumerableProp(this,"message",message.message),notEnumerableProp(this,"stack",message.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}AggregateError.prototype.toString=function(){var indent=Array(4*level+1).join(" "),ret="\n"+indent+"AggregateError of:\n";level++,indent=Array(4*level+1).join(" ");for(var i=0;i<this.length;++i){for(var str=this[i]===this?"[Circular AggregateError]":this[i]+"",lines=str.split("\n"),j=0;j<lines.length;++j)lines[j]=indent+lines[j];ret+=(str=lines.join("\n"))+"\n"}return level--,ret},inherits(OperationalError,Error);var errorTypes=Error.__BluebirdErrorTypes__;errorTypes||(errorTypes=Objectfreeze({CancellationError:CancellationError,TimeoutError:TimeoutError,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:AggregateError}),es5.defineProperty(Error,"__BluebirdErrorTypes__",{value:errorTypes,writable:!1,enumerable:!1,configurable:!1})),module.exports={Error:Error,TypeError:_TypeError,RangeError:_RangeError,CancellationError:errorTypes.CancellationError,OperationalError:errorTypes.OperationalError,TimeoutError:errorTypes.TimeoutError,AggregateError:errorTypes.AggregateError,Warning:Warning}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(251)()?__webpack_require__(39).Symbol:__webpack_require__(254)},function(module,exports){module.exports=require("stream")},function(module,exports){var isES5=function(){"use strict";return void 0===this}();if(isES5)module.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(obj,prop){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);return!(descriptor&&!descriptor.writable&&!descriptor.set)}};else{var has={}.hasOwnProperty,str={}.toString,proto={}.constructor.prototype,ObjectKeys=function(o){var ret=[];for(var key in o)has.call(o,key)&&ret.push(key);return ret};module.exports={isArray:function(obj){try{return"[object Array]"===str.call(obj)}catch(e){return!1}},keys:ObjectKeys,names:ObjectKeys,defineProperty:function(o,key,desc){return o[key]=desc.value,o},getDescriptor:function(o,key){return{value:o[key]}},freeze:function(obj){return obj},getPrototypeOf:function(obj){try{return Object(obj).constructor.prototype}catch(e){return proto}},isES5:isES5,propertyIsWritable:function(){return!0}}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(fn){if("function"!=typeof fn)throw new TypeError(fn+" is not a function");return fn}},function(module,exports,__webpack_require__){module.exports=Duplex;var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys},util=__webpack_require__(8);util.inherits=__webpack_require__(2);var Readable=__webpack_require__(153),Writable=__webpack_require__(155);function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),options&&!1===options.readable&&(this.readable=!1),options&&!1===options.writable&&(this.writable=!1),this.allowHalfOpen=!0,options&&!1===options.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||process.nextTick(this.end.bind(this))}util.inherits(Duplex,Readable),function(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}(objectKeys(Writable.prototype),(function(method){Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}))},function(module,exports,__webpack_require__){"use strict";var defs=__webpack_require__(27),format=__webpack_require__(0).format,HEARTBEAT=(__webpack_require__(0).inherits,__webpack_require__(69).HEARTBEAT);module.exports.closeMessage=function(close){var code=close.fields.replyCode;return format('%d (%s) with message "%s"',code,defs.constant_strs[code],close.fields.replyText)},module.exports.methodName=function(id){return defs.info(id).name},module.exports.inspect=function(frame,showFields){if(frame===HEARTBEAT)return"<Heartbeat>";if(frame.id){var info=defs.info(frame.id);return format("<%s channel:%d%s>",info.name,frame.channel,showFields?" "+JSON.stringify(frame.fields,void 0,2):"")}return format("<Content channel:%d size:%d>",frame.channel,frame.size)}},function(module,exports){module.exports=require("url")},function(module,exports){module.exports=function(){for(var target={},i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source)hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var hasOwnProperty=Object.prototype.hasOwnProperty},function(module,exports,__webpack_require__){"use strict";var pna=__webpack_require__(33),objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var util=Object.create(__webpack_require__(8));util.inherits=__webpack_require__(2);var Readable=__webpack_require__(95),Writable=__webpack_require__(98);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),options&&!1===options.readable&&(this.readable=!1),options&&!1===options.writable&&(this.writable=!1),this.allowHalfOpen=!0,options&&!1===options.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||pna.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}}),Duplex.prototype._destroy=function(err,cb){this.push(null),this.end(),pna.nextTick(cb,err)}},function(module,exports,__webpack_require__){"use strict";var _undefined=__webpack_require__(230)();module.exports=function(val){return val!==_undefined&&null!==val}},function(module,exports,__webpack_require__){"use strict";module.exports=function(value){return null!=value}},function(module,exports,__webpack_require__){var buffer=__webpack_require__(12),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(Buffer.prototype),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},function(module,exports,__webpack_require__){var buffer=__webpack_require__(12),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},function(module,exports,__webpack_require__){"use strict";
/** @preserve This file is generated by the script
 * ../bin/generate-defs.js, which is not in general included in a
 * distribution, but is available in the source repository e.g. at
 * https://github.com/squaremo/amqp.node/
 */var Buffer=__webpack_require__(28).Buffer,codec=__webpack_require__(68),ints=__webpack_require__(29),encodeTable=codec.encodeTable,decodeFields=codec.decodeFields,SCRATCH=Buffer.alloc(65536);Object.freeze({});module.exports.constants={FRAME_METHOD:1,FRAME_HEADER:2,FRAME_BODY:3,FRAME_HEARTBEAT:8,FRAME_MIN_SIZE:4096,FRAME_END:206,REPLY_SUCCESS:200,CONTENT_TOO_LARGE:311,NO_ROUTE:312,NO_CONSUMERS:313,ACCESS_REFUSED:403,NOT_FOUND:404,RESOURCE_LOCKED:405,PRECONDITION_FAILED:406,CONNECTION_FORCED:320,INVALID_PATH:402,FRAME_ERROR:501,SYNTAX_ERROR:502,COMMAND_INVALID:503,CHANNEL_ERROR:504,UNEXPECTED_FRAME:505,RESOURCE_ERROR:506,NOT_ALLOWED:530,NOT_IMPLEMENTED:540,INTERNAL_ERROR:541},module.exports.constant_strs={1:"FRAME-METHOD",2:"FRAME-HEADER",3:"FRAME-BODY",8:"FRAME-HEARTBEAT",200:"REPLY-SUCCESS",206:"FRAME-END",311:"CONTENT-TOO-LARGE",312:"NO-ROUTE",313:"NO-CONSUMERS",320:"CONNECTION-FORCED",402:"INVALID-PATH",403:"ACCESS-REFUSED",404:"NOT-FOUND",405:"RESOURCE-LOCKED",406:"PRECONDITION-FAILED",501:"FRAME-ERROR",502:"SYNTAX-ERROR",503:"COMMAND-INVALID",504:"CHANNEL-ERROR",505:"UNEXPECTED-FRAME",506:"RESOURCE-ERROR",530:"NOT-ALLOWED",540:"NOT-IMPLEMENTED",541:"INTERNAL-ERROR",4096:"FRAME-MIN-SIZE"},module.exports.FRAME_OVERHEAD=8,module.exports.decode=function(id,buf){switch(id){case 655370:return fields={versionMajor:void 0,versionMinor:void 0,serverProperties:void 0,mechanisms:void 0,locales:void 0},val=(buffer=buf)[offset=0],offset++,fields.versionMajor=val,val=buffer[offset],offset++,fields.versionMinor=val,len=buffer.readUInt32BE(offset),offset+=4,val=decodeFields(buffer.slice(offset,offset+len)),offset+=len,fields.serverProperties=val,len=buffer.readUInt32BE(offset),offset+=4,val=buffer.slice(offset,offset+len),offset+=len,fields.mechanisms=val,len=buffer.readUInt32BE(offset),offset+=4,val=buffer.slice(offset,offset+len),offset+=len,fields.locales=val,fields;case 655371:return function(buffer){var val,len,offset=0,fields={clientProperties:void 0,mechanism:void 0,response:void 0,locale:void 0};return len=buffer.readUInt32BE(offset),offset+=4,val=decodeFields(buffer.slice(offset,offset+len)),offset+=len,fields.clientProperties=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.mechanism=val,len=buffer.readUInt32BE(offset),offset+=4,val=buffer.slice(offset,offset+len),offset+=len,fields.response=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.locale=val,fields}(buf);case 655380:return function(buffer){var val,len,offset=0,fields={challenge:void 0};return len=buffer.readUInt32BE(offset),offset+=4,val=buffer.slice(offset,offset+len),offset+=len,fields.challenge=val,fields}(buf);case 655381:return function(buffer){var val,len,offset=0,fields={response:void 0};return len=buffer.readUInt32BE(offset),offset+=4,val=buffer.slice(offset,offset+len),offset+=len,fields.response=val,fields}(buf);case 655390:return function(buffer){var val,offset=0,fields={channelMax:void 0,frameMax:void 0,heartbeat:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.channelMax=val,val=buffer.readUInt32BE(offset),offset+=4,fields.frameMax=val,val=buffer.readUInt16BE(offset),offset+=2,fields.heartbeat=val,fields}(buf);case 655391:return function(buffer){var val,offset=0,fields={channelMax:void 0,frameMax:void 0,heartbeat:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.channelMax=val,val=buffer.readUInt32BE(offset),offset+=4,fields.frameMax=val,val=buffer.readUInt16BE(offset),offset+=2,fields.heartbeat=val,fields}(buf);case 655400:return function(buffer){var val,len,offset=0,fields={virtualHost:void 0,capabilities:void 0,insist:void 0};return len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.virtualHost=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.capabilities=val,val=!!(1&buffer[offset]),fields.insist=val,fields}(buf);case 655401:return function(buffer){var val,len,offset=0,fields={knownHosts:void 0};return len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.knownHosts=val,fields}(buf);case 655410:return function(buffer){var val,len,offset=0,fields={replyCode:void 0,replyText:void 0,classId:void 0,methodId:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.replyCode=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.replyText=val,val=buffer.readUInt16BE(offset),offset+=2,fields.classId=val,val=buffer.readUInt16BE(offset),offset+=2,fields.methodId=val,fields}(buf);case 655411:return{};case 655420:return function(buffer){var val,len,offset=0,fields={reason:void 0};return len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.reason=val,fields}(buf);case 655421:return{};case 1310730:return function(buffer){var val,len,offset=0,fields={outOfBand:void 0};return len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.outOfBand=val,fields}(buf);case 1310731:return function(buffer){var val,len,offset=0,fields={channelId:void 0};return len=buffer.readUInt32BE(offset),offset+=4,val=buffer.slice(offset,offset+len),offset+=len,fields.channelId=val,fields}(buf);case 1310740:return function(buffer){var val,fields={active:void 0};return val=!!(1&buffer[0]),fields.active=val,fields}(buf);case 1310741:return function(buffer){var val,fields={active:void 0};return val=!!(1&buffer[0]),fields.active=val,fields}(buf);case 1310760:return function(buffer){var val,len,offset=0,fields={replyCode:void 0,replyText:void 0,classId:void 0,methodId:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.replyCode=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.replyText=val,val=buffer.readUInt16BE(offset),offset+=2,fields.classId=val,val=buffer.readUInt16BE(offset),offset+=2,fields.methodId=val,fields}(buf);case 1310761:return{};case 1966090:return function(buffer){var val,len,offset=0,fields={realm:void 0,exclusive:void 0,passive:void 0,active:void 0,write:void 0,read:void 0};return len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.realm=val,val=!!(1&buffer[offset]),fields.exclusive=val,val=!!(2&buffer[offset]),fields.passive=val,val=!!(4&buffer[offset]),fields.active=val,val=!!(8&buffer[offset]),fields.write=val,val=!!(16&buffer[offset]),fields.read=val,fields}(buf);case 1966091:return function(buffer){var val,offset=0,fields={ticket:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.ticket=val,fields}(buf);case 2621450:return function(buffer){var val,len,offset=0,fields={ticket:void 0,exchange:void 0,type:void 0,passive:void 0,durable:void 0,autoDelete:void 0,internal:void 0,nowait:void 0,arguments:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.ticket=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.exchange=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.type=val,val=!!(1&buffer[offset]),fields.passive=val,val=!!(2&buffer[offset]),fields.durable=val,val=!!(4&buffer[offset]),fields.autoDelete=val,val=!!(8&buffer[offset]),fields.internal=val,val=!!(16&buffer[offset]),fields.nowait=val,offset++,len=buffer.readUInt32BE(offset),offset+=4,val=decodeFields(buffer.slice(offset,offset+len)),offset+=len,fields.arguments=val,fields}(buf);case 2621451:return{};case 2621460:return function(buffer){var val,len,offset=0,fields={ticket:void 0,exchange:void 0,ifUnused:void 0,nowait:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.ticket=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.exchange=val,val=!!(1&buffer[offset]),fields.ifUnused=val,val=!!(2&buffer[offset]),fields.nowait=val,fields}(buf);case 2621461:return{};case 2621470:return function(buffer){var val,len,offset=0,fields={ticket:void 0,destination:void 0,source:void 0,routingKey:void 0,nowait:void 0,arguments:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.ticket=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.destination=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.source=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.routingKey=val,val=!!(1&buffer[offset]),fields.nowait=val,offset++,len=buffer.readUInt32BE(offset),offset+=4,val=decodeFields(buffer.slice(offset,offset+len)),offset+=len,fields.arguments=val,fields}(buf);case 2621471:return{};case 2621480:return function(buffer){var val,len,offset=0,fields={ticket:void 0,destination:void 0,source:void 0,routingKey:void 0,nowait:void 0,arguments:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.ticket=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.destination=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.source=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.routingKey=val,val=!!(1&buffer[offset]),fields.nowait=val,offset++,len=buffer.readUInt32BE(offset),offset+=4,val=decodeFields(buffer.slice(offset,offset+len)),offset+=len,fields.arguments=val,fields}(buf);case 2621491:return{};case 3276810:return function(buffer){var val,len,offset=0,fields={ticket:void 0,queue:void 0,passive:void 0,durable:void 0,exclusive:void 0,autoDelete:void 0,nowait:void 0,arguments:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.ticket=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.queue=val,val=!!(1&buffer[offset]),fields.passive=val,val=!!(2&buffer[offset]),fields.durable=val,val=!!(4&buffer[offset]),fields.exclusive=val,val=!!(8&buffer[offset]),fields.autoDelete=val,val=!!(16&buffer[offset]),fields.nowait=val,offset++,len=buffer.readUInt32BE(offset),offset+=4,val=decodeFields(buffer.slice(offset,offset+len)),offset+=len,fields.arguments=val,fields}(buf);case 3276811:return function(buffer){var val,len,offset=0,fields={queue:void 0,messageCount:void 0,consumerCount:void 0};return len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.queue=val,val=buffer.readUInt32BE(offset),offset+=4,fields.messageCount=val,val=buffer.readUInt32BE(offset),offset+=4,fields.consumerCount=val,fields}(buf);case 3276820:return function(buffer){var val,len,offset=0,fields={ticket:void 0,queue:void 0,exchange:void 0,routingKey:void 0,nowait:void 0,arguments:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.ticket=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.queue=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.exchange=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.routingKey=val,val=!!(1&buffer[offset]),fields.nowait=val,offset++,len=buffer.readUInt32BE(offset),offset+=4,val=decodeFields(buffer.slice(offset,offset+len)),offset+=len,fields.arguments=val,fields}(buf);case 3276821:return{};case 3276830:return function(buffer){var val,len,offset=0,fields={ticket:void 0,queue:void 0,nowait:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.ticket=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.queue=val,val=!!(1&buffer[offset]),fields.nowait=val,fields}(buf);case 3276831:return function(buffer){var val,offset=0,fields={messageCount:void 0};return val=buffer.readUInt32BE(offset),offset+=4,fields.messageCount=val,fields}(buf);case 3276840:return function(buffer){var val,len,offset=0,fields={ticket:void 0,queue:void 0,ifUnused:void 0,ifEmpty:void 0,nowait:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.ticket=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.queue=val,val=!!(1&buffer[offset]),fields.ifUnused=val,val=!!(2&buffer[offset]),fields.ifEmpty=val,val=!!(4&buffer[offset]),fields.nowait=val,fields}(buf);case 3276841:return function(buffer){var val,offset=0,fields={messageCount:void 0};return val=buffer.readUInt32BE(offset),offset+=4,fields.messageCount=val,fields}(buf);case 3276850:return function(buffer){var val,len,offset=0,fields={ticket:void 0,queue:void 0,exchange:void 0,routingKey:void 0,arguments:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.ticket=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.queue=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.exchange=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.routingKey=val,len=buffer.readUInt32BE(offset),offset+=4,val=decodeFields(buffer.slice(offset,offset+len)),offset+=len,fields.arguments=val,fields}(buf);case 3276851:return{};case 3932170:return function(buffer){var val,offset=0,fields={prefetchSize:void 0,prefetchCount:void 0,global:void 0};return val=buffer.readUInt32BE(offset),offset+=4,fields.prefetchSize=val,val=buffer.readUInt16BE(offset),offset+=2,fields.prefetchCount=val,val=!!(1&buffer[offset]),fields.global=val,fields}(buf);case 3932171:return{};case 3932180:return function(buffer){var val,len,offset=0,fields={ticket:void 0,queue:void 0,consumerTag:void 0,noLocal:void 0,noAck:void 0,exclusive:void 0,nowait:void 0,arguments:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.ticket=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.queue=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.consumerTag=val,val=!!(1&buffer[offset]),fields.noLocal=val,val=!!(2&buffer[offset]),fields.noAck=val,val=!!(4&buffer[offset]),fields.exclusive=val,val=!!(8&buffer[offset]),fields.nowait=val,offset++,len=buffer.readUInt32BE(offset),offset+=4,val=decodeFields(buffer.slice(offset,offset+len)),offset+=len,fields.arguments=val,fields}(buf);case 3932181:return function(buffer){var val,len,offset=0,fields={consumerTag:void 0};return len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.consumerTag=val,fields}(buf);case 3932190:return function(buffer){var val,len,offset=0,fields={consumerTag:void 0,nowait:void 0};return len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.consumerTag=val,val=!!(1&buffer[offset]),fields.nowait=val,fields}(buf);case 3932191:return function(buffer){var val,len,offset=0,fields={consumerTag:void 0};return len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.consumerTag=val,fields}(buf);case 3932200:return function(buffer){var val,len,offset=0,fields={ticket:void 0,exchange:void 0,routingKey:void 0,mandatory:void 0,immediate:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.ticket=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.exchange=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.routingKey=val,val=!!(1&buffer[offset]),fields.mandatory=val,val=!!(2&buffer[offset]),fields.immediate=val,fields}(buf);case 3932210:return function(buffer){var val,len,offset=0,fields={replyCode:void 0,replyText:void 0,exchange:void 0,routingKey:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.replyCode=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.replyText=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.exchange=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.routingKey=val,fields}(buf);case 3932220:return function(buffer){var val,len,offset=0,fields={consumerTag:void 0,deliveryTag:void 0,redelivered:void 0,exchange:void 0,routingKey:void 0};return len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.consumerTag=val,val=ints.readUInt64BE(buffer,offset),offset+=8,fields.deliveryTag=val,val=!!(1&buffer[offset]),fields.redelivered=val,offset++,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.exchange=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.routingKey=val,fields}(buf);case 3932230:return function(buffer){var val,len,offset=0,fields={ticket:void 0,queue:void 0,noAck:void 0};return val=buffer.readUInt16BE(offset),offset+=2,fields.ticket=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.queue=val,val=!!(1&buffer[offset]),fields.noAck=val,fields}(buf);case 3932231:return function(buffer){var val,len,offset=0,fields={deliveryTag:void 0,redelivered:void 0,exchange:void 0,routingKey:void 0,messageCount:void 0};return val=ints.readUInt64BE(buffer,offset),offset+=8,fields.deliveryTag=val,val=!!(1&buffer[offset]),fields.redelivered=val,offset++,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.exchange=val,len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.routingKey=val,val=buffer.readUInt32BE(offset),offset+=4,fields.messageCount=val,fields}(buf);case 3932232:return function(buffer){var val,len,offset=0,fields={clusterId:void 0};return len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.clusterId=val,fields}(buf);case 3932240:return function(buffer){var val,offset=0,fields={deliveryTag:void 0,multiple:void 0};return val=ints.readUInt64BE(buffer,offset),offset+=8,fields.deliveryTag=val,val=!!(1&buffer[offset]),fields.multiple=val,fields}(buf);case 3932250:return function(buffer){var val,offset=0,fields={deliveryTag:void 0,requeue:void 0};return val=ints.readUInt64BE(buffer,offset),offset+=8,fields.deliveryTag=val,val=!!(1&buffer[offset]),fields.requeue=val,fields}(buf);case 3932260:return function(buffer){var val,fields={requeue:void 0};return val=!!(1&buffer[0]),fields.requeue=val,fields}(buf);case 3932270:return function(buffer){var val,fields={requeue:void 0};return val=!!(1&buffer[0]),fields.requeue=val,fields}(buf);case 3932271:return{};case 3932280:return function(buffer){var val,offset=0,fields={deliveryTag:void 0,multiple:void 0,requeue:void 0};return val=ints.readUInt64BE(buffer,offset),offset+=8,fields.deliveryTag=val,val=!!(1&buffer[offset]),fields.multiple=val,val=!!(2&buffer[offset]),fields.requeue=val,fields}(buf);case 5898250:case 5898251:case 5898260:case 5898261:case 5898270:case 5898271:return{};case 5570570:return function(buffer){var val,fields={nowait:void 0};return val=!!(1&buffer[0]),fields.nowait=val,fields}(buf);case 5570571:return{};case 60:return function(buffer){var flags,val,len,offset=2;if(0===(flags=buffer.readUInt16BE(0)))return{};var fields={contentType:void 0,contentEncoding:void 0,headers:void 0,deliveryMode:void 0,priority:void 0,correlationId:void 0,replyTo:void 0,expiration:void 0,messageId:void 0,timestamp:void 0,type:void 0,userId:void 0,appId:void 0,clusterId:void 0};return 32768&flags&&(len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.contentType=val),16384&flags&&(len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.contentEncoding=val),8192&flags&&(len=buffer.readUInt32BE(offset),offset+=4,val=decodeFields(buffer.slice(offset,offset+len)),offset+=len,fields.headers=val),4096&flags&&(val=buffer[offset],offset++,fields.deliveryMode=val),2048&flags&&(val=buffer[offset],offset++,fields.priority=val),1024&flags&&(len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.correlationId=val),512&flags&&(len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.replyTo=val),256&flags&&(len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.expiration=val),128&flags&&(len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.messageId=val),64&flags&&(val=ints.readUInt64BE(buffer,offset),offset+=8,fields.timestamp=val),32&flags&&(len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.type=val),16&flags&&(len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.userId=val),8&flags&&(len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.appId=val),4&flags&&(len=buffer.readUInt8(offset),offset++,val=buffer.toString("utf8",offset,offset+len),offset+=len,fields.clusterId=val),fields}(buf);default:throw new Error("Unknown class/method ID")}var buffer,val,len,offset,fields},module.exports.encodeMethod=function(id,channel,fields){switch(id){case 655370:return function(channel,fields){var len,offset=0,val=null,varyingSize=0,scratchOffset=0;if(void 0===(val=fields.serverProperties))throw new Error("Missing value for mandatory field 'serverProperties'");if("object"!=typeof val)throw new TypeError("Field 'serverProperties' is the wrong type; must be an object");len=encodeTable(SCRATCH,val,scratchOffset);var serverProperties_encoded=SCRATCH.slice(scratchOffset,scratchOffset+len);if(scratchOffset+=len,varyingSize+=serverProperties_encoded.length,void 0===(val=fields.mechanisms))val=Buffer.from("PLAIN");else if(!Buffer.isBuffer(val))throw new TypeError("Field 'mechanisms' is the wrong type; must be a Buffer");if(varyingSize+=val.length,void 0===(val=fields.locales))val=Buffer.from("en_US");else if(!Buffer.isBuffer(val))throw new TypeError("Field 'locales' is the wrong type; must be a Buffer");varyingSize+=val.length;var buffer=Buffer.alloc(22+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(655370,7),offset=11,void 0===(val=fields.versionMajor))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'versionMajor' is the wrong type; must be a number (but not NaN)");if(buffer.writeUInt8(val,offset),offset++,void 0===(val=fields.versionMinor))val=9;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'versionMinor' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt8(val,offset),offset++,offset+=serverProperties_encoded.copy(buffer,offset),void 0===(val=fields.mechanisms)&&(val=Buffer.from("PLAIN")),len=val.length,buffer.writeUInt32BE(len,offset),offset+=4,val.copy(buffer,offset),offset+=len,void 0===(val=fields.locales)&&(val=Buffer.from("en_US")),len=val.length,buffer.writeUInt32BE(len,offset),offset+=4,val.copy(buffer,offset),buffer[offset+=len]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 655371:return function(channel,fields){var len,offset=0,val=null,varyingSize=0,scratchOffset=0;if(void 0===(val=fields.clientProperties))throw new Error("Missing value for mandatory field 'clientProperties'");if("object"!=typeof val)throw new TypeError("Field 'clientProperties' is the wrong type; must be an object");len=encodeTable(SCRATCH,val,scratchOffset);var clientProperties_encoded=SCRATCH.slice(scratchOffset,scratchOffset+len);if(scratchOffset+=len,varyingSize+=clientProperties_encoded.length,void 0===(val=fields.mechanism))val="PLAIN";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'mechanism' is the wrong type; must be a string (up to 255 chars)");var mechanism_len=Buffer.byteLength(val,"utf8");if(varyingSize+=mechanism_len,void 0===(val=fields.response))throw new Error("Missing value for mandatory field 'response'");if(!Buffer.isBuffer(val))throw new TypeError("Field 'response' is the wrong type; must be a Buffer");if(varyingSize+=val.length,void 0===(val=fields.locale))val="en_US";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'locale' is the wrong type; must be a string (up to 255 chars)");var locale_len=Buffer.byteLength(val,"utf8");varyingSize+=locale_len;var buffer=Buffer.alloc(18+varyingSize);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(655371,7),offset=11,offset+=clientProperties_encoded.copy(buffer,offset),void 0===(val=fields.mechanism)&&(val="PLAIN"),buffer[offset]=mechanism_len,offset++,buffer.write(val,offset,"utf8"),offset+=mechanism_len,void 0===(val=fields.response)&&(val=Buffer.from(void 0)),len=val.length,buffer.writeUInt32BE(len,offset),offset+=4,val.copy(buffer,offset),offset+=len,void 0===(val=fields.locale)&&(val="en_US"),buffer[offset]=locale_len,offset++,buffer.write(val,offset,"utf8"),buffer[offset+=locale_len]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 655380:return function(channel,fields){var len,offset=0,val=null,varyingSize=0;if(void 0===(val=fields.challenge))throw new Error("Missing value for mandatory field 'challenge'");if(!Buffer.isBuffer(val))throw new TypeError("Field 'challenge' is the wrong type; must be a Buffer");varyingSize+=val.length;var buffer=Buffer.alloc(16+varyingSize);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(655380,7),offset=11,void 0===(val=fields.challenge)&&(val=Buffer.from(void 0)),len=val.length,buffer.writeUInt32BE(len,offset),offset+=4,val.copy(buffer,offset),buffer[offset+=len]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 655381:return function(channel,fields){var len,offset=0,val=null,varyingSize=0;if(void 0===(val=fields.response))throw new Error("Missing value for mandatory field 'response'");if(!Buffer.isBuffer(val))throw new TypeError("Field 'response' is the wrong type; must be a Buffer");varyingSize+=val.length;var buffer=Buffer.alloc(16+varyingSize);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(655381,7),offset=11,void 0===(val=fields.response)&&(val=Buffer.from(void 0)),len=val.length,buffer.writeUInt32BE(len,offset),offset+=4,val.copy(buffer,offset),buffer[offset+=len]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 655390:return function(channel,fields){var offset=0,val=null,buffer=Buffer.alloc(20);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(655390,7),offset=11,void 0===(val=fields.channelMax))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'channelMax' is the wrong type; must be a number (but not NaN)");if(buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.frameMax))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'frameMax' is the wrong type; must be a number (but not NaN)");if(buffer.writeUInt32BE(val,offset),offset+=4,void 0===(val=fields.heartbeat))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'heartbeat' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),buffer[offset+=2]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 655391:return function(channel,fields){var offset=0,val=null,buffer=Buffer.alloc(20);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(655391,7),offset=11,void 0===(val=fields.channelMax))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'channelMax' is the wrong type; must be a number (but not NaN)");if(buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.frameMax))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'frameMax' is the wrong type; must be a number (but not NaN)");if(buffer.writeUInt32BE(val,offset),offset+=4,void 0===(val=fields.heartbeat))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'heartbeat' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),buffer[offset+=2]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 655400:return function(channel,fields){var offset=0,val=null,bits=0,varyingSize=0;if(void 0===(val=fields.virtualHost))val="/";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'virtualHost' is the wrong type; must be a string (up to 255 chars)");var virtualHost_len=Buffer.byteLength(val,"utf8");if(varyingSize+=virtualHost_len,void 0===(val=fields.capabilities))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'capabilities' is the wrong type; must be a string (up to 255 chars)");var capabilities_len=Buffer.byteLength(val,"utf8");varyingSize+=capabilities_len;var buffer=Buffer.alloc(15+varyingSize);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(655400,7),offset=11,void 0===(val=fields.virtualHost)&&(val="/"),buffer[offset]=virtualHost_len,offset++,buffer.write(val,offset,"utf8"),offset+=virtualHost_len,void 0===(val=fields.capabilities)&&(val=""),buffer[offset]=capabilities_len,offset++,buffer.write(val,offset,"utf8"),offset+=capabilities_len,void 0===(val=fields.insist)&&(val=!1),val&&(bits+=1),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 655401:return function(channel,fields){var offset=0,val=null,varyingSize=0;if(void 0===(val=fields.knownHosts))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'knownHosts' is the wrong type; must be a string (up to 255 chars)");var knownHosts_len=Buffer.byteLength(val,"utf8");varyingSize+=knownHosts_len;var buffer=Buffer.alloc(13+varyingSize);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(655401,7),offset=11,void 0===(val=fields.knownHosts)&&(val=""),buffer[offset]=knownHosts_len,offset++,buffer.write(val,offset,"utf8"),buffer[offset+=knownHosts_len]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 655410:return function(channel,fields){var offset=0,val=null,varyingSize=0;if(void 0===(val=fields.replyText))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'replyText' is the wrong type; must be a string (up to 255 chars)");var replyText_len=Buffer.byteLength(val,"utf8");varyingSize+=replyText_len;var buffer=Buffer.alloc(19+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(655410,7),offset=11,void 0===(val=fields.replyCode))throw new Error("Missing value for mandatory field 'replyCode'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'replyCode' is the wrong type; must be a number (but not NaN)");if(buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.replyText)&&(val=""),buffer[offset]=replyText_len,offset++,buffer.write(val,offset,"utf8"),offset+=replyText_len,void 0===(val=fields.classId))throw new Error("Missing value for mandatory field 'classId'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'classId' is the wrong type; must be a number (but not NaN)");if(buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.methodId))throw new Error("Missing value for mandatory field 'methodId'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'methodId' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),buffer[offset+=2]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 655411:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(655411,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 655420:return function(channel,fields){var offset=0,val=null,varyingSize=0;if(void 0===(val=fields.reason))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'reason' is the wrong type; must be a string (up to 255 chars)");var reason_len=Buffer.byteLength(val,"utf8");varyingSize+=reason_len;var buffer=Buffer.alloc(13+varyingSize);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(655420,7),offset=11,void 0===(val=fields.reason)&&(val=""),buffer[offset]=reason_len,offset++,buffer.write(val,offset,"utf8"),buffer[offset+=reason_len]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 655421:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(655421,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 1310730:return function(channel,fields){var offset=0,val=null,varyingSize=0;if(void 0===(val=fields.outOfBand))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'outOfBand' is the wrong type; must be a string (up to 255 chars)");var outOfBand_len=Buffer.byteLength(val,"utf8");varyingSize+=outOfBand_len;var buffer=Buffer.alloc(13+varyingSize);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(1310730,7),offset=11,void 0===(val=fields.outOfBand)&&(val=""),buffer[offset]=outOfBand_len,offset++,buffer.write(val,offset,"utf8"),buffer[offset+=outOfBand_len]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 1310731:return function(channel,fields){var len,offset=0,val=null,varyingSize=0;if(void 0===(val=fields.channelId))val=Buffer.from("");else if(!Buffer.isBuffer(val))throw new TypeError("Field 'channelId' is the wrong type; must be a Buffer");varyingSize+=val.length;var buffer=Buffer.alloc(16+varyingSize);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(1310731,7),offset=11,void 0===(val=fields.channelId)&&(val=Buffer.from("")),len=val.length,buffer.writeUInt32BE(len,offset),offset+=4,val.copy(buffer,offset),buffer[offset+=len]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 1310740:return function(channel,fields){var val,offset=0,bits=0,buffer=Buffer.alloc(13);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(1310740,7),offset=11,void 0===(val=fields.active))throw new Error("Missing value for mandatory field 'active'");return val&&(bits+=1),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 1310741:return function(channel,fields){var val,offset=0,bits=0,buffer=Buffer.alloc(13);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(1310741,7),offset=11,void 0===(val=fields.active))throw new Error("Missing value for mandatory field 'active'");return val&&(bits+=1),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 1310760:return function(channel,fields){var offset=0,val=null,varyingSize=0;if(void 0===(val=fields.replyText))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'replyText' is the wrong type; must be a string (up to 255 chars)");var replyText_len=Buffer.byteLength(val,"utf8");varyingSize+=replyText_len;var buffer=Buffer.alloc(19+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(1310760,7),offset=11,void 0===(val=fields.replyCode))throw new Error("Missing value for mandatory field 'replyCode'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'replyCode' is the wrong type; must be a number (but not NaN)");if(buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.replyText)&&(val=""),buffer[offset]=replyText_len,offset++,buffer.write(val,offset,"utf8"),offset+=replyText_len,void 0===(val=fields.classId))throw new Error("Missing value for mandatory field 'classId'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'classId' is the wrong type; must be a number (but not NaN)");if(buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.methodId))throw new Error("Missing value for mandatory field 'methodId'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'methodId' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),buffer[offset+=2]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 1310761:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(1310761,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 1966090:return function(channel,fields){var offset=0,val=null,bits=0,varyingSize=0;if(void 0===(val=fields.realm))val="/data";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'realm' is the wrong type; must be a string (up to 255 chars)");var realm_len=Buffer.byteLength(val,"utf8");varyingSize+=realm_len;var buffer=Buffer.alloc(14+varyingSize);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(1966090,7),offset=11,void 0===(val=fields.realm)&&(val="/data"),buffer[offset]=realm_len,offset++,buffer.write(val,offset,"utf8"),offset+=realm_len,void 0===(val=fields.exclusive)&&(val=!1),val&&(bits+=1),void 0===(val=fields.passive)&&(val=!0),val&&(bits+=2),void 0===(val=fields.active)&&(val=!0),val&&(bits+=4),void 0===(val=fields.write)&&(val=!0),val&&(bits+=8),void 0===(val=fields.read)&&(val=!0),val&&(bits+=16),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 1966091:return function(channel,fields){var offset=0,val=null,buffer=Buffer.alloc(14);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(1966091,7),offset=11,void 0===(val=fields.ticket))val=1;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),buffer[offset+=2]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 2621450:return function(channel,fields){var len,offset=0,val=null,bits=0,varyingSize=0,scratchOffset=0;if(void 0===(val=fields.exchange))throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var exchange_len=Buffer.byteLength(val,"utf8");if(varyingSize+=exchange_len,void 0===(val=fields.type))val="direct";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'type' is the wrong type; must be a string (up to 255 chars)");var type_len=Buffer.byteLength(val,"utf8");if(varyingSize+=type_len,void 0===(val=fields.arguments))val={};else if("object"!=typeof val)throw new TypeError("Field 'arguments' is the wrong type; must be an object");len=encodeTable(SCRATCH,val,scratchOffset);var arguments_encoded=SCRATCH.slice(scratchOffset,scratchOffset+len);scratchOffset+=len,varyingSize+=arguments_encoded.length;var buffer=Buffer.alloc(17+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(2621450,7),offset=11,void 0===(val=fields.ticket))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.exchange)&&(val=void 0),buffer[offset]=exchange_len,offset++,buffer.write(val,offset,"utf8"),offset+=exchange_len,void 0===(val=fields.type)&&(val="direct"),buffer[offset]=type_len,offset++,buffer.write(val,offset,"utf8"),offset+=type_len,void 0===(val=fields.passive)&&(val=!1),val&&(bits+=1),void 0===(val=fields.durable)&&(val=!1),val&&(bits+=2),void 0===(val=fields.autoDelete)&&(val=!1),val&&(bits+=4),void 0===(val=fields.internal)&&(val=!1),val&&(bits+=8),void 0===(val=fields.nowait)&&(val=!1),val&&(bits+=16),buffer[offset]=bits,offset++,bits=0,buffer[offset+=arguments_encoded.copy(buffer,offset)]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 2621451:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(2621451,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 2621460:return function(channel,fields){var offset=0,val=null,bits=0,varyingSize=0;if(void 0===(val=fields.exchange))throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var exchange_len=Buffer.byteLength(val,"utf8");varyingSize+=exchange_len;var buffer=Buffer.alloc(16+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(2621460,7),offset=11,void 0===(val=fields.ticket))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.exchange)&&(val=void 0),buffer[offset]=exchange_len,offset++,buffer.write(val,offset,"utf8"),offset+=exchange_len,void 0===(val=fields.ifUnused)&&(val=!1),val&&(bits+=1),void 0===(val=fields.nowait)&&(val=!1),val&&(bits+=2),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 2621461:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(2621461,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 2621470:return function(channel,fields){var len,offset=0,val=null,bits=0,varyingSize=0,scratchOffset=0;if(void 0===(val=fields.destination))throw new Error("Missing value for mandatory field 'destination'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'destination' is the wrong type; must be a string (up to 255 chars)");var destination_len=Buffer.byteLength(val,"utf8");if(varyingSize+=destination_len,void 0===(val=fields.source))throw new Error("Missing value for mandatory field 'source'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'source' is the wrong type; must be a string (up to 255 chars)");var source_len=Buffer.byteLength(val,"utf8");if(varyingSize+=source_len,void 0===(val=fields.routingKey))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var routingKey_len=Buffer.byteLength(val,"utf8");if(varyingSize+=routingKey_len,void 0===(val=fields.arguments))val={};else if("object"!=typeof val)throw new TypeError("Field 'arguments' is the wrong type; must be an object");len=encodeTable(SCRATCH,val,scratchOffset);var arguments_encoded=SCRATCH.slice(scratchOffset,scratchOffset+len);scratchOffset+=len,varyingSize+=arguments_encoded.length;var buffer=Buffer.alloc(18+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(2621470,7),offset=11,void 0===(val=fields.ticket))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.destination)&&(val=void 0),buffer[offset]=destination_len,offset++,buffer.write(val,offset,"utf8"),offset+=destination_len,void 0===(val=fields.source)&&(val=void 0),buffer[offset]=source_len,offset++,buffer.write(val,offset,"utf8"),offset+=source_len,void 0===(val=fields.routingKey)&&(val=""),buffer[offset]=routingKey_len,offset++,buffer.write(val,offset,"utf8"),offset+=routingKey_len,void 0===(val=fields.nowait)&&(val=!1),val&&(bits+=1),buffer[offset]=bits,offset++,bits=0,buffer[offset+=arguments_encoded.copy(buffer,offset)]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 2621471:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(2621471,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 2621480:return function(channel,fields){var len,offset=0,val=null,bits=0,varyingSize=0,scratchOffset=0;if(void 0===(val=fields.destination))throw new Error("Missing value for mandatory field 'destination'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'destination' is the wrong type; must be a string (up to 255 chars)");var destination_len=Buffer.byteLength(val,"utf8");if(varyingSize+=destination_len,void 0===(val=fields.source))throw new Error("Missing value for mandatory field 'source'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'source' is the wrong type; must be a string (up to 255 chars)");var source_len=Buffer.byteLength(val,"utf8");if(varyingSize+=source_len,void 0===(val=fields.routingKey))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var routingKey_len=Buffer.byteLength(val,"utf8");if(varyingSize+=routingKey_len,void 0===(val=fields.arguments))val={};else if("object"!=typeof val)throw new TypeError("Field 'arguments' is the wrong type; must be an object");len=encodeTable(SCRATCH,val,scratchOffset);var arguments_encoded=SCRATCH.slice(scratchOffset,scratchOffset+len);scratchOffset+=len,varyingSize+=arguments_encoded.length;var buffer=Buffer.alloc(18+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(2621480,7),offset=11,void 0===(val=fields.ticket))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.destination)&&(val=void 0),buffer[offset]=destination_len,offset++,buffer.write(val,offset,"utf8"),offset+=destination_len,void 0===(val=fields.source)&&(val=void 0),buffer[offset]=source_len,offset++,buffer.write(val,offset,"utf8"),offset+=source_len,void 0===(val=fields.routingKey)&&(val=""),buffer[offset]=routingKey_len,offset++,buffer.write(val,offset,"utf8"),offset+=routingKey_len,void 0===(val=fields.nowait)&&(val=!1),val&&(bits+=1),buffer[offset]=bits,offset++,bits=0,buffer[offset+=arguments_encoded.copy(buffer,offset)]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 2621491:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(2621491,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 3276810:return function(channel,fields){var len,offset=0,val=null,bits=0,varyingSize=0,scratchOffset=0;if(void 0===(val=fields.queue))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var queue_len=Buffer.byteLength(val,"utf8");if(varyingSize+=queue_len,void 0===(val=fields.arguments))val={};else if("object"!=typeof val)throw new TypeError("Field 'arguments' is the wrong type; must be an object");len=encodeTable(SCRATCH,val,scratchOffset);var arguments_encoded=SCRATCH.slice(scratchOffset,scratchOffset+len);scratchOffset+=len,varyingSize+=arguments_encoded.length;var buffer=Buffer.alloc(16+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3276810,7),offset=11,void 0===(val=fields.ticket))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.queue)&&(val=""),buffer[offset]=queue_len,offset++,buffer.write(val,offset,"utf8"),offset+=queue_len,void 0===(val=fields.passive)&&(val=!1),val&&(bits+=1),void 0===(val=fields.durable)&&(val=!1),val&&(bits+=2),void 0===(val=fields.exclusive)&&(val=!1),val&&(bits+=4),void 0===(val=fields.autoDelete)&&(val=!1),val&&(bits+=8),void 0===(val=fields.nowait)&&(val=!1),val&&(bits+=16),buffer[offset]=bits,offset++,bits=0,buffer[offset+=arguments_encoded.copy(buffer,offset)]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3276811:return function(channel,fields){var offset=0,val=null,varyingSize=0;if(void 0===(val=fields.queue))throw new Error("Missing value for mandatory field 'queue'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var queue_len=Buffer.byteLength(val,"utf8");varyingSize+=queue_len;var buffer=Buffer.alloc(21+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3276811,7),offset=11,void 0===(val=fields.queue)&&(val=void 0),buffer[offset]=queue_len,offset++,buffer.write(val,offset,"utf8"),offset+=queue_len,void 0===(val=fields.messageCount))throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");if(buffer.writeUInt32BE(val,offset),offset+=4,void 0===(val=fields.consumerCount))throw new Error("Missing value for mandatory field 'consumerCount'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'consumerCount' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt32BE(val,offset),buffer[offset+=4]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3276820:return function(channel,fields){var len,offset=0,val=null,bits=0,varyingSize=0,scratchOffset=0;if(void 0===(val=fields.queue))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var queue_len=Buffer.byteLength(val,"utf8");if(varyingSize+=queue_len,void 0===(val=fields.exchange))throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var exchange_len=Buffer.byteLength(val,"utf8");if(varyingSize+=exchange_len,void 0===(val=fields.routingKey))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var routingKey_len=Buffer.byteLength(val,"utf8");if(varyingSize+=routingKey_len,void 0===(val=fields.arguments))val={};else if("object"!=typeof val)throw new TypeError("Field 'arguments' is the wrong type; must be an object");len=encodeTable(SCRATCH,val,scratchOffset);var arguments_encoded=SCRATCH.slice(scratchOffset,scratchOffset+len);scratchOffset+=len,varyingSize+=arguments_encoded.length;var buffer=Buffer.alloc(18+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3276820,7),offset=11,void 0===(val=fields.ticket))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.queue)&&(val=""),buffer[offset]=queue_len,offset++,buffer.write(val,offset,"utf8"),offset+=queue_len,void 0===(val=fields.exchange)&&(val=void 0),buffer[offset]=exchange_len,offset++,buffer.write(val,offset,"utf8"),offset+=exchange_len,void 0===(val=fields.routingKey)&&(val=""),buffer[offset]=routingKey_len,offset++,buffer.write(val,offset,"utf8"),offset+=routingKey_len,void 0===(val=fields.nowait)&&(val=!1),val&&(bits+=1),buffer[offset]=bits,offset++,bits=0,buffer[offset+=arguments_encoded.copy(buffer,offset)]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3276821:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3276821,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 3276830:return function(channel,fields){var offset=0,val=null,bits=0,varyingSize=0;if(void 0===(val=fields.queue))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var queue_len=Buffer.byteLength(val,"utf8");varyingSize+=queue_len;var buffer=Buffer.alloc(16+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3276830,7),offset=11,void 0===(val=fields.ticket))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.queue)&&(val=""),buffer[offset]=queue_len,offset++,buffer.write(val,offset,"utf8"),offset+=queue_len,void 0===(val=fields.nowait)&&(val=!1),val&&(bits+=1),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3276831:return function(channel,fields){var val,offset=0,buffer=Buffer.alloc(16);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3276831,7),offset=11,void 0===(val=fields.messageCount))throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt32BE(val,offset),buffer[offset+=4]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3276840:return function(channel,fields){var offset=0,val=null,bits=0,varyingSize=0;if(void 0===(val=fields.queue))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var queue_len=Buffer.byteLength(val,"utf8");varyingSize+=queue_len;var buffer=Buffer.alloc(16+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3276840,7),offset=11,void 0===(val=fields.ticket))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.queue)&&(val=""),buffer[offset]=queue_len,offset++,buffer.write(val,offset,"utf8"),offset+=queue_len,void 0===(val=fields.ifUnused)&&(val=!1),val&&(bits+=1),void 0===(val=fields.ifEmpty)&&(val=!1),val&&(bits+=2),void 0===(val=fields.nowait)&&(val=!1),val&&(bits+=4),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3276841:return function(channel,fields){var val,offset=0,buffer=Buffer.alloc(16);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3276841,7),offset=11,void 0===(val=fields.messageCount))throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt32BE(val,offset),buffer[offset+=4]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3276850:return function(channel,fields){var len,offset=0,val=null,varyingSize=0,scratchOffset=0;if(void 0===(val=fields.queue))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var queue_len=Buffer.byteLength(val,"utf8");if(varyingSize+=queue_len,void 0===(val=fields.exchange))throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var exchange_len=Buffer.byteLength(val,"utf8");if(varyingSize+=exchange_len,void 0===(val=fields.routingKey))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var routingKey_len=Buffer.byteLength(val,"utf8");if(varyingSize+=routingKey_len,void 0===(val=fields.arguments))val={};else if("object"!=typeof val)throw new TypeError("Field 'arguments' is the wrong type; must be an object");len=encodeTable(SCRATCH,val,scratchOffset);var arguments_encoded=SCRATCH.slice(scratchOffset,scratchOffset+len);scratchOffset+=len,varyingSize+=arguments_encoded.length;var buffer=Buffer.alloc(17+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3276850,7),offset=11,void 0===(val=fields.ticket))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.queue)&&(val=""),buffer[offset]=queue_len,offset++,buffer.write(val,offset,"utf8"),offset+=queue_len,void 0===(val=fields.exchange)&&(val=void 0),buffer[offset]=exchange_len,offset++,buffer.write(val,offset,"utf8"),offset+=exchange_len,void 0===(val=fields.routingKey)&&(val=""),buffer[offset]=routingKey_len,offset++,buffer.write(val,offset,"utf8"),offset+=routingKey_len,buffer[offset+=arguments_encoded.copy(buffer,offset)]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3276851:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3276851,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 3932170:return function(channel,fields){var offset=0,val=null,bits=0,buffer=Buffer.alloc(19);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932170,7),offset=11,void 0===(val=fields.prefetchSize))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'prefetchSize' is the wrong type; must be a number (but not NaN)");if(buffer.writeUInt32BE(val,offset),offset+=4,void 0===(val=fields.prefetchCount))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'prefetchCount' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.global)&&(val=!1),val&&(bits+=1),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932171:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932171,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 3932180:return function(channel,fields){var len,offset=0,val=null,bits=0,varyingSize=0,scratchOffset=0;if(void 0===(val=fields.queue))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var queue_len=Buffer.byteLength(val,"utf8");if(varyingSize+=queue_len,void 0===(val=fields.consumerTag))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var consumerTag_len=Buffer.byteLength(val,"utf8");if(varyingSize+=consumerTag_len,void 0===(val=fields.arguments))val={};else if("object"!=typeof val)throw new TypeError("Field 'arguments' is the wrong type; must be an object");len=encodeTable(SCRATCH,val,scratchOffset);var arguments_encoded=SCRATCH.slice(scratchOffset,scratchOffset+len);scratchOffset+=len,varyingSize+=arguments_encoded.length;var buffer=Buffer.alloc(17+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932180,7),offset=11,void 0===(val=fields.ticket))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.queue)&&(val=""),buffer[offset]=queue_len,offset++,buffer.write(val,offset,"utf8"),offset+=queue_len,void 0===(val=fields.consumerTag)&&(val=""),buffer[offset]=consumerTag_len,offset++,buffer.write(val,offset,"utf8"),offset+=consumerTag_len,void 0===(val=fields.noLocal)&&(val=!1),val&&(bits+=1),void 0===(val=fields.noAck)&&(val=!1),val&&(bits+=2),void 0===(val=fields.exclusive)&&(val=!1),val&&(bits+=4),void 0===(val=fields.nowait)&&(val=!1),val&&(bits+=8),buffer[offset]=bits,offset++,bits=0,buffer[offset+=arguments_encoded.copy(buffer,offset)]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932181:return function(channel,fields){var offset=0,val=null,varyingSize=0;if(void 0===(val=fields.consumerTag))throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var consumerTag_len=Buffer.byteLength(val,"utf8");varyingSize+=consumerTag_len;var buffer=Buffer.alloc(13+varyingSize);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932181,7),offset=11,void 0===(val=fields.consumerTag)&&(val=void 0),buffer[offset]=consumerTag_len,offset++,buffer.write(val,offset,"utf8"),buffer[offset+=consumerTag_len]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932190:return function(channel,fields){var offset=0,val=null,bits=0,varyingSize=0;if(void 0===(val=fields.consumerTag))throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var consumerTag_len=Buffer.byteLength(val,"utf8");varyingSize+=consumerTag_len;var buffer=Buffer.alloc(14+varyingSize);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932190,7),offset=11,void 0===(val=fields.consumerTag)&&(val=void 0),buffer[offset]=consumerTag_len,offset++,buffer.write(val,offset,"utf8"),offset+=consumerTag_len,void 0===(val=fields.nowait)&&(val=!1),val&&(bits+=1),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932191:return function(channel,fields){var offset=0,val=null,varyingSize=0;if(void 0===(val=fields.consumerTag))throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var consumerTag_len=Buffer.byteLength(val,"utf8");varyingSize+=consumerTag_len;var buffer=Buffer.alloc(13+varyingSize);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932191,7),offset=11,void 0===(val=fields.consumerTag)&&(val=void 0),buffer[offset]=consumerTag_len,offset++,buffer.write(val,offset,"utf8"),buffer[offset+=consumerTag_len]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932200:return function(channel,fields){var offset=0,val=null,bits=0,varyingSize=0;if(void 0===(val=fields.exchange))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var exchange_len=Buffer.byteLength(val,"utf8");if(varyingSize+=exchange_len,void 0===(val=fields.routingKey))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var routingKey_len=Buffer.byteLength(val,"utf8");varyingSize+=routingKey_len;var buffer=Buffer.alloc(17+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932200,7),offset=11,void 0===(val=fields.ticket))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.exchange)&&(val=""),buffer[offset]=exchange_len,offset++,buffer.write(val,offset,"utf8"),offset+=exchange_len,void 0===(val=fields.routingKey)&&(val=""),buffer[offset]=routingKey_len,offset++,buffer.write(val,offset,"utf8"),offset+=routingKey_len,void 0===(val=fields.mandatory)&&(val=!1),val&&(bits+=1),void 0===(val=fields.immediate)&&(val=!1),val&&(bits+=2),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932210:return function(channel,fields){var offset=0,val=null,varyingSize=0;if(void 0===(val=fields.replyText))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'replyText' is the wrong type; must be a string (up to 255 chars)");var replyText_len=Buffer.byteLength(val,"utf8");if(varyingSize+=replyText_len,void 0===(val=fields.exchange))throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var exchange_len=Buffer.byteLength(val,"utf8");if(varyingSize+=exchange_len,void 0===(val=fields.routingKey))throw new Error("Missing value for mandatory field 'routingKey'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var routingKey_len=Buffer.byteLength(val,"utf8");varyingSize+=routingKey_len;var buffer=Buffer.alloc(17+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932210,7),offset=11,void 0===(val=fields.replyCode))throw new Error("Missing value for mandatory field 'replyCode'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'replyCode' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.replyText)&&(val=""),buffer[offset]=replyText_len,offset++,buffer.write(val,offset,"utf8"),offset+=replyText_len,void 0===(val=fields.exchange)&&(val=void 0),buffer[offset]=exchange_len,offset++,buffer.write(val,offset,"utf8"),offset+=exchange_len,void 0===(val=fields.routingKey)&&(val=void 0),buffer[offset]=routingKey_len,offset++,buffer.write(val,offset,"utf8"),buffer[offset+=routingKey_len]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932220:return function(channel,fields){var offset=0,val=null,bits=0,varyingSize=0;if(void 0===(val=fields.consumerTag))throw new Error("Missing value for mandatory field 'consumerTag'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'consumerTag' is the wrong type; must be a string (up to 255 chars)");var consumerTag_len=Buffer.byteLength(val,"utf8");if(varyingSize+=consumerTag_len,void 0===(val=fields.exchange))throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var exchange_len=Buffer.byteLength(val,"utf8");if(varyingSize+=exchange_len,void 0===(val=fields.routingKey))throw new Error("Missing value for mandatory field 'routingKey'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var routingKey_len=Buffer.byteLength(val,"utf8");varyingSize+=routingKey_len;var buffer=Buffer.alloc(24+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932220,7),offset=11,void 0===(val=fields.consumerTag)&&(val=void 0),buffer[offset]=consumerTag_len,offset++,buffer.write(val,offset,"utf8"),offset+=consumerTag_len,void 0===(val=fields.deliveryTag))throw new Error("Missing value for mandatory field 'deliveryTag'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");return ints.writeUInt64BE(buffer,val,offset),offset+=8,void 0===(val=fields.redelivered)&&(val=!1),val&&(bits+=1),buffer[offset]=bits,offset++,bits=0,void 0===(val=fields.exchange)&&(val=void 0),buffer[offset]=exchange_len,offset++,buffer.write(val,offset,"utf8"),offset+=exchange_len,void 0===(val=fields.routingKey)&&(val=void 0),buffer[offset]=routingKey_len,offset++,buffer.write(val,offset,"utf8"),buffer[offset+=routingKey_len]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932230:return function(channel,fields){var offset=0,val=null,bits=0,varyingSize=0;if(void 0===(val=fields.queue))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'queue' is the wrong type; must be a string (up to 255 chars)");var queue_len=Buffer.byteLength(val,"utf8");varyingSize+=queue_len;var buffer=Buffer.alloc(16+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932230,7),offset=11,void 0===(val=fields.ticket))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'ticket' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt16BE(val,offset),offset+=2,void 0===(val=fields.queue)&&(val=""),buffer[offset]=queue_len,offset++,buffer.write(val,offset,"utf8"),offset+=queue_len,void 0===(val=fields.noAck)&&(val=!1),val&&(bits+=1),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932231:return function(channel,fields){var offset=0,val=null,bits=0,varyingSize=0;if(void 0===(val=fields.exchange))throw new Error("Missing value for mandatory field 'exchange'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'exchange' is the wrong type; must be a string (up to 255 chars)");var exchange_len=Buffer.byteLength(val,"utf8");if(varyingSize+=exchange_len,void 0===(val=fields.routingKey))throw new Error("Missing value for mandatory field 'routingKey'");if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'routingKey' is the wrong type; must be a string (up to 255 chars)");var routingKey_len=Buffer.byteLength(val,"utf8");varyingSize+=routingKey_len;var buffer=Buffer.alloc(27+varyingSize);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932231,7),offset=11,void 0===(val=fields.deliveryTag))throw new Error("Missing value for mandatory field 'deliveryTag'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");if(ints.writeUInt64BE(buffer,val,offset),offset+=8,void 0===(val=fields.redelivered)&&(val=!1),val&&(bits+=1),buffer[offset]=bits,offset++,bits=0,void 0===(val=fields.exchange)&&(val=void 0),buffer[offset]=exchange_len,offset++,buffer.write(val,offset,"utf8"),offset+=exchange_len,void 0===(val=fields.routingKey)&&(val=void 0),buffer[offset]=routingKey_len,offset++,buffer.write(val,offset,"utf8"),offset+=routingKey_len,void 0===(val=fields.messageCount))throw new Error("Missing value for mandatory field 'messageCount'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'messageCount' is the wrong type; must be a number (but not NaN)");return buffer.writeUInt32BE(val,offset),buffer[offset+=4]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932232:return function(channel,fields){var offset=0,val=null,varyingSize=0;if(void 0===(val=fields.clusterId))val="";else if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'clusterId' is the wrong type; must be a string (up to 255 chars)");var clusterId_len=Buffer.byteLength(val,"utf8");varyingSize+=clusterId_len;var buffer=Buffer.alloc(13+varyingSize);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932232,7),offset=11,void 0===(val=fields.clusterId)&&(val=""),buffer[offset]=clusterId_len,offset++,buffer.write(val,offset,"utf8"),buffer[offset+=clusterId_len]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932240:return function(channel,fields){var offset=0,val=null,bits=0,buffer=Buffer.alloc(21);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932240,7),offset=11,void 0===(val=fields.deliveryTag))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");return ints.writeUInt64BE(buffer,val,offset),offset+=8,void 0===(val=fields.multiple)&&(val=!1),val&&(bits+=1),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932250:return function(channel,fields){var offset=0,val=null,bits=0,buffer=Buffer.alloc(21);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932250,7),offset=11,void 0===(val=fields.deliveryTag))throw new Error("Missing value for mandatory field 'deliveryTag'");if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");return ints.writeUInt64BE(buffer,val,offset),offset+=8,void 0===(val=fields.requeue)&&(val=!0),val&&(bits+=1),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932260:return function(channel,fields){var offset=0,val=null,bits=0,buffer=Buffer.alloc(13);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932260,7),offset=11,void 0===(val=fields.requeue)&&(val=!1),val&&(bits+=1),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932270:return function(channel,fields){var offset=0,val=null,bits=0,buffer=Buffer.alloc(13);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932270,7),offset=11,void 0===(val=fields.requeue)&&(val=!1),val&&(bits+=1),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 3932271:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932271,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 3932280:return function(channel,fields){var offset=0,val=null,bits=0,buffer=Buffer.alloc(21);if(buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932280,7),offset=11,void 0===(val=fields.deliveryTag))val=0;else if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'deliveryTag' is the wrong type; must be a number (but not NaN)");return ints.writeUInt64BE(buffer,val,offset),offset+=8,void 0===(val=fields.multiple)&&(val=!1),val&&(bits+=1),void 0===(val=fields.requeue)&&(val=!0),val&&(bits+=2),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 5898250:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(5898250,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 5898251:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(5898251,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 5898260:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(5898260,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 5898261:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(5898261,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 5898270:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(5898270,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 5898271:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(5898271,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);case 5570570:return function(channel,fields){var offset=0,val=null,bits=0,buffer=Buffer.alloc(13);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(5570570,7),offset=11,void 0===(val=fields.nowait)&&(val=!1),val&&(bits+=1),buffer[offset]=bits,buffer[++offset]=206,buffer.writeUInt32BE(offset-7,3),buffer}(channel,fields);case 5570571:return function(channel,fields){var buffer=Buffer.alloc(12);return buffer[0]=1,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(5570571,7),11,buffer[11]=206,buffer.writeUInt32BE(4,3),buffer}(channel);default:throw new Error("Unknown class/method ID")}},module.exports.encodeProperties=function(id,channel,size,fields){switch(id){case 60:return function(channel,size,fields){var val,len,offset=0,flags=0,scratchOffset=0,varyingSize=0;if(null!=(val=fields.contentType)){if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'contentType' is the wrong type; must be a string (up to 255 chars)");var contentType_len=Buffer.byteLength(val,"utf8");varyingSize+=1,varyingSize+=contentType_len}if(null!=(val=fields.contentEncoding)){if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'contentEncoding' is the wrong type; must be a string (up to 255 chars)");var contentEncoding_len=Buffer.byteLength(val,"utf8");varyingSize+=1,varyingSize+=contentEncoding_len}if(null!=(val=fields.headers)){if("object"!=typeof val)throw new TypeError("Field 'headers' is the wrong type; must be an object");len=encodeTable(SCRATCH,val,scratchOffset);var headers_encoded=SCRATCH.slice(scratchOffset,scratchOffset+len);scratchOffset+=len,varyingSize+=headers_encoded.length}if(null!=(val=fields.deliveryMode)){if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'deliveryMode' is the wrong type; must be a number (but not NaN)");varyingSize+=1}if(null!=(val=fields.priority)){if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'priority' is the wrong type; must be a number (but not NaN)");varyingSize+=1}if(null!=(val=fields.correlationId)){if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'correlationId' is the wrong type; must be a string (up to 255 chars)");var correlationId_len=Buffer.byteLength(val,"utf8");varyingSize+=1,varyingSize+=correlationId_len}if(null!=(val=fields.replyTo)){if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'replyTo' is the wrong type; must be a string (up to 255 chars)");var replyTo_len=Buffer.byteLength(val,"utf8");varyingSize+=1,varyingSize+=replyTo_len}if(null!=(val=fields.expiration)){if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'expiration' is the wrong type; must be a string (up to 255 chars)");var expiration_len=Buffer.byteLength(val,"utf8");varyingSize+=1,varyingSize+=expiration_len}if(null!=(val=fields.messageId)){if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'messageId' is the wrong type; must be a string (up to 255 chars)");var messageId_len=Buffer.byteLength(val,"utf8");varyingSize+=1,varyingSize+=messageId_len}if(null!=(val=fields.timestamp)){if("number"!=typeof val||isNaN(val))throw new TypeError("Field 'timestamp' is the wrong type; must be a number (but not NaN)");varyingSize+=8}if(null!=(val=fields.type)){if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'type' is the wrong type; must be a string (up to 255 chars)");var type_len=Buffer.byteLength(val,"utf8");varyingSize+=1,varyingSize+=type_len}if(null!=(val=fields.userId)){if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'userId' is the wrong type; must be a string (up to 255 chars)");var userId_len=Buffer.byteLength(val,"utf8");varyingSize+=1,varyingSize+=userId_len}if(null!=(val=fields.appId)){if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'appId' is the wrong type; must be a string (up to 255 chars)");var appId_len=Buffer.byteLength(val,"utf8");varyingSize+=1,varyingSize+=appId_len}if(null!=(val=fields.clusterId)){if(!("string"==typeof val&&Buffer.byteLength(val)<256))throw new TypeError("Field 'clusterId' is the wrong type; must be a string (up to 255 chars)");var clusterId_len=Buffer.byteLength(val,"utf8");varyingSize+=1,varyingSize+=clusterId_len}var buffer=Buffer.alloc(22+varyingSize);return buffer[0]=2,buffer.writeUInt16BE(channel,1),buffer.writeUInt32BE(3932160,7),ints.writeUInt64BE(buffer,size,11),flags=0,offset=21,null!=(val=fields.contentType)&&(flags+=32768,buffer[offset]=contentType_len,offset++,buffer.write(val,offset,"utf8"),offset+=contentType_len),null!=(val=fields.contentEncoding)&&(flags+=16384,buffer[offset]=contentEncoding_len,offset++,buffer.write(val,offset,"utf8"),offset+=contentEncoding_len),null!=(val=fields.headers)&&(flags+=8192,offset+=headers_encoded.copy(buffer,offset)),null!=(val=fields.deliveryMode)&&(flags+=4096,buffer.writeUInt8(val,offset),offset++),null!=(val=fields.priority)&&(flags+=2048,buffer.writeUInt8(val,offset),offset++),null!=(val=fields.correlationId)&&(flags+=1024,buffer[offset]=correlationId_len,offset++,buffer.write(val,offset,"utf8"),offset+=correlationId_len),null!=(val=fields.replyTo)&&(flags+=512,buffer[offset]=replyTo_len,offset++,buffer.write(val,offset,"utf8"),offset+=replyTo_len),null!=(val=fields.expiration)&&(flags+=256,buffer[offset]=expiration_len,offset++,buffer.write(val,offset,"utf8"),offset+=expiration_len),null!=(val=fields.messageId)&&(flags+=128,buffer[offset]=messageId_len,offset++,buffer.write(val,offset,"utf8"),offset+=messageId_len),null!=(val=fields.timestamp)&&(flags+=64,ints.writeUInt64BE(buffer,val,offset),offset+=8),null!=(val=fields.type)&&(flags+=32,buffer[offset]=type_len,offset++,buffer.write(val,offset,"utf8"),offset+=type_len),null!=(val=fields.userId)&&(flags+=16,buffer[offset]=userId_len,offset++,buffer.write(val,offset,"utf8"),offset+=userId_len),null!=(val=fields.appId)&&(flags+=8,buffer[offset]=appId_len,offset++,buffer.write(val,offset,"utf8"),offset+=appId_len),null!=(val=fields.clusterId)&&(flags+=4,buffer[offset]=clusterId_len,offset++,buffer.write(val,offset,"utf8"),offset+=clusterId_len),buffer[offset]=206,buffer.writeUInt32BE(offset-7,3),buffer.writeUInt16BE(flags,19),buffer.slice(0,offset+1)}(channel,size,fields);default:throw new Error("Unknown class/properties ID")}},module.exports.info=function(id){switch(id){case 655370:return methodInfoConnectionStart;case 655371:return methodInfoConnectionStartOk;case 655380:return methodInfoConnectionSecure;case 655381:return methodInfoConnectionSecureOk;case 655390:return methodInfoConnectionTune;case 655391:return methodInfoConnectionTuneOk;case 655400:return methodInfoConnectionOpen;case 655401:return methodInfoConnectionOpenOk;case 655410:return methodInfoConnectionClose;case 655411:return methodInfoConnectionCloseOk;case 655420:return methodInfoConnectionBlocked;case 655421:return methodInfoConnectionUnblocked;case 1310730:return methodInfoChannelOpen;case 1310731:return methodInfoChannelOpenOk;case 1310740:return methodInfoChannelFlow;case 1310741:return methodInfoChannelFlowOk;case 1310760:return methodInfoChannelClose;case 1310761:return methodInfoChannelCloseOk;case 1966090:return methodInfoAccessRequest;case 1966091:return methodInfoAccessRequestOk;case 2621450:return methodInfoExchangeDeclare;case 2621451:return methodInfoExchangeDeclareOk;case 2621460:return methodInfoExchangeDelete;case 2621461:return methodInfoExchangeDeleteOk;case 2621470:return methodInfoExchangeBind;case 2621471:return methodInfoExchangeBindOk;case 2621480:return methodInfoExchangeUnbind;case 2621491:return methodInfoExchangeUnbindOk;case 3276810:return methodInfoQueueDeclare;case 3276811:return methodInfoQueueDeclareOk;case 3276820:return methodInfoQueueBind;case 3276821:return methodInfoQueueBindOk;case 3276830:return methodInfoQueuePurge;case 3276831:return methodInfoQueuePurgeOk;case 3276840:return methodInfoQueueDelete;case 3276841:return methodInfoQueueDeleteOk;case 3276850:return methodInfoQueueUnbind;case 3276851:return methodInfoQueueUnbindOk;case 3932170:return methodInfoBasicQos;case 3932171:return methodInfoBasicQosOk;case 3932180:return methodInfoBasicConsume;case 3932181:return methodInfoBasicConsumeOk;case 3932190:return methodInfoBasicCancel;case 3932191:return methodInfoBasicCancelOk;case 3932200:return methodInfoBasicPublish;case 3932210:return methodInfoBasicReturn;case 3932220:return methodInfoBasicDeliver;case 3932230:return methodInfoBasicGet;case 3932231:return methodInfoBasicGetOk;case 3932232:return methodInfoBasicGetEmpty;case 3932240:return methodInfoBasicAck;case 3932250:return methodInfoBasicReject;case 3932260:return methodInfoBasicRecoverAsync;case 3932270:return methodInfoBasicRecover;case 3932271:return methodInfoBasicRecoverOk;case 3932280:return methodInfoBasicNack;case 5898250:return methodInfoTxSelect;case 5898251:return methodInfoTxSelectOk;case 5898260:return methodInfoTxCommit;case 5898261:return methodInfoTxCommitOk;case 5898270:return methodInfoTxRollback;case 5898271:return methodInfoTxRollbackOk;case 5570570:return methodInfoConfirmSelect;case 5570571:return methodInfoConfirmSelectOk;case 60:return propertiesInfoBasicProperties;default:throw new Error("Unknown class/method ID")}},module.exports.ConnectionStart=655370;var methodInfoConnectionStart=module.exports.methodInfoConnectionStart={id:655370,classId:10,methodId:10,name:"ConnectionStart",args:[{type:"octet",name:"versionMajor",default:0},{type:"octet",name:"versionMinor",default:9},{type:"table",name:"serverProperties"},{type:"longstr",name:"mechanisms",default:"PLAIN"},{type:"longstr",name:"locales",default:"en_US"}]};module.exports.ConnectionStartOk=655371;var methodInfoConnectionStartOk=module.exports.methodInfoConnectionStartOk={id:655371,classId:10,methodId:11,name:"ConnectionStartOk",args:[{type:"table",name:"clientProperties"},{type:"shortstr",name:"mechanism",default:"PLAIN"},{type:"longstr",name:"response"},{type:"shortstr",name:"locale",default:"en_US"}]};module.exports.ConnectionSecure=655380;var methodInfoConnectionSecure=module.exports.methodInfoConnectionSecure={id:655380,classId:10,methodId:20,name:"ConnectionSecure",args:[{type:"longstr",name:"challenge"}]};module.exports.ConnectionSecureOk=655381;var methodInfoConnectionSecureOk=module.exports.methodInfoConnectionSecureOk={id:655381,classId:10,methodId:21,name:"ConnectionSecureOk",args:[{type:"longstr",name:"response"}]};module.exports.ConnectionTune=655390;var methodInfoConnectionTune=module.exports.methodInfoConnectionTune={id:655390,classId:10,methodId:30,name:"ConnectionTune",args:[{type:"short",name:"channelMax",default:0},{type:"long",name:"frameMax",default:0},{type:"short",name:"heartbeat",default:0}]};module.exports.ConnectionTuneOk=655391;var methodInfoConnectionTuneOk=module.exports.methodInfoConnectionTuneOk={id:655391,classId:10,methodId:31,name:"ConnectionTuneOk",args:[{type:"short",name:"channelMax",default:0},{type:"long",name:"frameMax",default:0},{type:"short",name:"heartbeat",default:0}]};module.exports.ConnectionOpen=655400;var methodInfoConnectionOpen=module.exports.methodInfoConnectionOpen={id:655400,classId:10,methodId:40,name:"ConnectionOpen",args:[{type:"shortstr",name:"virtualHost",default:"/"},{type:"shortstr",name:"capabilities",default:""},{type:"bit",name:"insist",default:!1}]};module.exports.ConnectionOpenOk=655401;var methodInfoConnectionOpenOk=module.exports.methodInfoConnectionOpenOk={id:655401,classId:10,methodId:41,name:"ConnectionOpenOk",args:[{type:"shortstr",name:"knownHosts",default:""}]};module.exports.ConnectionClose=655410;var methodInfoConnectionClose=module.exports.methodInfoConnectionClose={id:655410,classId:10,methodId:50,name:"ConnectionClose",args:[{type:"short",name:"replyCode"},{type:"shortstr",name:"replyText",default:""},{type:"short",name:"classId"},{type:"short",name:"methodId"}]};module.exports.ConnectionCloseOk=655411;var methodInfoConnectionCloseOk=module.exports.methodInfoConnectionCloseOk={id:655411,classId:10,methodId:51,name:"ConnectionCloseOk",args:[]};module.exports.ConnectionBlocked=655420;var methodInfoConnectionBlocked=module.exports.methodInfoConnectionBlocked={id:655420,classId:10,methodId:60,name:"ConnectionBlocked",args:[{type:"shortstr",name:"reason",default:""}]};module.exports.ConnectionUnblocked=655421;var methodInfoConnectionUnblocked=module.exports.methodInfoConnectionUnblocked={id:655421,classId:10,methodId:61,name:"ConnectionUnblocked",args:[]};module.exports.ChannelOpen=1310730;var methodInfoChannelOpen=module.exports.methodInfoChannelOpen={id:1310730,classId:20,methodId:10,name:"ChannelOpen",args:[{type:"shortstr",name:"outOfBand",default:""}]};module.exports.ChannelOpenOk=1310731;var methodInfoChannelOpenOk=module.exports.methodInfoChannelOpenOk={id:1310731,classId:20,methodId:11,name:"ChannelOpenOk",args:[{type:"longstr",name:"channelId",default:""}]};module.exports.ChannelFlow=1310740;var methodInfoChannelFlow=module.exports.methodInfoChannelFlow={id:1310740,classId:20,methodId:20,name:"ChannelFlow",args:[{type:"bit",name:"active"}]};module.exports.ChannelFlowOk=1310741;var methodInfoChannelFlowOk=module.exports.methodInfoChannelFlowOk={id:1310741,classId:20,methodId:21,name:"ChannelFlowOk",args:[{type:"bit",name:"active"}]};module.exports.ChannelClose=1310760;var methodInfoChannelClose=module.exports.methodInfoChannelClose={id:1310760,classId:20,methodId:40,name:"ChannelClose",args:[{type:"short",name:"replyCode"},{type:"shortstr",name:"replyText",default:""},{type:"short",name:"classId"},{type:"short",name:"methodId"}]};module.exports.ChannelCloseOk=1310761;var methodInfoChannelCloseOk=module.exports.methodInfoChannelCloseOk={id:1310761,classId:20,methodId:41,name:"ChannelCloseOk",args:[]};module.exports.AccessRequest=1966090;var methodInfoAccessRequest=module.exports.methodInfoAccessRequest={id:1966090,classId:30,methodId:10,name:"AccessRequest",args:[{type:"shortstr",name:"realm",default:"/data"},{type:"bit",name:"exclusive",default:!1},{type:"bit",name:"passive",default:!0},{type:"bit",name:"active",default:!0},{type:"bit",name:"write",default:!0},{type:"bit",name:"read",default:!0}]};module.exports.AccessRequestOk=1966091;var methodInfoAccessRequestOk=module.exports.methodInfoAccessRequestOk={id:1966091,classId:30,methodId:11,name:"AccessRequestOk",args:[{type:"short",name:"ticket",default:1}]};module.exports.ExchangeDeclare=2621450;var methodInfoExchangeDeclare=module.exports.methodInfoExchangeDeclare={id:2621450,classId:40,methodId:10,name:"ExchangeDeclare",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"type",default:"direct"},{type:"bit",name:"passive",default:!1},{type:"bit",name:"durable",default:!1},{type:"bit",name:"autoDelete",default:!1},{type:"bit",name:"internal",default:!1},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};module.exports.ExchangeDeclareOk=2621451;var methodInfoExchangeDeclareOk=module.exports.methodInfoExchangeDeclareOk={id:2621451,classId:40,methodId:11,name:"ExchangeDeclareOk",args:[]};module.exports.ExchangeDelete=2621460;var methodInfoExchangeDelete=module.exports.methodInfoExchangeDelete={id:2621460,classId:40,methodId:20,name:"ExchangeDelete",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"exchange"},{type:"bit",name:"ifUnused",default:!1},{type:"bit",name:"nowait",default:!1}]};module.exports.ExchangeDeleteOk=2621461;var methodInfoExchangeDeleteOk=module.exports.methodInfoExchangeDeleteOk={id:2621461,classId:40,methodId:21,name:"ExchangeDeleteOk",args:[]};module.exports.ExchangeBind=2621470;var methodInfoExchangeBind=module.exports.methodInfoExchangeBind={id:2621470,classId:40,methodId:30,name:"ExchangeBind",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"destination"},{type:"shortstr",name:"source"},{type:"shortstr",name:"routingKey",default:""},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};module.exports.ExchangeBindOk=2621471;var methodInfoExchangeBindOk=module.exports.methodInfoExchangeBindOk={id:2621471,classId:40,methodId:31,name:"ExchangeBindOk",args:[]};module.exports.ExchangeUnbind=2621480;var methodInfoExchangeUnbind=module.exports.methodInfoExchangeUnbind={id:2621480,classId:40,methodId:40,name:"ExchangeUnbind",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"destination"},{type:"shortstr",name:"source"},{type:"shortstr",name:"routingKey",default:""},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};module.exports.ExchangeUnbindOk=2621491;var methodInfoExchangeUnbindOk=module.exports.methodInfoExchangeUnbindOk={id:2621491,classId:40,methodId:51,name:"ExchangeUnbindOk",args:[]};module.exports.QueueDeclare=3276810;var methodInfoQueueDeclare=module.exports.methodInfoQueueDeclare={id:3276810,classId:50,methodId:10,name:"QueueDeclare",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"bit",name:"passive",default:!1},{type:"bit",name:"durable",default:!1},{type:"bit",name:"exclusive",default:!1},{type:"bit",name:"autoDelete",default:!1},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};module.exports.QueueDeclareOk=3276811;var methodInfoQueueDeclareOk=module.exports.methodInfoQueueDeclareOk={id:3276811,classId:50,methodId:11,name:"QueueDeclareOk",args:[{type:"shortstr",name:"queue"},{type:"long",name:"messageCount"},{type:"long",name:"consumerCount"}]};module.exports.QueueBind=3276820;var methodInfoQueueBind=module.exports.methodInfoQueueBind={id:3276820,classId:50,methodId:20,name:"QueueBind",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey",default:""},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};module.exports.QueueBindOk=3276821;var methodInfoQueueBindOk=module.exports.methodInfoQueueBindOk={id:3276821,classId:50,methodId:21,name:"QueueBindOk",args:[]};module.exports.QueuePurge=3276830;var methodInfoQueuePurge=module.exports.methodInfoQueuePurge={id:3276830,classId:50,methodId:30,name:"QueuePurge",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"bit",name:"nowait",default:!1}]};module.exports.QueuePurgeOk=3276831;var methodInfoQueuePurgeOk=module.exports.methodInfoQueuePurgeOk={id:3276831,classId:50,methodId:31,name:"QueuePurgeOk",args:[{type:"long",name:"messageCount"}]};module.exports.QueueDelete=3276840;var methodInfoQueueDelete=module.exports.methodInfoQueueDelete={id:3276840,classId:50,methodId:40,name:"QueueDelete",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"bit",name:"ifUnused",default:!1},{type:"bit",name:"ifEmpty",default:!1},{type:"bit",name:"nowait",default:!1}]};module.exports.QueueDeleteOk=3276841;var methodInfoQueueDeleteOk=module.exports.methodInfoQueueDeleteOk={id:3276841,classId:50,methodId:41,name:"QueueDeleteOk",args:[{type:"long",name:"messageCount"}]};module.exports.QueueUnbind=3276850;var methodInfoQueueUnbind=module.exports.methodInfoQueueUnbind={id:3276850,classId:50,methodId:50,name:"QueueUnbind",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey",default:""},{type:"table",name:"arguments",default:{}}]};module.exports.QueueUnbindOk=3276851;var methodInfoQueueUnbindOk=module.exports.methodInfoQueueUnbindOk={id:3276851,classId:50,methodId:51,name:"QueueUnbindOk",args:[]};module.exports.BasicQos=3932170;var methodInfoBasicQos=module.exports.methodInfoBasicQos={id:3932170,classId:60,methodId:10,name:"BasicQos",args:[{type:"long",name:"prefetchSize",default:0},{type:"short",name:"prefetchCount",default:0},{type:"bit",name:"global",default:!1}]};module.exports.BasicQosOk=3932171;var methodInfoBasicQosOk=module.exports.methodInfoBasicQosOk={id:3932171,classId:60,methodId:11,name:"BasicQosOk",args:[]};module.exports.BasicConsume=3932180;var methodInfoBasicConsume=module.exports.methodInfoBasicConsume={id:3932180,classId:60,methodId:20,name:"BasicConsume",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"shortstr",name:"consumerTag",default:""},{type:"bit",name:"noLocal",default:!1},{type:"bit",name:"noAck",default:!1},{type:"bit",name:"exclusive",default:!1},{type:"bit",name:"nowait",default:!1},{type:"table",name:"arguments",default:{}}]};module.exports.BasicConsumeOk=3932181;var methodInfoBasicConsumeOk=module.exports.methodInfoBasicConsumeOk={id:3932181,classId:60,methodId:21,name:"BasicConsumeOk",args:[{type:"shortstr",name:"consumerTag"}]};module.exports.BasicCancel=3932190;var methodInfoBasicCancel=module.exports.methodInfoBasicCancel={id:3932190,classId:60,methodId:30,name:"BasicCancel",args:[{type:"shortstr",name:"consumerTag"},{type:"bit",name:"nowait",default:!1}]};module.exports.BasicCancelOk=3932191;var methodInfoBasicCancelOk=module.exports.methodInfoBasicCancelOk={id:3932191,classId:60,methodId:31,name:"BasicCancelOk",args:[{type:"shortstr",name:"consumerTag"}]};module.exports.BasicPublish=3932200;var methodInfoBasicPublish=module.exports.methodInfoBasicPublish={id:3932200,classId:60,methodId:40,name:"BasicPublish",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"exchange",default:""},{type:"shortstr",name:"routingKey",default:""},{type:"bit",name:"mandatory",default:!1},{type:"bit",name:"immediate",default:!1}]};module.exports.BasicReturn=3932210;var methodInfoBasicReturn=module.exports.methodInfoBasicReturn={id:3932210,classId:60,methodId:50,name:"BasicReturn",args:[{type:"short",name:"replyCode"},{type:"shortstr",name:"replyText",default:""},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey"}]};module.exports.BasicDeliver=3932220;var methodInfoBasicDeliver=module.exports.methodInfoBasicDeliver={id:3932220,classId:60,methodId:60,name:"BasicDeliver",args:[{type:"shortstr",name:"consumerTag"},{type:"longlong",name:"deliveryTag"},{type:"bit",name:"redelivered",default:!1},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey"}]};module.exports.BasicGet=3932230;var methodInfoBasicGet=module.exports.methodInfoBasicGet={id:3932230,classId:60,methodId:70,name:"BasicGet",args:[{type:"short",name:"ticket",default:0},{type:"shortstr",name:"queue",default:""},{type:"bit",name:"noAck",default:!1}]};module.exports.BasicGetOk=3932231;var methodInfoBasicGetOk=module.exports.methodInfoBasicGetOk={id:3932231,classId:60,methodId:71,name:"BasicGetOk",args:[{type:"longlong",name:"deliveryTag"},{type:"bit",name:"redelivered",default:!1},{type:"shortstr",name:"exchange"},{type:"shortstr",name:"routingKey"},{type:"long",name:"messageCount"}]};module.exports.BasicGetEmpty=3932232;var methodInfoBasicGetEmpty=module.exports.methodInfoBasicGetEmpty={id:3932232,classId:60,methodId:72,name:"BasicGetEmpty",args:[{type:"shortstr",name:"clusterId",default:""}]};module.exports.BasicAck=3932240;var methodInfoBasicAck=module.exports.methodInfoBasicAck={id:3932240,classId:60,methodId:80,name:"BasicAck",args:[{type:"longlong",name:"deliveryTag",default:0},{type:"bit",name:"multiple",default:!1}]};module.exports.BasicReject=3932250;var methodInfoBasicReject=module.exports.methodInfoBasicReject={id:3932250,classId:60,methodId:90,name:"BasicReject",args:[{type:"longlong",name:"deliveryTag"},{type:"bit",name:"requeue",default:!0}]};module.exports.BasicRecoverAsync=3932260;var methodInfoBasicRecoverAsync=module.exports.methodInfoBasicRecoverAsync={id:3932260,classId:60,methodId:100,name:"BasicRecoverAsync",args:[{type:"bit",name:"requeue",default:!1}]};module.exports.BasicRecover=3932270;var methodInfoBasicRecover=module.exports.methodInfoBasicRecover={id:3932270,classId:60,methodId:110,name:"BasicRecover",args:[{type:"bit",name:"requeue",default:!1}]};module.exports.BasicRecoverOk=3932271;var methodInfoBasicRecoverOk=module.exports.methodInfoBasicRecoverOk={id:3932271,classId:60,methodId:111,name:"BasicRecoverOk",args:[]};module.exports.BasicNack=3932280;var methodInfoBasicNack=module.exports.methodInfoBasicNack={id:3932280,classId:60,methodId:120,name:"BasicNack",args:[{type:"longlong",name:"deliveryTag",default:0},{type:"bit",name:"multiple",default:!1},{type:"bit",name:"requeue",default:!0}]};module.exports.TxSelect=5898250;var methodInfoTxSelect=module.exports.methodInfoTxSelect={id:5898250,classId:90,methodId:10,name:"TxSelect",args:[]};module.exports.TxSelectOk=5898251;var methodInfoTxSelectOk=module.exports.methodInfoTxSelectOk={id:5898251,classId:90,methodId:11,name:"TxSelectOk",args:[]};module.exports.TxCommit=5898260;var methodInfoTxCommit=module.exports.methodInfoTxCommit={id:5898260,classId:90,methodId:20,name:"TxCommit",args:[]};module.exports.TxCommitOk=5898261;var methodInfoTxCommitOk=module.exports.methodInfoTxCommitOk={id:5898261,classId:90,methodId:21,name:"TxCommitOk",args:[]};module.exports.TxRollback=5898270;var methodInfoTxRollback=module.exports.methodInfoTxRollback={id:5898270,classId:90,methodId:30,name:"TxRollback",args:[]};module.exports.TxRollbackOk=5898271;var methodInfoTxRollbackOk=module.exports.methodInfoTxRollbackOk={id:5898271,classId:90,methodId:31,name:"TxRollbackOk",args:[]};module.exports.ConfirmSelect=5570570;var methodInfoConfirmSelect=module.exports.methodInfoConfirmSelect={id:5570570,classId:85,methodId:10,name:"ConfirmSelect",args:[{type:"bit",name:"nowait",default:!1}]};module.exports.ConfirmSelectOk=5570571;var methodInfoConfirmSelectOk=module.exports.methodInfoConfirmSelectOk={id:5570571,classId:85,methodId:11,name:"ConfirmSelectOk",args:[]};module.exports.BasicProperties=60;var propertiesInfoBasicProperties=module.exports.propertiesInfoBasicProperties={id:60,name:"BasicProperties",args:[{type:"shortstr",name:"contentType"},{type:"shortstr",name:"contentEncoding"},{type:"table",name:"headers"},{type:"octet",name:"deliveryMode"},{type:"octet",name:"priority"},{type:"shortstr",name:"correlationId"},{type:"shortstr",name:"replyTo"},{type:"shortstr",name:"expiration"},{type:"shortstr",name:"messageId"},{type:"timestamp",name:"timestamp"},{type:"shortstr",name:"type"},{type:"shortstr",name:"userId"},{type:"shortstr",name:"appId"},{type:"shortstr",name:"clusterId"}]}},function(module,exports,__webpack_require__){var buffer=__webpack_require__(12),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},function(module,exports,__webpack_require__){"use strict";function isContiguousInt(val){return val<=9007199254740991&&val>=-9007199254740991}function check_value(val,min,max){if("number"!=typeof(val=+val)||val<min||val>max||Math.floor(val)!==val)throw new TypeError('"value" argument is out of bounds');return val}function check_bounds(buf,offset,len){if(offset<0||offset+len>buf.length)throw new RangeError("Index out of range")}module.exports.isContiguousInt=isContiguousInt,module.exports.assertContiguousInt=function(val){if(!isContiguousInt(val))throw new TypeError("number cannot be represented as a contiguous integer")},["UInt","Int"].forEach((function(sign){var suffix=sign+"8";module.exports["read"+suffix]=Buffer.prototype["read"+suffix].call,module.exports["write"+suffix]=Buffer.prototype["write"+suffix].call,["16","32"].forEach((function(size){["LE","BE"].forEach((function(endian){var suffix=sign+size+endian,read=Buffer.prototype["read"+suffix];module.exports["read"+suffix]=function(buf,offset){return read.call(buf,offset)};var write=Buffer.prototype["write"+suffix];module.exports["write"+suffix]=function(buf,val,offset){return write.call(buf,val,offset)}}))}))})),module.exports.readUInt24BE=function(buf,offset){return buf.readUInt8(offset)<<16|buf.readUInt16BE(offset+1)},module.exports.writeUInt24BE=function(buf,val,offset){val=check_value(val,0,16777215),check_bounds(buf,offset,3),buf.writeUInt8(val>>>16,offset),buf.writeUInt16BE(65535&val,offset+1)},module.exports.readUInt40BE=function(buf,offset){return 4294967296*(buf.readUInt8(offset)||0)+buf.readUInt32BE(offset+1)},module.exports.writeUInt40BE=function(buf,val,offset){val=check_value(val,0,0xffffffffff),check_bounds(buf,offset,5),buf.writeUInt8(Math.floor(val*(1/4294967296)),offset),buf.writeInt32BE(-1&val,offset+1)},module.exports.readUInt48BE=function(buf,offset){return 4294967296*buf.readUInt16BE(offset)+buf.readUInt32BE(offset+2)},module.exports.writeUInt48BE=function(buf,val,offset){val=check_value(val,0,0xffffffffffff),check_bounds(buf,offset,6),buf.writeUInt16BE(Math.floor(val*(1/4294967296)),offset),buf.writeInt32BE(-1&val,offset+2)},module.exports.readUInt56BE=function(buf,offset){return 4294967296*((buf.readUInt8(offset)||0)<<16|buf.readUInt16BE(offset+1))+buf.readUInt32BE(offset+3)},module.exports.writeUInt56BE=function(buf,val,offset){if(val=check_value(val,0,72057594037927940),check_bounds(buf,offset,7),val<72057594037927940){var hi=Math.floor(val*(1/4294967296));buf.writeUInt8(hi>>>16,offset),buf.writeUInt16BE(65535&hi,offset+1),buf.writeInt32BE(-1&val,offset+3)}else buf[offset]=255,buf[offset+1]=255,buf[offset+2]=255,buf[offset+3]=255,buf[offset+4]=255,buf[offset+5]=255,buf[offset+6]=255},module.exports.readUInt64BE=function(buf,offset){return 4294967296*buf.readUInt32BE(offset)+buf.readUInt32BE(offset+4)},module.exports.writeUInt64BE=function(buf,val,offset){val=check_value(val,0,0x10000000000000000),check_bounds(buf,offset,8),val<0x10000000000000000?(buf.writeUInt32BE(Math.floor(val*(1/4294967296)),offset),buf.writeInt32BE(-1&val,offset+4)):(buf[offset]=255,buf[offset+1]=255,buf[offset+2]=255,buf[offset+3]=255,buf[offset+4]=255,buf[offset+5]=255,buf[offset+6]=255,buf[offset+7]=255)},module.exports.readUInt24LE=function(buf,offset){return buf.readUInt8(offset+2)<<16|buf.readUInt16LE(offset)},module.exports.writeUInt24LE=function(buf,val,offset){val=check_value(val,0,16777215),check_bounds(buf,offset,3),buf.writeUInt16LE(65535&val,offset),buf.writeUInt8(val>>>16,offset+2)},module.exports.readUInt40LE=function(buf,offset){return 4294967296*(buf.readUInt8(offset+4)||0)+buf.readUInt32LE(offset)},module.exports.writeUInt40LE=function(buf,val,offset){val=check_value(val,0,0xffffffffff),check_bounds(buf,offset,5),buf.writeInt32LE(-1&val,offset),buf.writeUInt8(Math.floor(val*(1/4294967296)),offset+4)},module.exports.readUInt48LE=function(buf,offset){return 4294967296*buf.readUInt16LE(offset+4)+buf.readUInt32LE(offset)},module.exports.writeUInt48LE=function(buf,val,offset){val=check_value(val,0,0xffffffffffff),check_bounds(buf,offset,6),buf.writeInt32LE(-1&val,offset),buf.writeUInt16LE(Math.floor(val*(1/4294967296)),offset+4)},module.exports.readUInt56LE=function(buf,offset){return 4294967296*((buf.readUInt8(offset+6)||0)<<16|buf.readUInt16LE(offset+4))+buf.readUInt32LE(offset)},module.exports.writeUInt56LE=function(buf,val,offset){if(val=check_value(val,0,72057594037927940),check_bounds(buf,offset,7),val<72057594037927940){buf.writeInt32LE(-1&val,offset);var hi=Math.floor(val*(1/4294967296));buf.writeUInt16LE(65535&hi,offset+4),buf.writeUInt8(hi>>>16,offset+6)}else buf[offset]=255,buf[offset+1]=255,buf[offset+2]=255,buf[offset+3]=255,buf[offset+4]=255,buf[offset+5]=255,buf[offset+6]=255},module.exports.readUInt64LE=function(buf,offset){return 4294967296*buf.readUInt32LE(offset+4)+buf.readUInt32LE(offset)},module.exports.writeUInt64LE=function(buf,val,offset){val=check_value(val,0,0x10000000000000000),check_bounds(buf,offset,8),val<0x10000000000000000?(buf.writeInt32LE(-1&val,offset),buf.writeUInt32LE(Math.floor(val*(1/4294967296)),offset+4)):(buf[offset]=255,buf[offset+1]=255,buf[offset+2]=255,buf[offset+3]=255,buf[offset+4]=255,buf[offset+5]=255,buf[offset+6]=255,buf[offset+7]=255)},module.exports.readInt24BE=function(buf,offset){return(buf.readInt8(offset)<<16)+buf.readUInt16BE(offset+1)},module.exports.writeInt24BE=function(buf,val,offset){val=check_value(val,-8388608,8388607),check_bounds(buf,offset,3),buf.writeInt8(val>>16,offset),buf.writeUInt16BE(65535&val,offset+1)},module.exports.readInt40BE=function(buf,offset){return 4294967296*(buf.readInt8(offset)||0)+buf.readUInt32BE(offset+1)},module.exports.writeInt40BE=function(buf,val,offset){val=check_value(val,-549755813888,549755813887),check_bounds(buf,offset,5),buf.writeInt8(Math.floor(val*(1/4294967296)),offset),buf.writeInt32BE(-1&val,offset+1)},module.exports.readInt48BE=function(buf,offset){return 4294967296*buf.readInt16BE(offset)+buf.readUInt32BE(offset+2)},module.exports.writeInt48BE=function(buf,val,offset){val=check_value(val,-0x800000000000,0x7fffffffffff),check_bounds(buf,offset,6),buf.writeInt16BE(Math.floor(val*(1/4294967296)),offset),buf.writeInt32BE(-1&val,offset+2)},module.exports.readInt56BE=function(buf,offset){return 4294967296*(((buf.readInt8(offset)||0)<<16)+buf.readUInt16BE(offset+1))+buf.readUInt32BE(offset+3)},module.exports.writeInt56BE=function(buf,val,offset){if(val=check_value(val,-0x800000000000000,0x80000000000000),check_bounds(buf,offset,7),val<0x80000000000000){var hi=Math.floor(val*(1/4294967296));buf.writeInt8(hi>>16,offset),buf.writeUInt16BE(65535&hi,offset+1),buf.writeInt32BE(-1&val,offset+3)}else buf[offset]=127,buf[offset+1]=255,buf[offset+2]=255,buf[offset+3]=255,buf[offset+4]=255,buf[offset+5]=255,buf[offset+6]=255},module.exports.readInt64BE=function(buf,offset){return 4294967296*buf.readInt32BE(offset)+buf.readUInt32BE(offset+4)},module.exports.writeInt64BE=function(buf,val,offset){val=check_value(val,-23611832414348226e5,0x8000000000000000),check_bounds(buf,offset,8),val<0x8000000000000000?(buf.writeInt32BE(Math.floor(val*(1/4294967296)),offset),buf.writeInt32BE(-1&val,offset+4)):(buf[offset]=127,buf[offset+1]=255,buf[offset+2]=255,buf[offset+3]=255,buf[offset+4]=255,buf[offset+5]=255,buf[offset+6]=255,buf[offset+7]=255)},module.exports.readInt24LE=function(buf,offset){return(buf.readInt8(offset+2)<<16)+buf.readUInt16LE(offset)},module.exports.writeInt24LE=function(buf,val,offset){val=check_value(val,-8388608,8388607),check_bounds(buf,offset,3),buf.writeUInt16LE(65535&val,offset),buf.writeInt8(val>>16,offset+2)},module.exports.readInt40LE=function(buf,offset){return 4294967296*(buf.readInt8(offset+4)||0)+buf.readUInt32LE(offset)},module.exports.writeInt40LE=function(buf,val,offset){val=check_value(val,-549755813888,549755813887),check_bounds(buf,offset,5),buf.writeInt32LE(-1&val,offset),buf.writeInt8(Math.floor(val*(1/4294967296)),offset+4)},module.exports.readInt48LE=function(buf,offset){return 4294967296*buf.readInt16LE(offset+4)+buf.readUInt32LE(offset)},module.exports.writeInt48LE=function(buf,val,offset){val=check_value(val,-0x800000000000,0x7fffffffffff),check_bounds(buf,offset,6),buf.writeInt32LE(-1&val,offset),buf.writeInt16LE(Math.floor(val*(1/4294967296)),offset+4)},module.exports.readInt56LE=function(buf,offset){return 4294967296*(((buf.readInt8(offset+6)||0)<<16)+buf.readUInt16LE(offset+4))+buf.readUInt32LE(offset)},module.exports.writeInt56LE=function(buf,val,offset){if(val=check_value(val,-0x80000000000000,0x80000000000000),check_bounds(buf,offset,7),val<0x80000000000000){buf.writeInt32LE(-1&val,offset);var hi=Math.floor(val*(1/4294967296));buf.writeUInt16LE(65535&hi,offset+4),buf.writeInt8(hi>>16,offset+6)}else buf[offset]=255,buf[offset+1]=255,buf[offset+2]=255,buf[offset+3]=255,buf[offset+4]=255,buf[offset+5]=255,buf[offset+6]=127},module.exports.readInt64LE=function(buf,offset){return 4294967296*buf.readInt32LE(offset+4)+buf.readUInt32LE(offset)},module.exports.writeInt64LE=function(buf,val,offset){val=check_value(val,-0x8000000000000000,0x8000000000000000),check_bounds(buf,offset,8),val<0x8000000000000000?(buf.writeInt32LE(-1&val,offset),buf.writeInt32LE(Math.floor(val*(1/4294967296)),offset+4)):(buf[offset]=255,buf[offset+1]=255,buf[offset+2]=255,buf[offset+3]=255,buf[offset+4]=255,buf[offset+5]=255,buf[offset+6]=255,buf[offset+7]=127)}},function(module,exports){module.exports=require("assert")},function(module,exports,__webpack_require__){function trimStack(stack,num){return stack&&stack.split("\n").slice(num).join("\n")}function IllegalOperationError(msg,stack){var tmp=new Error;this.message=msg,this.stack=this.toString()+"\n"+trimStack(tmp.stack,2),this.stackAtStateChange=stack}(0,__webpack_require__(0).inherits)(IllegalOperationError,Error),IllegalOperationError.prototype.name="IllegalOperationError",module.exports.IllegalOperationError=IllegalOperationError,module.exports.stackCapture=function(reason){return"Stack capture: "+reason+"\n"+trimStack((new Error).stack,2)}},function(module,exports,__webpack_require__){"use strict";function parseContent(message){let res,parsedMessage=message;Buffer.isBuffer(parsedMessage)&&(parsedMessage=parsedMessage.toString("utf-8"));try{res=JSON.parse(parsedMessage)}catch(ex){res=parsedMessage}return res}function encapsulateContent(content){let encapsulatedContent;try{encapsulatedContent=JSON.stringify(content)}catch(ex){encapsulatedContent=content.toString()}return encapsulatedContent}Object.defineProperty(exports,"__esModule",{value:!0}),exports.encapsulateContent=exports.parseContent=void 0,exports.parseContent=parseContent,exports.encapsulateContent=encapsulateContent,exports.default={parseContent:parseContent,encapsulateContent:encapsulateContent}},function(module,exports,__webpack_require__){"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports={nextTick:function(fn,arg1,arg2,arg3){if("function"!=typeof fn)throw new TypeError('"callback" argument must be a function');var args,i,len=arguments.length;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick((function(){fn.call(null,arg1)}));case 3:return process.nextTick((function(){fn.call(null,arg1,arg2)}));case 4:return process.nextTick((function(){fn.call(null,arg1,arg2,arg3)}));default:for(args=new Array(len-1),i=0;i<args.length;)args[i++]=arguments[i];return process.nextTick((function(){fn.apply(null,args)}))}}}:module.exports=process},function(module,exports,__webpack_require__){var wrappy=__webpack_require__(111);function once(fn){var f=function(){return f.called?f.value:(f.called=!0,f.value=fn.apply(this,arguments))};return f.called=!1,f}function onceStrict(fn){var f=function(){if(f.called)throw new Error(f.onceError);return f.called=!0,f.value=fn.apply(this,arguments)},name=fn.name||"Function wrapped with `once`";return f.onceError=name+" shouldn't be called more than once",f.called=!1,f}module.exports=wrappy(once),module.exports.strict=wrappy(onceStrict),once.proto=once((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:!0})}))},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports){module.exports=require("http")},function(module,exports,__webpack_require__){var buffer=__webpack_require__(12),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(103)()?Object.setPrototypeOf:__webpack_require__(104)},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(252)()?globalThis:__webpack_require__(253)},function(module,exports,__webpack_require__){"use strict";var objToString=Object.prototype.toString,id=objToString.call(function(){return arguments}());module.exports=function(value){return objToString.call(value)===id}},function(module,exports,__webpack_require__){"use strict";var objToString=Object.prototype.toString,id=objToString.call("");module.exports=function(value){return"string"==typeof value||value&&"object"==typeof value&&(value instanceof String||objToString.call(value)===id)||!1}},function(module,exports,__webpack_require__){var once=__webpack_require__(34),noop=function(){},eos=function(stream,opts,callback){if("function"==typeof opts)return eos(stream,null,opts);opts||(opts={}),callback=once(callback||noop);var ws=stream._writableState,rs=stream._readableState,readable=opts.readable||!1!==opts.readable&&stream.readable,writable=opts.writable||!1!==opts.writable&&stream.writable,cancelled=!1,onlegacyfinish=function(){stream.writable||onfinish()},onfinish=function(){writable=!1,readable||callback.call(stream)},onend=function(){readable=!1,writable||callback.call(stream)},onexit=function(exitCode){callback.call(stream,exitCode?new Error("exited with error code: "+exitCode):null)},onerror=function(err){callback.call(stream,err)},onclose=function(){process.nextTick(onclosenexttick)},onclosenexttick=function(){if(!cancelled)return(!readable||rs&&rs.ended&&!rs.destroyed)&&(!writable||ws&&ws.ended&&!ws.destroyed)?void 0:callback.call(stream,new Error("premature close"))},onrequest=function(){stream.req.on("finish",onfinish)};return!function(stream){return stream.setHeader&&"function"==typeof stream.abort}(stream)?writable&&!ws&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)):(stream.on("complete",onfinish),stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)),function(stream){return stream.stdio&&Array.isArray(stream.stdio)&&3===stream.stdio.length}(stream)&&stream.on("exit",onexit),stream.on("end",onend),stream.on("finish",onfinish),!1!==opts.error&&stream.on("error",onerror),stream.on("close",onclose),function(){cancelled=!0,stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("exit",onexit),stream.removeListener("end",onend),stream.removeListener("error",onerror),stream.removeListener("close",onclose)}};module.exports=eos},function(module,exports,__webpack_require__){"use strict";const safeBuffer=__webpack_require__(26),Limiter=__webpack_require__(293),zlib=__webpack_require__(90),bufferUtil=__webpack_require__(62),Buffer=safeBuffer.Buffer,TRAILER=Buffer.from([0,0,255,255]),EMPTY_BLOCK=Buffer.from([0]),kWriteInProgress=Symbol("write-in-progress"),kPendingClose=Symbol("pending-close"),kTotalLength=Symbol("total-length"),kCallback=Symbol("callback"),kBuffers=Symbol("buffers"),kError=Symbol("error"),kOwner=Symbol("owner");let zlibLimiter;function deflateOnData(chunk){this[kBuffers].push(chunk),this[kTotalLength]+=chunk.length}function inflateOnData(chunk){this[kTotalLength]+=chunk.length,this[kOwner]._maxPayload<1||this[kTotalLength]<=this[kOwner]._maxPayload?this[kBuffers].push(chunk):(this[kError]=new Error("max payload size exceeded"),this[kError].closeCode=1009,this.removeListener("data",inflateOnData),this.reset())}function inflateOnError(err){this[kOwner]._inflate=null,this[kCallback](err)}module.exports=class{constructor(options,isServer,maxPayload){if(this._maxPayload=0|maxPayload,this._options=options||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!isServer,this._deflate=null,this._inflate=null,this.params=null,!zlibLimiter){const concurrency=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;zlibLimiter=new Limiter({concurrency:concurrency})}}static get extensionName(){return"permessage-deflate"}offer(){const params={};return this._options.serverNoContextTakeover&&(params.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(params.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(params.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?params.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(params.client_max_window_bits=!0),params}accept(paramsList){var params;return paramsList=this.normalizeParams(paramsList),params=this._isServer?this.acceptAsServer(paramsList):this.acceptAsClient(paramsList),this.params=params,params}cleanup(){this._inflate&&(this._inflate[kWriteInProgress]?this._inflate[kPendingClose]=!0:(this._inflate.close(),this._inflate=null)),this._deflate&&(this._deflate[kWriteInProgress]?this._deflate[kPendingClose]=!0:(this._deflate.close(),this._deflate=null))}acceptAsServer(paramsList){const accepted={};if(!paramsList.some(params=>{if(!(!1===this._options.serverNoContextTakeover&&params.server_no_context_takeover||!1===this._options.serverMaxWindowBits&&params.server_max_window_bits||"number"==typeof this._options.serverMaxWindowBits&&"number"==typeof params.server_max_window_bits&&this._options.serverMaxWindowBits>params.server_max_window_bits||"number"==typeof this._options.clientMaxWindowBits&&!params.client_max_window_bits))return(this._options.serverNoContextTakeover||params.server_no_context_takeover)&&(accepted.server_no_context_takeover=!0),(this._options.clientNoContextTakeover||!1!==this._options.clientNoContextTakeover&&params.client_no_context_takeover)&&(accepted.client_no_context_takeover=!0),"number"==typeof this._options.serverMaxWindowBits?accepted.server_max_window_bits=this._options.serverMaxWindowBits:"number"==typeof params.server_max_window_bits&&(accepted.server_max_window_bits=params.server_max_window_bits),"number"==typeof this._options.clientMaxWindowBits?accepted.client_max_window_bits=this._options.clientMaxWindowBits:!1!==this._options.clientMaxWindowBits&&"number"==typeof params.client_max_window_bits&&(accepted.client_max_window_bits=params.client_max_window_bits),!0}))throw new Error("Doesn't support the offered configuration");return accepted}acceptAsClient(paramsList){const params=paramsList[0];if(!1===this._options.clientNoContextTakeover&&params.client_no_context_takeover)throw new Error('Invalid value for "client_no_context_takeover"');if("number"==typeof this._options.clientMaxWindowBits&&(!params.client_max_window_bits||params.client_max_window_bits>this._options.clientMaxWindowBits)||!1===this._options.clientMaxWindowBits&&params.client_max_window_bits)throw new Error('Invalid value for "client_max_window_bits"');return params}normalizeParams(paramsList){return paramsList.map(params=>(Object.keys(params).forEach(key=>{var value=params[key];if(value.length>1)throw new Error("Multiple extension parameters for "+key);switch(value=value[0],key){case"server_no_context_takeover":case"client_no_context_takeover":if(!0!==value)throw new Error(`invalid extension parameter value for ${key} (${value})`);params[key]=!0;break;case"server_max_window_bits":case"client_max_window_bits":if("string"==typeof value&&(value=parseInt(value,10),Number.isNaN(value)||value<zlib.Z_MIN_WINDOWBITS||value>zlib.Z_MAX_WINDOWBITS))throw new Error(`invalid extension parameter value for ${key} (${value})`);if(!this._isServer&&!0===value)throw new Error("Missing extension parameter value for "+key);params[key]=value;break;default:throw new Error(`Not defined extension parameter (${key})`)}}),params))}decompress(data,fin,callback){zlibLimiter.push(done=>{this._decompress(data,fin,(err,result)=>{done(),callback(err,result)})})}compress(data,fin,callback){zlibLimiter.push(done=>{this._compress(data,fin,(err,result)=>{done(),callback(err,result)})})}_decompress(data,fin,callback){const endpoint=this._isServer?"client":"server";if(!this._inflate){const key=endpoint+"_max_window_bits",windowBits="number"!=typeof this.params[key]?zlib.Z_DEFAULT_WINDOWBITS:this.params[key];this._inflate=zlib.createInflateRaw({windowBits:windowBits}),this._inflate[kTotalLength]=0,this._inflate[kBuffers]=[],this._inflate[kOwner]=this,this._inflate.on("error",inflateOnError),this._inflate.on("data",inflateOnData)}this._inflate[kCallback]=callback,this._inflate[kWriteInProgress]=!0,this._inflate.write(data),fin&&this._inflate.write(TRAILER),this._inflate.flush(()=>{const err=this._inflate[kError];if(err)return this._inflate.close(),this._inflate=null,void callback(err);const data=bufferUtil.concat(this._inflate[kBuffers],this._inflate[kTotalLength]);fin&&this.params[endpoint+"_no_context_takeover"]||this._inflate[kPendingClose]?(this._inflate.close(),this._inflate=null):(this._inflate[kWriteInProgress]=!1,this._inflate[kTotalLength]=0,this._inflate[kBuffers]=[]),callback(null,data)})}_compress(data,fin,callback){if(!data||0===data.length)return void process.nextTick(callback,null,EMPTY_BLOCK);const endpoint=this._isServer?"server":"client";if(!this._deflate){const key=endpoint+"_max_window_bits",windowBits="number"!=typeof this.params[key]?zlib.Z_DEFAULT_WINDOWBITS:this.params[key];this._deflate=zlib.createDeflateRaw({memLevel:this._options.memLevel,level:this._options.level,flush:zlib.Z_SYNC_FLUSH,windowBits:windowBits}),this._deflate[kTotalLength]=0,this._deflate[kBuffers]=[],this._deflate.on("data",deflateOnData)}this._deflate[kWriteInProgress]=!0,this._deflate.write(data),this._deflate.flush(zlib.Z_SYNC_FLUSH,()=>{var data=bufferUtil.concat(this._deflate[kBuffers],this._deflate[kTotalLength]);fin&&(data=data.slice(0,data.length-4)),fin&&this.params[endpoint+"_no_context_takeover"]||this._deflate[kPendingClose]?(this._deflate.close(),this._deflate=null):(this._deflate[kWriteInProgress]=!1,this._deflate[kTotalLength]=0,this._deflate[kBuffers]=[]),callback(null,data)})}}},function(module,exports,__webpack_require__){"use strict";const Buffer=__webpack_require__(26).Buffer;exports.BINARY_TYPES=["nodebuffer","arraybuffer","fragments"],exports.GUID="258EAFA5-E914-47DA-95CA-C5AB0DC85B11",exports.EMPTY_BUFFER=Buffer.alloc(0),exports.NOOP=()=>{}},function(module,exports,__webpack_require__){"use strict";var ast=__webpack_require__(144),parser=__webpack_require__(145);function parse_pattern(string){for(var segments=parser.parse(string),i=0,len=segments.length;i<len;i++){var s=segments[i];if(null!=s.string)segments[i]=ast.string(s.string);else if(null!=s.value)segments[i]=ast.value(s.value,s.size,s.specifiers);else{if(null==s.name)throw"Unknown segment "+s;segments[i]=ast.variable(s.name,s.size,s.specifiers)}}return segments}module.exports.parse=function(){var str=[].join.call(arguments,",");return parse_pattern(str)}},function(module,exports){module.exports=require("tty")},function(module,exports){module.exports=require("net")},function(module,exports,__webpack_require__){"use strict";var ints=__webpack_require__(29),Buffer=__webpack_require__(72).Buffer;function write(buf,offset,pattern,bindings){for(var i=0,len=pattern.length;i<len;i++){var segment=pattern[i];switch(segment.type){case"string":offset+=buf.write(segment.value,offset,"utf8");break;case"binary":offset+=writeBinary(segment,buf,offset,bindings);break;case"integer":offset+=writeInteger(segment,buf,offset,bindings);break;case"float":offset+=writeFloat(segment,buf,offset,bindings)}}return offset}function build(pattern,bindings){var bufsize=function(segments,bindings){for(var size=0,i=0,len=segments.length;i<len;i++)size+=size_of_segment(segments[i],bindings);return size}(pattern,bindings),buf=Buffer.alloc(bufsize);return write(buf,0,pattern,bindings),buf}function size_of_segment(segment,bindings){return"string"==typeof segment.size?bindings[segment.size]*segment.unit/8:"string"===segment.type?Buffer.byteLength(segment.value,"utf8"):"binary"===segment.type&&!0===segment.size?bindings[segment.name].length:segment.size*segment.unit/8}function writeBinary(segment,buf,offset,bindings){var bin=bindings[segment.name],size=size_of_segment(segment,bindings);return bin.copy(buf,offset,0,size),size}function writeInteger(segment,buf,offset,bindings){return write_int(buf,segment.name?bindings[segment.name]:segment.value,offset,size_of_segment(segment,bindings),segment.bigendian)}function write_int(buf,value,offset,size,bigendian){switch(size){case 1:buf.writeUInt8(value,offset);break;case 2:bigendian?buf.writeUInt16BE(value,offset):buf.writeUInt16LE(value,offset);break;case 4:bigendian?buf.writeUInt32BE(value,offset):buf.writeUInt32LE(value,offset);break;case 8:bigendian?ints.writeUInt64BE(buf,value,offset):ints.writeUInt64LE(buf,value,offset);break;default:throw new Error("integer size * unit must be 8, 16, 32 or 64")}return size}function writeFloat(segment,buf,offset,bindings){return write_float(buf,segment.name?bindings[segment.name]:segment.value,offset,size_of_segment(segment,bindings),segment.bigendian)}function write_float(buf,value,offset,size,bigendian){if(4===size)bigendian?buf.writeFloatBE(value,offset):buf.writeFloatLE(value,offset);else{if(8!==size)throw new Error("float size * unit must be 32 or 64");bigendian?buf.writeDoubleBE(value,offset):buf.writeDoubleLE(value,offset)}return size}var parse=__webpack_require__(45).parse;module.exports.write=write,module.exports.build=build,module.exports.write_int=write_int,module.exports.write_float=write_float,module.exports.builder=function(pstr){pstr=arguments.length>1?[].join.call(arguments,","):pstr;var pattern=parse(pstr);return function(vars){return build(pattern,vars)}}},function(module,exports,__webpack_require__){(function(module){var argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",setTag="[object Set]",reFlags=/\w*$/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,cloneableTags={};cloneableTags[argsTag]=cloneableTags["[object Array]"]=cloneableTags["[object ArrayBuffer]"]=cloneableTags["[object DataView]"]=cloneableTags["[object Boolean]"]=cloneableTags["[object Date]"]=cloneableTags["[object Float32Array]"]=cloneableTags["[object Float64Array]"]=cloneableTags["[object Int8Array]"]=cloneableTags["[object Int16Array]"]=cloneableTags["[object Int32Array]"]=cloneableTags[mapTag]=cloneableTags["[object Number]"]=cloneableTags["[object Object]"]=cloneableTags["[object RegExp]"]=cloneableTags[setTag]=cloneableTags["[object String]"]=cloneableTags["[object Symbol]"]=cloneableTags["[object Uint8Array]"]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags["[object Uint16Array]"]=cloneableTags["[object Uint32Array]"]=!0,cloneableTags["[object Error]"]=cloneableTags[funcTag]=cloneableTags["[object WeakMap]"]=!1;var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports;function addMapEntry(map,pair){return map.set(pair[0],pair[1]),map}function addSetEntry(set,value){return set.add(value),set}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array?array.length:0;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}var uid,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=overArg(Object.keys,Object),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function Stack(entries){this.__data__=new ListCache(entries)}function arrayLikeKeys(value,inherited){var result=isArray(value)||function(value){return function(value){return function(value){return!!value&&"object"==typeof value}(value)&&isArrayLike(value)}(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}(value)?function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||(object[key]=value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseClone(value,isDeep,isFull,customizer,key,object,stack){var result;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=function(array){var length=array.length,result=array.constructor(length);length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input);return result}(value),!isDeep)return function(source,array){var index=-1,length=source.length;array||(array=Array(length));for(;++index<length;)array[index]=source[index];return array}(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return function(buffer,isDeep){if(isDeep)return buffer.slice();var result=new buffer.constructor(buffer.length);return buffer.copy(result),result}(value,isDeep);if("[object Object]"==tag||tag==argsTag||isFunc&&!object){if(isHostObject(value))return object?value:{};if(result=function(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:(proto=getPrototype(object),isObject(proto)?objectCreate(proto):{});var proto}(isFunc?{}:value),!isDeep)return function(source,object){return copyObject(source,getSymbols(source),object)}(value,function(object,source){return object&&copyObject(source,keys(source),object)}(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=function(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case"[object ArrayBuffer]":return cloneArrayBuffer(object);case"[object Boolean]":case"[object Date]":return new Ctor(+object);case"[object DataView]":return function(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}(object,isDeep);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}(object,isDeep);case mapTag:return function(map,isDeep,cloneFunc){return arrayReduce(isDeep?cloneFunc(mapToArray(map),!0):mapToArray(map),addMapEntry,new map.constructor)}(object,isDeep,cloneFunc);case"[object Number]":case"[object String]":return new Ctor(object);case"[object RegExp]":return function(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}(object);case setTag:return function(set,isDeep,cloneFunc){return arrayReduce(isDeep?cloneFunc(setToArray(set),!0):setToArray(set),addSetEntry,new set.constructor)}(object,isDeep,cloneFunc);case"[object Symbol]":return symbol=object,symbolValueOf?Object(symbolValueOf.call(symbol)):{}}var symbol}(value,tag,baseClone,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;if(stack.set(value,result),!isArr)var props=isFull?function(object){return function(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:function(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}(result,symbolsFunc(object))}(object,keys,getSymbols)}(value):keys(value);return function(array,iteratee){for(var index=-1,length=array?array.length:0;++index<length&&!1!==iteratee(array[index],index,array););}(props||value,(function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,isDeep,isFull,customizer,key,value,stack))})),result}function baseIsNative(value){return!(!isObject(value)||(func=value,maskSrcKey&&maskSrcKey in func))&&(isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor).test(toSource(value));var func}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function copyObject(source,props,object,customizer){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;assignValue(object,key,void 0===newValue?source[key]:newValue)}return object}function getMapData(map,key){var value,type,data=map.__data__;return("string"==(type=typeof(value=key))||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=function(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}Hash.prototype.clear=function(){this.__data__=nativeCreate?nativeCreate(null):{}},Hash.prototype.delete=function(key){return this.has(key)&&delete this.__data__[key]},Hash.prototype.get=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function(key,value){return this.__data__[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this},ListCache.prototype.clear=function(){this.__data__=[]},ListCache.prototype.delete=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),!0)},ListCache.prototype.get=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this},MapCache.prototype.clear=function(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function(key){return getMapData(this,key).delete(key)},MapCache.prototype.get=function(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function(key,value){return getMapData(this,key).set(key,value),this},Stack.prototype.clear=function(){this.__data__=new ListCache},Stack.prototype.delete=function(key){return this.__data__.delete(key)},Stack.prototype.get=function(key){return this.__data__.get(key)},Stack.prototype.has=function(key){return this.__data__.has(key)},Stack.prototype.set=function(key,value){var cache=this.__data__;if(cache instanceof ListCache){var pairs=cache.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this;cache=this.__data__=new MapCache(pairs)}return cache.set(key,value),this};var getSymbols=nativeGetSymbols?overArg(nativeGetSymbols,Object):function(){return[]},getTag=function(value){return objectToString.call(value)};function isIndex(value,length){return!!(length=null==length?9007199254740991:length)&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!=value&&other!=other}(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=objectToString.call(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return"[object WeakMap]"}return result});var isArray=Array.isArray;function isArrayLike(value){return null!=value&&function(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}(value.length)&&!isFunction(value)}var isBuffer=nativeIsBuffer||function(){return!1};function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):function(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}(object)}module.exports=function(value){return baseClone(value,!0,!0)}}).call(this,__webpack_require__(35)(module))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(11),axios_1=tslib_1.__importDefault(__webpack_require__(195)),events_1=__webpack_require__(5),fs_1=tslib_1.__importDefault(__webpack_require__(4)),humps_1=__webpack_require__(218),url_join_1=tslib_1.__importDefault(__webpack_require__(219)),util_1=__webpack_require__(0),uuid_v4_1=tslib_1.__importDefault(__webpack_require__(220));let SpaceBunny=(()=>{class SpaceBunny extends events_1.EventEmitter{constructor(opts={}){super(),this.autoReconnect=!0,this.reconnectTimeout=5e3,this.verbose=!0,this.getEndpointConfigs=()=>tslib_1.__awaiter(this,void 0,void 0,(function*(){if(Object.keys(this.endpointConfigs).length>0)return this.endpointConfigs;try{if(!(this.deviceId&&this.secret||this.deviceKey)){if(this.client&&this.secret){if(this.host&&this.port&&this.vhost)return this.connectionParams.protocols={},this.tls?this.connectionParams.protocols[this.protocol]={tlsPort:this.port}:this.connectionParams.protocols[this.protocol]={port:this.port},this.endpointConfigs={connection:this.connectionParams,liveStreams:[]},this.manualConfigurations=!0,this.endpointConfigs;const hostname=this.generateHostname(),options={url:url_join_1.default(hostname,this.endpoint.liveStreamKeyConfigurationsPath),method:"GET",responseType:"json",headers:{"Live-Stream-Key-Client":this.client,"Live-Stream-Key-Secret":this.secret,"Content-Type":"application/json"}},response=yield axios_1.default(options);return this.endpointConfigs=humps_1.camelizeKeys(response.data),this.connectionParams=this.endpointConfigs.connection||{},this.liveStreams=this.endpointConfigs.liveStreams||[],this.endpointConfigs}throw new Error("Missing Device Key or wrong connection parameters")}{const hostname=this.generateHostname(),uri=url_join_1.default(hostname,this.endpoint.deviceConfigurationsPath);if(this.deviceKey){const options={url:uri,method:"GET",responseType:"json",headers:{"Device-Key":this.deviceKey,"Content-Type":"application/json"}},response=yield axios_1.default(options);return this.endpointConfigs=humps_1.camelizeKeys(response.data),this.connectionParams=this.endpointConfigs.connection||{},this.channels=this.endpointConfigs.channels||[],this.endpointConfigs}if(this.deviceId&&this.secret&&this.host&&this.port&&this.vhost)return this.connectionParams.protocols={},this.tls?this.connectionParams.protocols[this.protocol]={tlsPort:this.port}:this.connectionParams.protocols[this.protocol]={port:this.port},this.endpointConfigs={connection:this.connectionParams,channels:[]},this.manualConfigurations=!0,this.endpointConfigs}}catch(error){throw this.log("error","Error getting endpoint configurations."),new Error(error.message)}return{}})),this.getClassName=()=>this.constructor.name,this.log=(level,message,...meta)=>{const prefixedMessage=`${this.getClassName()} - ${message}`;this.verbose&&this.emit("log",Object.assign({level:level,message:prefixedMessage},meta))},this.isConnected=()=>!1,this.isStreamClient=()=>this.getClassName().includes("Stream"),this.getChannels=()=>this.channels||this.endpointConfigs.channels||[],this.getDeviceId=()=>this.deviceId||this.connectionParams.deviceId,this.getClient=()=>this.client,this.getInboxTopic=()=>this.inboxTopic,this.liveStreamByName=streamName=>{const liveStreams=this.liveStreams.filter(stream=>stream.name===streamName);return liveStreams.length>0&&liveStreams[0].name||streamName},this.liveStreamExists=streamName=>{if(this.manualConfigurations)return!0;if(util_1.isNullOrUndefined(streamName)||0===streamName.length)return!1;return this.liveStreams.filter(stream=>stream.name===streamName).length>0},this.tempQueue=(prefix,suffix,currentTime)=>{const timestamp=currentTime||(new Date).getTime(),deviceId=this.connectionParams.client||this.connectionParams.deviceId;return`${uuid_v4_1.default()}-${timestamp}-${deviceId}-`+this.exchangeName(prefix,suffix)+"."+this.tempQueueSuffix},this.exchangeName=(prefix,suffix)=>prefix.length>0&&suffix.length>0?`${this.liveStreamByName(prefix)}.${suffix}`:""+suffix,this.generateHostname=()=>{if(this.endpoint.url)return this.endpoint.url;const port=this.tls?this.endpoint.securePort:this.endpoint.port;let hostname=`${this.endpoint.host}:${port}`;const protocol=this.tls?this.endpoint.secureProtocol:this.endpoint.protocol;return hostname.startsWith(protocol)||(hostname=`${protocol}://${hostname}`),hostname},this.loadCachedMessages=()=>{let cachedMessages=[];this.cachedMessagesPath&&fs_1.default.existsSync(this.cachedMessagesPath)&&(cachedMessages=JSON.parse(fs_1.default.readFileSync(this.cachedMessagesPath,{encoding:"utf-8"}))),this.cachedMessages=cachedMessages||[]},this.writeCachedMessagesFile=()=>{try{fs_1.default.writeFileSync(this.cachedMessagesPath,JSON.stringify(this.cachedMessages,null,2)),this.log("silly","Cached messages written to: "+this.cachedMessagesPath)}catch(error){this.log("error","Error writing cached messages"),this.log("error",error)}},this.cacheMessage=(channel,message,options)=>{const messageToCache={channel:channel,message:message,options:options};this.cachedMessages.includes(messageToCache)||(this.cachedMessages.length>=this.cacheSize&&(this.log("debug","Message cache full, removing eldest message"),this.cachedMessages.shift()),this.log("warn","Caching message.."),this.log("silly","Message cached:",messageToCache),this.cachedMessages.push(messageToCache),this.writeCachedMessagesFile())},this.connectionParams=humps_1.camelizeKeys(opts);const{endpoint:endpoint,deviceKey:deviceKey,channels:channels,deviceId:deviceId,client:client,secret:secret,host:host,port:port,vhost:vhost,inboxTopic:inboxTopic,tls:tls,verbose:verbose,autoReconnect:autoReconnect,heartbeat:heartbeat,connectionTimeout:connectionTimeout,caching:caching,cacheSize:cacheSize,cachedMessagesPath:cachedMessagesPath}=this.connectionParams;this.endpoint=Object.assign(Object.assign({},{protocol:"http",secureProtocol:"https",host:"api.spacebunny.io",port:80,securePort:443,deviceConfigurationsPath:"device_configurations",liveStreamKeyConfigurationsPath:"live_stream_key_configurations"}),endpoint),this.manualConfigurations=!1,this.deviceKey=deviceKey,this.channels=channels,this.deviceId=deviceId,this.client=client,this.secret=secret,this.host=host,this.port=port,this.vhost=vhost,this.inboxTopic=inboxTopic||"inbox",this.liveStreamSuffix="live_stream",this.tempQueueSuffix="temp",this.liveStreams=[],this.tls=!(!1===tls),this.autoReconnect=!(!1===autoReconnect),this.verbose=!0===verbose,this.heartbeat=heartbeat||SpaceBunny.DEFAULT_HEARTBEAT,this.connectionTimeout=connectionTimeout||SpaceBunny.DEFAULT_CONNECTION_TIMEOUT,this.endpointConfigs={},this.caching=!0===caching,this.cacheSize=cacheSize||SpaceBunny.DEFAULT_CACHE_SIZE,this.cachedMessagesPath=cachedMessagesPath,this.loadCachedMessages()}}return SpaceBunny.DEFAULT_CONNECTION_TIMEOUT=5e3,SpaceBunny.DEFAULT_RECONNECT_TIMEOUT=5e3,SpaceBunny.DEFAULT_HEARTBEAT=60,SpaceBunny.DEFAULT_CACHE_SIZE=100,SpaceBunny})();exports.default=SpaceBunny},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(3);function encode(val){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function(url,params,paramsSerializer){if(!params)return url;var serializedParams;if(paramsSerializer)serializedParams=paramsSerializer(params);else if(utils.isURLSearchParams(params))serializedParams=params.toString();else{var parts=[];utils.forEach(params,(function(val,key){null!=val&&(utils.isArray(val)?key+="[]":val=[val],utils.forEach(val,(function(v){utils.isDate(v)?v=v.toISOString():utils.isObject(v)&&(v=JSON.stringify(v)),parts.push(encode(key)+"="+encode(v))})))})),serializedParams=parts.join("&")}if(serializedParams){var hashmarkIndex=url.indexOf("#");-1!==hashmarkIndex&&(url=url.slice(0,hashmarkIndex)),url+=(-1===url.indexOf("?")?"?":"&")+serializedParams}return url}},function(module,exports,__webpack_require__){"use strict";var enhanceError=__webpack_require__(86);module.exports=function(message,config,code,request,response){var error=new Error(message);return enhanceError(error,config,code,request,response)}},function(module,exports){module.exports=require("https")},function(module,exports){module.exports=require("os")},function(module,exports,__webpack_require__){"use strict";(function(module){var commist,helpMe,MqttClient=__webpack_require__(94),connect=__webpack_require__(291),Store=__webpack_require__(56);module.exports.connect=connect,module.exports.MqttClient=MqttClient,module.exports.Client=MqttClient,module.exports.Store=Store,__webpack_require__.c[__webpack_require__.s]===module&&(commist=__webpack_require__(302)(),helpMe=__webpack_require__(63)(),commist.register("publish",__webpack_require__(330)),commist.register("subscribe",__webpack_require__(337)),commist.register("version",(function(){console.log("MQTT.js version:",__webpack_require__(338).version)})),commist.register("help",helpMe.toStdout),null!==commist.parse(process.argv.slice(2))&&(console.log("No such command:",process.argv[2],"\n"),helpMe.toStdout()))}).call(this,__webpack_require__(35)(module))},function(module,exports,__webpack_require__){"use strict";var xtend=__webpack_require__(21),Readable=__webpack_require__(7).Readable,streamsOpts={objectMode:!0},defaultStoreOptions={clean:!0},Map=__webpack_require__(227);function Store(options){if(!(this instanceof Store))return new Store(options);this.options=options||{},this.options=xtend(defaultStoreOptions,options),this._inflights=new Map}Store.prototype.put=function(packet,cb){return this._inflights.set(packet.messageId,packet),cb&&cb(),this},Store.prototype.createStream=function(){var stream=new Readable(streamsOpts),destroyed=!1,values=[],i=0;return this._inflights.forEach((function(value,key){values.push(value)})),stream._read=function(){!destroyed&&i<values.length?this.push(values[i++]):this.push(null)},stream.destroy=function(){if(!destroyed){var self=this;destroyed=!0,process.nextTick((function(){self.emit("close")}))}},stream},Store.prototype.del=function(packet,cb){return(packet=this._inflights.get(packet.messageId))?(this._inflights.delete(packet.messageId),cb(null,packet)):cb&&cb(new Error("missing packet")),this},Store.prototype.get=function(packet,cb){return(packet=this._inflights.get(packet.messageId))?cb(null,packet):cb&&cb(new Error("missing packet")),this},Store.prototype.close=function(cb){this.options.clean&&(this._inflights=null),cb&&cb()},module.exports=Store},function(module,exports,__webpack_require__){"use strict";var isValue=__webpack_require__(24),possibleTypes={object:!0,function:!0,undefined:!0};module.exports=function(value){return!!isValue(value)&&hasOwnProperty.call(possibleTypes,typeof value)}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(243)()?Object.assign:__webpack_require__(244)},function(module,exports,__webpack_require__){"use strict";var Iterator,clear=__webpack_require__(101),assign=__webpack_require__(58),callable=__webpack_require__(17),value=__webpack_require__(10),d=__webpack_require__(9),autoBind=__webpack_require__(263),Symbol=__webpack_require__(14),defineProperty=Object.defineProperty,defineProperties=Object.defineProperties;module.exports=Iterator=function(list,context){if(!(this instanceof Iterator))throw new TypeError("Constructor requires 'new'");defineProperties(this,{__list__:d("w",value(list)),__context__:d("w",context),__nextIndex__:d("w",0)}),context&&(callable(context.on),context.on("_add",this._onAdd),context.on("_delete",this._onDelete),context.on("_clear",this._onClear))},delete Iterator.prototype.constructor,defineProperties(Iterator.prototype,assign({_next:d((function(){var i;if(this.__list__)return this.__redo__&&void 0!==(i=this.__redo__.shift())?i:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:d((function(){return this._createResult(this._next())})),_createResult:d((function(i){return void 0===i?{done:!0,value:void 0}:{done:!1,value:this._resolve(i)}})),_resolve:d((function(i){return this.__list__[i]})),_unBind:d((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),toString:d((function(){return"[object "+(this[Symbol.toStringTag]||"Object")+"]"}))},autoBind({_onAdd:d((function(index){index>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(redo,i){redo>=index&&(this.__redo__[i]=++redo)}),this),this.__redo__.push(index)):defineProperty(this,"__redo__",d("c",[index])))})),_onDelete:d((function(index){var i;index>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(i=this.__redo__.indexOf(index))&&this.__redo__.splice(i,1),this.__redo__.forEach((function(redo,j){redo>index&&(this.__redo__[j]=--redo)}),this)))})),_onClear:d((function(){this.__redo__&&clear.call(this.__redo__),this.__nextIndex__=0}))}))),defineProperty(Iterator.prototype,Symbol.iterator,d((function(){return this})))},function(module,exports,__webpack_require__){"use strict";var tls=__webpack_require__(76);module.exports=function(mqttClient,opts){var connection;function handleTLSerrors(err){opts.rejectUnauthorized&&mqttClient.emit("error",err),connection.end()}return opts.port=opts.port||8883,opts.host=opts.hostname||opts.host||"localhost",opts.rejectUnauthorized=!1!==opts.rejectUnauthorized,delete opts.path,(connection=tls.connect(opts)).on("secureConnect",(function(){opts.rejectUnauthorized&&!connection.authorized?connection.emit("error",new Error("TLS not authorized")):connection.removeListener("error",handleTLSerrors)})),connection.on("error",handleTLSerrors),connection}},function(module,exports){module.exports=require("crypto")},function(module,exports,__webpack_require__){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */const Buffer=__webpack_require__(26).Buffer,concat=(list,totalLength)=>{const target=Buffer.allocUnsafe(totalLength);for(var offset=0,i=0;i<list.length;i++){const buf=list[i];buf.copy(target,offset),offset+=buf.length}return target};try{const bufferUtil=__webpack_require__(294);module.exports=Object.assign({concat:concat},bufferUtil.BufferUtil||bufferUtil)}catch(e){const mask=(source,mask,output,offset,length)=>{for(var i=0;i<length;i++)output[offset+i]=source[i]^mask[3&i]},unmask=(buffer,mask)=>{const length=buffer.length;for(var i=0;i<length;i++)buffer[i]^=mask[3&i]};module.exports={concat:concat,mask:mask,unmask:unmask}}},function(module,exports,__webpack_require__){"use strict";var fs=__webpack_require__(4),path=__webpack_require__(6),through=__webpack_require__(64),globStream=__webpack_require__(304),concat=__webpack_require__(329),xtend=__webpack_require__(21),defaults={dir:path.join(path.dirname(__webpack_require__.c[__webpack_require__.s].filename),"doc"),ext:".txt",help:"help"};module.exports=function(opts){if(!(opts=xtend(defaults,opts)).dir)throw new Error("missing directory");return{createStream:createStream,toStdout:function toStdout(args){createStream(args).on("error",(function(){console.log("no such help file\n"),toStdout()})).pipe(process.stdout)}};function createStream(args){"string"==typeof args?args=args.split(" "):args&&0!==args.length||(args=[opts.help]);var out=through(),gs=globStream([opts.dir+"/**/*"+opts.ext]),re=new RegExp(args.map((function(arg){return arg+"[a-zA-Z0-9]*"})).join("[ /]+"));return gs.pipe(concat({objectMode:!0},(function(err,files){return err?out.emit("error",err):0===(files=files.map((function(file){return file.relative=file.path.replace(file.base,"").replace(/^\//,""),file})).filter((function(file){return file.relative.match(re)}))).length?out.emit("error",new Error("no such help file")):files.length>1?(out.write("There are "+files.length+" help pages "),out.write("that matches the given request, please disambiguate:\n"),files.forEach((function(file){out.write("  * "),out.write(file.relative.replace(opts.ext,"")),out.write("\n")})),void out.end()):void fs.createReadStream(files[0].path).on("error",(function(err){out.emit("error",err)})).pipe(out)}))),out}}},function(module,exports,__webpack_require__){var Transform=__webpack_require__(7).Transform,inherits=__webpack_require__(0).inherits,xtend=__webpack_require__(21);function DestroyableTransform(opts){Transform.call(this,opts),this._destroyed=!1}function noop(chunk,enc,callback){callback(null,chunk)}function through2(construct){return function(options,transform,flush){return"function"==typeof options&&(flush=transform,transform=options,options={}),"function"!=typeof transform&&(transform=noop),"function"!=typeof flush&&(flush=null),construct(options,transform,flush)}}inherits(DestroyableTransform,Transform),DestroyableTransform.prototype.destroy=function(err){if(!this._destroyed){this._destroyed=!0;var self=this;process.nextTick((function(){err&&self.emit("error",err),self.emit("close")}))}},module.exports=through2((function(options,transform,flush){var t2=new DestroyableTransform(options);return t2._transform=transform,flush&&(t2._flush=flush),t2})),module.exports.ctor=through2((function(options,transform,flush){function Through2(override){if(!(this instanceof Through2))return new Through2(override);this.options=xtend(options,override),DestroyableTransform.call(this,this.options)}return inherits(Through2,DestroyableTransform),Through2.prototype._transform=transform,flush&&(Through2.prototype._flush=flush),Through2})),module.exports.obj=through2((function(options,transform,flush){var t2=new DestroyableTransform(xtend({objectMode:!0,highWaterMark:16},options));return t2._transform=transform,flush&&(t2._flush=flush),t2}))},function(module,exports,__webpack_require__){module.exports=minimatch,minimatch.Minimatch=Minimatch;var path={sep:"/"};try{path=__webpack_require__(6)}catch(er){}var GLOBSTAR=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={},expand=__webpack_require__(313),plTypes={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},reSpecials="().*{}+?[]^$\\!".split("").reduce((function(set,c){return set[c]=!0,set}),{});var slashSplit=/\/+/;function ext(a,b){a=a||{},b=b||{};var t={};return Object.keys(b).forEach((function(k){t[k]=b[k]})),Object.keys(a).forEach((function(k){t[k]=a[k]})),t}function minimatch(p,pattern,options){if("string"!=typeof pattern)throw new TypeError("glob pattern string required");return options||(options={}),!(!options.nocomment&&"#"===pattern.charAt(0))&&(""===pattern.trim()?""===p:new Minimatch(pattern,options).match(p))}function Minimatch(pattern,options){if(!(this instanceof Minimatch))return new Minimatch(pattern,options);if("string"!=typeof pattern)throw new TypeError("glob pattern string required");options||(options={}),pattern=pattern.trim(),"/"!==path.sep&&(pattern=pattern.split(path.sep).join("/")),this.options=options,this.set=[],this.pattern=pattern,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function braceExpand(pattern,options){if(options||(options=this instanceof Minimatch?this.options:{}),void 0===(pattern=void 0===pattern?this.pattern:pattern))throw new TypeError("undefined pattern");return options.nobrace||!pattern.match(/\{.*\}/)?[pattern]:expand(pattern)}minimatch.filter=function(pattern,options){return options=options||{},function(p,i,list){return minimatch(p,pattern,options)}},minimatch.defaults=function(def){if(!def||!Object.keys(def).length)return minimatch;var orig=minimatch,m=function(p,pattern,options){return orig.minimatch(p,pattern,ext(def,options))};return m.Minimatch=function(pattern,options){return new orig.Minimatch(pattern,ext(def,options))},m},Minimatch.defaults=function(def){return def&&Object.keys(def).length?minimatch.defaults(def).Minimatch:Minimatch},Minimatch.prototype.debug=function(){},Minimatch.prototype.make=function(){if(this._made)return;var pattern=this.pattern,options=this.options;if(!options.nocomment&&"#"===pattern.charAt(0))return void(this.comment=!0);if(!pattern)return void(this.empty=!0);this.parseNegate();var set=this.globSet=this.braceExpand();options.debug&&(this.debug=console.error);this.debug(this.pattern,set),set=this.globParts=set.map((function(s){return s.split(slashSplit)})),this.debug(this.pattern,set),set=set.map((function(s,si,set){return s.map(this.parse,this)}),this),this.debug(this.pattern,set),set=set.filter((function(s){return-1===s.indexOf(!1)})),this.debug(this.pattern,set),this.set=set},Minimatch.prototype.parseNegate=function(){var pattern=this.pattern,negate=!1,options=this.options,negateOffset=0;if(options.nonegate)return;for(var i=0,l=pattern.length;i<l&&"!"===pattern.charAt(i);i++)negate=!negate,negateOffset++;negateOffset&&(this.pattern=pattern.substr(negateOffset));this.negate=negate},minimatch.braceExpand=function(pattern,options){return braceExpand(pattern,options)},Minimatch.prototype.braceExpand=braceExpand,Minimatch.prototype.parse=function(pattern,isSub){if(pattern.length>65536)throw new TypeError("pattern is too long");var options=this.options;if(!options.noglobstar&&"**"===pattern)return GLOBSTAR;if(""===pattern)return"";var stateChar,re="",hasMagic=!!options.nocase,escaping=!1,patternListStack=[],negativeLists=[],inClass=!1,reClassStart=-1,classStart=-1,patternStart="."===pattern.charAt(0)?"":options.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",self=this;function clearStateChar(){if(stateChar){switch(stateChar){case"*":re+="[^/]*?",hasMagic=!0;break;case"?":re+="[^/]",hasMagic=!0;break;default:re+="\\"+stateChar}self.debug("clearStateChar %j %j",stateChar,re),stateChar=!1}}for(var c,i=0,len=pattern.length;i<len&&(c=pattern.charAt(i));i++)if(this.debug("%s\t%s %s %j",pattern,i,re,c),escaping&&reSpecials[c])re+="\\"+c,escaping=!1;else switch(c){case"/":return!1;case"\\":clearStateChar(),escaping=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",pattern,i,re,c),inClass){this.debug("  in class"),"!"===c&&i===classStart+1&&(c="^"),re+=c;continue}self.debug("call clearStateChar %j",stateChar),clearStateChar(),stateChar=c,options.noext&&clearStateChar();continue;case"(":if(inClass){re+="(";continue}if(!stateChar){re+="\\(";continue}patternListStack.push({type:stateChar,start:i-1,reStart:re.length,open:plTypes[stateChar].open,close:plTypes[stateChar].close}),re+="!"===stateChar?"(?:(?!(?:":"(?:",this.debug("plType %j %j",stateChar,re),stateChar=!1;continue;case")":if(inClass||!patternListStack.length){re+="\\)";continue}clearStateChar(),hasMagic=!0;var pl=patternListStack.pop();re+=pl.close,"!"===pl.type&&negativeLists.push(pl),pl.reEnd=re.length;continue;case"|":if(inClass||!patternListStack.length||escaping){re+="\\|",escaping=!1;continue}clearStateChar(),re+="|";continue;case"[":if(clearStateChar(),inClass){re+="\\"+c;continue}inClass=!0,classStart=i,reClassStart=re.length,re+=c;continue;case"]":if(i===classStart+1||!inClass){re+="\\"+c,escaping=!1;continue}if(inClass){var cs=pattern.substring(classStart+1,i);try{RegExp("["+cs+"]")}catch(er){var sp=this.parse(cs,SUBPARSE);re=re.substr(0,reClassStart)+"\\["+sp[0]+"\\]",hasMagic=hasMagic||sp[1],inClass=!1;continue}}hasMagic=!0,inClass=!1,re+=c;continue;default:clearStateChar(),escaping?escaping=!1:!reSpecials[c]||"^"===c&&inClass||(re+="\\"),re+=c}inClass&&(cs=pattern.substr(classStart+1),sp=this.parse(cs,SUBPARSE),re=re.substr(0,reClassStart)+"\\["+sp[0],hasMagic=hasMagic||sp[1]);for(pl=patternListStack.pop();pl;pl=patternListStack.pop()){var tail=re.slice(pl.reStart+pl.open.length);this.debug("setting tail",re,pl),tail=tail.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(_,$1,$2){return $2||($2="\\"),$1+$1+$2+"|"})),this.debug("tail=%j\n   %s",tail,tail,pl,re);var t="*"===pl.type?"[^/]*?":"?"===pl.type?"[^/]":"\\"+pl.type;hasMagic=!0,re=re.slice(0,pl.reStart)+t+"\\("+tail}clearStateChar(),escaping&&(re+="\\\\");var addPatternStart=!1;switch(re.charAt(0)){case".":case"[":case"(":addPatternStart=!0}for(var n=negativeLists.length-1;n>-1;n--){var nl=negativeLists[n],nlBefore=re.slice(0,nl.reStart),nlFirst=re.slice(nl.reStart,nl.reEnd-8),nlLast=re.slice(nl.reEnd-8,nl.reEnd),nlAfter=re.slice(nl.reEnd);nlLast+=nlAfter;var openParensBefore=nlBefore.split("(").length-1,cleanAfter=nlAfter;for(i=0;i<openParensBefore;i++)cleanAfter=cleanAfter.replace(/\)[+*?]?/,"");var dollar="";""===(nlAfter=cleanAfter)&&isSub!==SUBPARSE&&(dollar="$"),re=nlBefore+nlFirst+nlAfter+dollar+nlLast}""!==re&&hasMagic&&(re="(?=.)"+re);addPatternStart&&(re=patternStart+re);if(isSub===SUBPARSE)return[re,hasMagic];if(!hasMagic)return function(s){return s.replace(/\\(.)/g,"$1")}(pattern);var flags=options.nocase?"i":"";try{var regExp=new RegExp("^"+re+"$",flags)}catch(er){return new RegExp("$.")}return regExp._glob=pattern,regExp._src=re,regExp};var SUBPARSE={};minimatch.makeRe=function(pattern,options){return new Minimatch(pattern,options||{}).makeRe()},Minimatch.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var set=this.set;if(!set.length)return this.regexp=!1,this.regexp;var options=this.options,twoStar=options.noglobstar?"[^/]*?":options.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",flags=options.nocase?"i":"",re=set.map((function(pattern){return pattern.map((function(p){return p===GLOBSTAR?twoStar:"string"==typeof p?function(s){return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(p):p._src})).join("\\/")})).join("|");re="^(?:"+re+")$",this.negate&&(re="^(?!"+re+").*$");try{this.regexp=new RegExp(re,flags)}catch(ex){this.regexp=!1}return this.regexp},minimatch.match=function(list,pattern,options){var mm=new Minimatch(pattern,options=options||{});return list=list.filter((function(f){return mm.match(f)})),mm.options.nonull&&!list.length&&list.push(pattern),list},Minimatch.prototype.match=function(f,partial){if(this.debug("match",f,this.pattern),this.comment)return!1;if(this.empty)return""===f;if("/"===f&&partial)return!0;var options=this.options;"/"!==path.sep&&(f=f.split(path.sep).join("/"));f=f.split(slashSplit),this.debug(this.pattern,"split",f);var filename,i,set=this.set;for(this.debug(this.pattern,"set",set),i=f.length-1;i>=0&&!(filename=f[i]);i--);for(i=0;i<set.length;i++){var pattern=set[i],file=f;if(options.matchBase&&1===pattern.length&&(file=[filename]),this.matchOne(file,pattern,partial))return!!options.flipNegate||!this.negate}return!options.flipNegate&&this.negate},Minimatch.prototype.matchOne=function(file,pattern,partial){var options=this.options;this.debug("matchOne",{this:this,file:file,pattern:pattern}),this.debug("matchOne",file.length,pattern.length);for(var fi=0,pi=0,fl=file.length,pl=pattern.length;fi<fl&&pi<pl;fi++,pi++){this.debug("matchOne loop");var hit,p=pattern[pi],f=file[fi];if(this.debug(pattern,p,f),!1===p)return!1;if(p===GLOBSTAR){this.debug("GLOBSTAR",[pattern,p,f]);var fr=fi,pr=pi+1;if(pr===pl){for(this.debug("** at the end");fi<fl;fi++)if("."===file[fi]||".."===file[fi]||!options.dot&&"."===file[fi].charAt(0))return!1;return!0}for(;fr<fl;){var swallowee=file[fr];if(this.debug("\nglobstar while",file,fr,pattern,pr,swallowee),this.matchOne(file.slice(fr),pattern.slice(pr),partial))return this.debug("globstar found match!",fr,fl,swallowee),!0;if("."===swallowee||".."===swallowee||!options.dot&&"."===swallowee.charAt(0)){this.debug("dot detected!",file,fr,pattern,pr);break}this.debug("globstar swallow a segment, and continue"),fr++}return!(!partial||(this.debug("\n>>> no match, partial?",file,fr,pattern,pr),fr!==fl))}if("string"==typeof p?(hit=options.nocase?f.toLowerCase()===p.toLowerCase():f===p,this.debug("string match",p,f,hit)):(hit=f.match(p),this.debug("pattern match",p,f,hit)),!hit)return!1}if(fi===fl&&pi===pl)return!0;if(fi===fl)return partial;if(pi===pl)return fi===fl-1&&""===file[fi];throw new Error("wtf?")}},function(module,exports,__webpack_require__){"use strict";function posix(path){return"/"===path.charAt(0)}function win32(path){var result=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(path),device=result[1]||"",isUnc=Boolean(device&&":"!==device.charAt(1));return Boolean(result[2]||isUnc)}module.exports="win32"===process.platform?win32:posix,module.exports.posix=posix,module.exports.win32=win32},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(11),amqp=tslib_1.__importStar(__webpack_require__(136)),lodash_clonedeep_1=tslib_1.__importDefault(__webpack_require__(49)),util_1=__webpack_require__(0),amqpMessage_1=tslib_1.__importDefault(__webpack_require__(194)),spacebunny_1=tslib_1.__importDefault(__webpack_require__(50)),utils_1=__webpack_require__(32);class AmqpClient extends spacebunny_1.default{constructor(opts={}){super(opts),this.onMessage=(callback,opts={})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){const name=this.addAmqpListener(callback,opts);return yield this.bindAmqpListener(name),name})),this.publish=(channel,message,opts={},publishOpts={})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){const{routingKey:routingKey,topic:topic,withConfirm:withConfirm=!1}=opts,ch=yield this.createChannel("output",{withConfirm:withConfirm});if(!this.isConnected())throw new Error(`${this.getClassName()} - Error sending message on channel ${channel} when client is not connected`);try{const encapsulatedContent=utils_1.encapsulateContent(message),rKey=this.routingKeyFor({channel:channel,routingKey:routingKey,topic:topic}),deviceId=this.getDeviceId();yield ch.checkExchange(deviceId);const res=ch.publish(deviceId,rKey,Buffer.from(encapsulatedContent),publishOpts);return res?(!0===withConfirm&&res&&(yield ch.waitForConfirms()),this.log("debug",`Message published on channel ${channel} successfully`),!0):(this.log("error",`Publish on channel ${channel} failed: ${encapsulatedContent}`),!1)}catch(error){throw this.log("error","Error publishing on channel "+channel),error}})),this.disconnect=()=>tslib_1.__awaiter(this,void 0,void 0,(function*(){if(this.isConnected())try{const channels=Object.keys(this.amqpChannels);for(let index=0;index<channels.length;index+=1){const channelName=channels[index];this.amqpChannels[channelName]&&(yield this.amqpChannels[channelName].close(),delete this.amqpChannels[channelName])}yield this.amqpConnection.close()}catch(error){throw this.log("error","Error disconnecting client."),error}else this.log("info","Client already disconnected.");return this.amqpConnection=void 0,this.amqpChannels={},this.connected=!1,this.emit("disconnect"),!0})),this.connect=(opts={},socketOptions={})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){if(this.isConnected())return this.amqpConnection;yield this.getEndpointConfigs();try{this.log("debug","Connecting client.."),this.amqpConnection=yield amqp.connect({protocol:this.tls?this.tlsProtocol:this.protocol,hostname:this.connectionParams.host,port:this.tls?this.connectionParams.protocols.amqp.tlsPort:this.connectionParams.protocols.amqp.port,username:this.connectionParams.deviceId||this.connectionParams.client,password:this.connectionParams.secret,vhost:this.connectionParams.vhost.replace("/","%2f"),frameMax:opts.frameMax||this.defaultConnectionOpts.frameMax,heartbeat:opts.heartbeat||this.heartbeat},Object.assign({timeout:this.connectionTimeout},socketOptions));const onError=err=>{err&&(this.emit("error",err),this.log("error",err)),this.amqpConnection.removeAllListeners(),this.amqpConnection=void 0,this.connected=!1,this.autoReconnect&&this.connect(opts)},onBlock=reason=>{reason&&(this.emit("blocked",reason),this.log("warn",reason))};return this.amqpConnection.on("error",onError),this.amqpConnection.on("close",onError),this.amqpConnection.on("blocked",onBlock),this.amqpConnection.on("unblocked",onBlock),this.connected=!0,this.emit("connect"),this.log("debug","Client connected!"),this.amqpConnection}catch(error){if(util_1.isNullOrUndefined(this.amqpConnection)||(this.amqpConnection.removeAllListeners(),this.amqpConnection=void 0),this.connected=!1,this.log("error","Error during connection"),!this.autoReconnect)throw error;{this.log("error",error.message);const timeout=util_1.promisify(setTimeout);yield timeout(this.reconnectTimeout),this.connect(opts)}}})),this.isConnected=()=>void 0!==this.amqpConnection&&this.connected,this.removeAmqpListener=name=>tslib_1.__awaiter(this,void 0,void 0,(function*(){util_1.isNullOrUndefined(this.amqpListeners[name])?this.log("error",`AMQP listener ${name} does not exist.`):(yield this.unsubscribe(this.amqpListeners[name].consumerTag),delete this.amqpListeners[name])})),this.unsubscribe=consumerTag=>tslib_1.__awaiter(this,void 0,void 0,(function*(){if(!this.isConnected())throw new Error(`${this.getClassName()} - Error trying to unsucscribe from ${consumerTag} on an invalid connection`);try{const ch=yield this.createChannel("input");ch&&(yield ch.cancel(consumerTag)),this.log("debug","Unsubscrbed "+consumerTag)}catch(error){throw this.log("error","Error unsubscribing from "+consumerTag),error}})),this.createChannel=(channel,opts={})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){const{withConfirm:withConfirm=!0}=opts,channelName=`${channel}${!0===withConfirm?"WithConfirm":""}`;if(!this.isConnected())throw new Error(this.getClassName()+" - Error trying to open a channel on an invalid connection");try{if(util_1.isNullOrUndefined(this.amqpChannels[channelName])){this.amqpChannels[channelName]=!0===withConfirm||channelName.endsWith("WithConfirm")?yield this.amqpConnection.createConfirmChannel():yield this.amqpConnection.createChannel(),this.emit("channelOpen",channelName);const errorCallback=err=>{err&&this.log("error",err),this.amqpChannels[channelName].removeAllListeners(),this.amqpChannels[channelName]=void 0,channel.startsWith("input")&&this.emit("channelClose",channelName)};this.amqpChannels[channelName].on("error",errorCallback),this.amqpChannels[channelName].on("close",errorCallback)}return this.amqpChannels[channelName]}catch(error){throw this.log("error","Error creating channel: "+channelName),error}})),this.closeChannel=(channelName,opts={})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){try{const{withConfirm:withConfirm=!0}=opts,fullChannelName=`${channelName}${!0===withConfirm?"WithConfirm":""}`;this.amqpChannels[fullChannelName]&&(yield this.amqpChannels[fullChannelName].close(),this.amqpChannels[fullChannelName]=void 0)}catch(error){throw this.log("error","Error closing channel "+channelName),error}})),this.consumeCallback=(ch,callback,opts,message)=>{try{const{ack:ack,allUpTo:allUpTo=!1,requeue:requeue=!1}=opts;if(util_1.isNullOrUndefined(message))return;const{discardMine:discardMine,discardFromApi:discardFromApi}=opts,amqpMessage=new amqpMessage_1.default({message:message,receiverId:this.getClient(),channel:ch,subscriptionOpts:{discardMine:discardMine,discardFromApi:discardFromApi}}),ackNeeded=this.autoAck(ack);if(amqpMessage.blackListed())return void(ackNeeded&&amqpMessage.nack({allUpTo:allUpTo,requeue:requeue}));callback(amqpMessage.getContent(),amqpMessage.getFields(),amqpMessage.getProperties()),ackNeeded&&amqpMessage.ack({allUpTo:allUpTo})}catch(error){this.log("error","Error consuming message"),this.log("error",error)}},this.clearConsumers=()=>{const names=Object.keys(this.amqpListeners);for(let index=0;index<names.length;index+=1){const name=names[index];delete this.amqpListeners[name].consumerTag}},this.addAmqpListener=(callback,opts={})=>{const name="subscription-"+(new Date).getTime();return this.amqpListeners[name]={callback:callback,opts:opts},name},this.bindAmqpListeners=()=>tslib_1.__awaiter(this,void 0,void 0,(function*(){const names=Object.keys(this.amqpListeners);for(let index=0;index<names.length;index+=1){const name=names[index];yield this.bindAmqpListener(name)}})),this.bindAmqpListener=name=>tslib_1.__awaiter(this,void 0,void 0,(function*(){if(util_1.isNullOrUndefined(this.amqpListeners[name]))return void this.log("error",`Listner ${name} does not exist.`);if(!util_1.isNullOrUndefined(this.amqpListeners[name].consumerTag))return void this.log("warn",`Listner ${name} already bound to a consumer.`);const{callback:callback,opts:opts}=this.amqpListeners[name],noAck=util_1.isNullOrUndefined(opts.ack),ch=yield this.createChannel("input",{withConfirm:!1});try{yield ch.checkQueue(`${this.getDeviceId()}.${this.getInboxTopic()}`);const{consumerTag:consumerTag}=yield ch.consume(`${this.getDeviceId()}.${this.getInboxTopic()}`,this.consumeCallback.bind(this,ch,callback,opts),{noAck:noAck});this.amqpListeners[name].consumerTag=consumerTag}catch(error){throw this.log("error","Error consuming from input channel."),error}})),this.routingKeyFor=(params={})=>{const{channel:channel,routingKey:routingKey,topic:topic}=params;if(routingKey)return routingKey;let messageRoutingKey=this.getDeviceId();return!util_1.isNullOrUndefined(channel)&&channel.length>0&&(messageRoutingKey+="."+(channel||"")),!util_1.isNullOrUndefined(topic)&&topic.length>0&&(messageRoutingKey+="."+(topic||"")),messageRoutingKey},this.autoAck=ack=>{if(ack)switch(this.ackTypes.includes(ack)||this.log("error","Wrong acknowledge type"),ack){case"auto":return!0;default:return!1}return!1},this.publishCachedMessages=()=>tslib_1.__awaiter(this,void 0,void 0,(function*(){if(this.isConnected()&&this.cachedMessages.length>0){const cachedMessagesToSend=lodash_clonedeep_1.default(this.cachedMessages);this.log("debug",`Publishing ${cachedMessagesToSend.length} cached messages...`);for(let index=0;index<cachedMessagesToSend.length;index+=1){const cachedMessage=cachedMessagesToSend[index];this.log("silly",`Sending message ${index+1} from cache`);const{message:message,channel:channel,options:options}=cachedMessage;if(yield this.publish(channel,message,options)){const itemToRemove=this.cachedMessages.findIndex(message);this.cachedMessages.splice(itemToRemove,1)}}this.writeCachedMessagesFile()}})),this.amqpConnection=void 0,this.amqpChannels={},this.protocol="amqp",this.tlsProtocol="amqps",this.defaultConnectionOpts={frameMax:32768},this.ackTypes=["auto","manual"],this.connected=!1,this.amqpListeners={},this.on("connect",()=>{this.bindAmqpListeners(),this.publishCachedMessages()}),this.on("disconnect",()=>{this.amqpListeners={}}),this.on("channelClose",()=>{this.clearConsumers()})}}exports.default=AmqpClient},function(module,exports,__webpack_require__){"use strict";var ints=__webpack_require__(29);function encodeTable(buffer,val,offset){var start=offset;for(var key in offset+=4,val)if(void 0!==val[key]){var len=Buffer.byteLength(key);buffer.writeUInt8(len,offset),offset++,buffer.write(key,offset,"utf8"),offset+=len,offset+=encodeFieldValue(buffer,val[key],offset)}var size=offset-start;return buffer.writeUInt32BE(size-4,start),size}function encodeFieldValue(buffer,value,offset){var n,start=offset,type=typeof value,val=value;function tag(t){buffer.write(t,offset),offset++}switch(value&&"object"===type&&value.hasOwnProperty("!")&&(val=value.value,type=value["!"]),"number"==type&&(type=(n=val)>=0x8000000000000000||Math.abs(n)<0x4000000000000&&Math.floor(n)!==n?"double":val<128&&val>=-128?"byte":val>=-32768&&val<32768?"short":val>=-2147483648&&val<2147483648?"int":"long"),type){case"string":var len=Buffer.byteLength(val,"utf8");tag("S"),buffer.writeUInt32BE(len,offset),offset+=4,buffer.write(val,offset,"utf8"),offset+=len;break;case"object":null===val?tag("V"):Array.isArray(val)?(tag("A"),offset+=function(buffer,val,offset){var start=offset;offset+=4;for(var i=0,num=val.length;i<num;i++)offset+=encodeFieldValue(buffer,val[i],offset);var size=offset-start;return buffer.writeUInt32BE(size-4,start),size}(buffer,val,offset)):Buffer.isBuffer(val)?(tag("x"),buffer.writeUInt32BE(val.length,offset),offset+=4,val.copy(buffer,offset),offset+=val.length):(tag("F"),offset+=encodeTable(buffer,val,offset));break;case"boolean":tag("t"),buffer.writeUInt8(val?1:0,offset),offset++;break;case"double":case"float64":tag("d"),buffer.writeDoubleBE(val,offset),offset+=8;break;case"byte":case"int8":tag("b"),buffer.writeInt8(val,offset),offset++;break;case"short":case"int16":tag("s"),buffer.writeInt16BE(val,offset),offset+=2;break;case"int":case"int32":tag("I"),buffer.writeInt32BE(val,offset),offset+=4;break;case"long":case"int64":tag("l"),ints.writeInt64BE(buffer,val,offset),offset+=8;break;case"timestamp":tag("T"),ints.writeUInt64BE(buffer,val,offset),offset+=8;break;case"float":tag("f"),buffer.writeFloatBE(val,offset),offset+=4;break;case"decimal":if(tag("D"),!(val.hasOwnProperty("places")&&val.hasOwnProperty("digits")&&val.places>=0&&val.places<256))throw new TypeError("Decimal value must be {'places': 0..255, 'digits': uint32}, got "+JSON.stringify(val));buffer[offset]=val.places,offset++,buffer.writeUInt32BE(val.digits,offset),offset+=4;break;default:throw new TypeError("Unknown type to encode: "+type)}return offset-start}module.exports.encodeTable=encodeTable,module.exports.decodeFields=function decodeFields(slice){var len,key,val,fields={},offset=0,size=slice.length;function decodeFieldValue(){var tag=String.fromCharCode(slice[offset]);switch(offset++,tag){case"b":val=slice.readInt8(offset),offset++;break;case"S":len=slice.readUInt32BE(offset),offset+=4,val=slice.toString("utf8",offset,offset+len),offset+=len;break;case"I":val=slice.readInt32BE(offset),offset+=4;break;case"D":var places=slice[offset];offset++;var digits=slice.readUInt32BE(offset);offset+=4,val={"!":"decimal",value:{places:places,digits:digits}};break;case"T":val=ints.readUInt64BE(slice,offset),offset+=8,val={"!":"timestamp",value:val};break;case"F":len=slice.readUInt32BE(offset),offset+=4,val=decodeFields(slice.slice(offset,offset+len)),offset+=len;break;case"A":len=slice.readUInt32BE(offset),function(until){var vals=[];for(;offset<until;)decodeFieldValue(),vals.push(val);val=vals}((offset+=4)+len);break;case"d":val=slice.readDoubleBE(offset),offset+=8;break;case"f":val=slice.readFloatBE(offset),offset+=4;break;case"l":val=ints.readInt64BE(slice,offset),offset+=8;break;case"s":val=slice.readInt16BE(offset),offset+=2;break;case"t":val=0!=slice[offset],offset++;break;case"V":val=null;break;case"x":len=slice.readUInt32BE(offset),offset+=4,val=slice.slice(offset,offset+len),offset+=len;break;default:throw new TypeError('Unexpected type tag "'+tag+'"')}}for(;offset<size;)len=slice.readUInt8(offset),offset++,key=slice.toString("utf8",offset,offset+len),offset+=len,decodeFieldValue(),fields[key]=val;return fields}},function(module,exports,__webpack_require__){"use strict";var defs=__webpack_require__(27),constants=defs.constants,decode=defs.decode,Buffer=__webpack_require__(28).Buffer,Bits=__webpack_require__(143);module.exports.PROTOCOL_HEADER="AMQP"+String.fromCharCode(0,0,9,1);var FRAME_METHOD=constants.FRAME_METHOD,FRAME_HEARTBEAT=constants.FRAME_HEARTBEAT,FRAME_HEADER=constants.FRAME_HEADER,FRAME_BODY=constants.FRAME_BODY,FRAME_END=constants.FRAME_END,bodyCons=Bits.builder(FRAME_BODY,"channel:16, size:32, payload:size/binary",FRAME_END);module.exports.makeBodyFrame=function(channel,payload){return bodyCons({channel:channel,size:payload.length,payload:payload})};var frameHeaderPattern=Bits.matcher("type:8","channel:16","size:32","rest/binary");module.exports.parseFrame=function(bin,max){var fh=frameHeaderPattern(bin);if(fh){var size=fh.size,rest=fh.rest;if(size>max)throw new Error("Frame size exceeds frame max");if(rest.length>size){if(rest[size]!==FRAME_END)throw new Error("Invalid frame");return{type:fh.type,channel:fh.channel,size:size,payload:rest.slice(0,size),rest:rest.slice(size+1)}}}return!1};var headerPattern=Bits.matcher("class:16","_weight:16","size:64","flagsAndfields/binary"),methodPattern=Bits.matcher("id:32, args/binary"),HEARTBEAT={channel:0};module.exports.decodeFrame=function(frame){var payload=frame.payload;switch(frame.type){case FRAME_METHOD:var idAndArgs=methodPattern(payload),id=idAndArgs.id,fields=decode(id,idAndArgs.args);return{id:id,channel:frame.channel,fields:fields};case FRAME_HEADER:var parts=headerPattern(payload);id=parts.class,fields=decode(id,parts.flagsAndfields);return{id:id,channel:frame.channel,size:parts.size,fields:fields};case FRAME_BODY:return{channel:frame.channel,content:frame.payload};case FRAME_HEARTBEAT:return HEARTBEAT;default:throw new Error("Unknown frame type "+frame.type)}},module.exports.HEARTBEAT_BUF=Buffer.from([constants.FRAME_HEARTBEAT,0,0,0,0,0,0,constants.FRAME_END]),module.exports.HEARTBEAT=HEARTBEAT},function(module,exports,__webpack_require__){"use strict";var ints=__webpack_require__(29),debug=__webpack_require__(146)("bitsyntax-Interpreter");function parse_int(bin,off,sizeInBytes,bigendian,signed){switch(sizeInBytes){case 1:return signed?bin.readInt8(off):bin.readUInt8(off);case 2:return bigendian?signed?bin.readInt16BE(off):bin.readUInt16BE(off):signed?bin.readInt16LE(off):bin.readUInt16LE(off);case 4:return bigendian?signed?bin.readInt32BE(off):bin.readUInt32BE(off):signed?bin.readInt32LE(off):bin.readUInt32LE(off);case 8:return bigendian?(signed?ints.readInt64BE:ints.readUInt64BE)(bin,off):(signed?ints.readInt64LE:ints.readUInt64LE)(bin,off);default:throw"Integers must be 8-, 16-, 32- or 64-bit"}}function parse_float(bin,off,sizeInBytes,bigendian){switch(sizeInBytes){case 4:return bigendian?bin.readFloatBE(off):bin.readFloatLE(off);case 8:return bigendian?bin.readDoubleBE(off):bin.readDoubleLE(off);default:throw"Floats must be 32- or 64-bit"}}function size_of(segment,bound){var size=segment.size;return"string"==typeof size?bound[size]:size}module.exports.match=function(pattern,binary,boundvars){var offset=0,vars=function(env){function scope(){}return scope.prototype=env,new scope}(boundvars),binsize=8*binary.length;function skip_bits(segment){debug("skip bits"),debug(segment);var size=size_of(segment,vars);if(!0===size)return offset%8==0&&(offset=binsize,!0);var bits=segment.unit*size;if(offset+bits>binsize)return!1;offset+=bits}function get_integer(segment){debug("get_integer"),debug(segment);var unit=segment.unit,bitsize=size_of(segment,vars)*unit,byteoffset=offset/8;return offset+=bitsize,!(bitsize%8>0||offset>binsize)&&parse_int(binary,byteoffset,bitsize/8,segment.bigendian,segment.signed)}function get_float(segment){debug("get_float"),debug(segment);var unit=segment.unit,bitsize=size_of(segment,vars)*unit,byteoffset=offset/8;return!((offset+=bitsize)>binsize)&&parse_float(binary,byteoffset,bitsize/8,segment.bigendian)}function get_binary(segment){debug("get_binary"),debug(segment);var unit=segment.unit,size=size_of(segment,vars),byteoffset=offset/8;if(!0===size)return offset=binsize,binary.slice(byteoffset);var bitsize=size*unit;return!(bitsize%8>0||offset+bitsize>binsize)&&(offset+=bitsize,binary.slice(byteoffset,byteoffset+bitsize/8))}function get_string(segment){debug("get_string"),debug(segment);var len=segment.value.length,byteoffset=offset/8;return!((offset+=8*len)>binsize)&&binary.slice(byteoffset,byteoffset+len).toString("utf8")}for(var patternlen=pattern.length,i=0;i<patternlen;i++){var segment=pattern[i],result=!1;if("_"===segment.name)result=skip_bits(segment);else{switch(segment.type){case"string":result=get_string(segment);break;case"integer":result=get_integer(segment);break;case"float":result=get_float(segment);break;case"binary":result=get_binary(segment)}if(!1===result)return!1;if(segment.name)vars[segment.name]=result;else if(segment.value!=result)return!1}}return offset==binsize&&function(scope){var s={};for(var k in scope)scope.hasOwnProperty(k)&&(s[k]=scope[k]);return s}(vars)},module.exports.parse_int=parse_int,module.exports.parse_float=parse_float},function(module,exports,__webpack_require__){var prevTime;function createDebug(namespace){function debug(){if(debug.enabled){var self=debug,curr=+new Date,ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr;for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];args[0]=exports.coerce(args[0]),"string"!=typeof args[0]&&args.unshift("%O");var index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,(function(match,format){if("%%"===match)return match;index++;var formatter=exports.formatters[format];if("function"==typeof formatter){var val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match})),exports.formatArgs.call(self,args);var logFn=debug.log||exports.log||console.log.bind(console);logFn.apply(self,args)}}return debug.namespace=namespace,debug.enabled=exports.enabled(namespace),debug.useColors=exports.useColors(),debug.color=function(namespace){var i,hash=0;for(i in namespace)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return exports.colors[Math.abs(hash)%exports.colors.length]}(namespace),"function"==typeof exports.init&&exports.init(debug),debug}(exports=module.exports=createDebug.debug=createDebug.default=createDebug).coerce=function(val){return val instanceof Error?val.stack||val.message:val},exports.disable=function(){exports.enable("")},exports.enable=function(namespaces){exports.save(namespaces),exports.names=[],exports.skips=[];for(var split=("string"==typeof namespaces?namespaces:"").split(/[\s,]+/),len=split.length,i=0;i<len;i++)split[i]&&("-"===(namespaces=split[i].replace(/\*/g,".*?"))[0]?exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):exports.names.push(new RegExp("^"+namespaces+"$")))},exports.enabled=function(name){var i,len;for(i=0,len=exports.skips.length;i<len;i++)if(exports.skips[i].test(name))return!1;for(i=0,len=exports.names.length;i<len;i++)if(exports.names[i].test(name))return!0;return!1},exports.humanize=__webpack_require__(148),exports.names=[],exports.skips=[],exports.formatters={}},function(module,exports,__webpack_require__){var buffer=__webpack_require__(12),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(29);var $=__webpack_require__(0).format,parse=__webpack_require__(45).parse,interp=__webpack_require__(70),parse_int=interp.parse_int,parse_float=interp.parse_float,construct=__webpack_require__(48),write_int=construct.write_int,write_float=construct.write_float,Buffer=__webpack_require__(72).Buffer,lines=[];function $start(){lines=[]}function $line(){lines.push($.apply(null,arguments))}function $result(){return lines.join("\n")}function bits_expr(segment){return"string"==typeof segment.size?$("%s * %d",var_name(segment.size),segment.unit):(segment.size*segment.unit).toString()}function match_seg(segment){if("_"===segment.name)!function(segment){if("string"==typeof segment.size)$line("var skipbits = %s * %d;",var_name(segment.size),segment.unit),$line("if (offset + skipbits > binsize) { return false; }"),$line("else { offset += skipbits; }");else if(!0===segment.size)$line("if (offset % 8 === 0) { offset = binsize; }"),$line("else { return false; }");else{var bits=segment.unit*segment.size;$line("if (offset + %d > binsize) { return false; }",bits),$line("else { offset += %d; }",bits)}}(segment);else{switch(segment.type){case"integer":case"float":!function(segment){$line("bits = %s;\n",bits_expr(segment));var parser="integer"===segment.type?"parse_int":"parse_float",be=segment.bigendian,sg=segment.signed;$line("byteoffset = offset / 8; offset += bits"),$line("if (offset > binsize) { return false; }"),$line("else { result = %s(bin, byteoffset, bits / 8, %s, %s); }",parser,be,sg)}(segment);break;case"binary":!function(segment){$line("byteoffset = offset / 8;"),!0===segment.size?($line("offset = binsize;"),$line("result = bin.slice(byteoffset);")):($line("bits = %s;",bits_expr(segment)),$line("offset += bits;"),$line("if (offset > binsize) { return false; }"),$line("else { result = bin.slice(byteoffset,","byteoffset + bits / 8); }"))}(segment);break;case"string":!function(segment){$line("byteoffset = offset / 8;");var strlen=segment.value.length;$line("offset += %d;",8*strlen),$line("if (offset > binsize) { return false; }"),$line("else { result = bin.toString(byteoffset,",$("byteoffset + %d); }",strlen))}(segment)}if($line("if (result === false) return false;"),segment.name)$line("else if (%s !== undefined) {",var_name(segment.name)),$line("if (%s != result) return false;",var_name(segment.name)),$line("}"),$line("else %s = result;",var_name(segment.name));else $line("else if (result != %s) return false;",JSON.stringify(segment.value))}}function var_name(name){return"var_"+name}function compile_pattern(segments){$start(),$line("return function(binary, env) {"),$line("'use strict';"),$line("var bin = binary, env = env || {};"),$line("var offset = 0, binsize = bin.length * 8;"),$line("var bits, result, byteoffset;");for(var varnames=function(segments){for(var names={},i=0;i<segments.length;i++){var name=segments[i].name;name&&"_"!==name&&(names[name]=!0),"string"==typeof(name=segments[i].size)&&(names[name]=!0)}return Object.keys(names)}(segments),v=0;v<varnames.length;v++){$line("var %s = env['%s'];",var_name(name=varnames[v]),name)}for(var len=segments.length,i=0;i<len;i++){var segment=segments[i];$line("// "+JSON.stringify(segment)),match_seg(segment)}$line("if (offset == binsize) {"),$line("return {");for(v=0;v<varnames.length;v++){var name;$line("%s: %s,",name=varnames[v],var_name(name))}return $line("};"),$line("}"),$line("else return false;"),$line("}"),new Function("parse_int","parse_float",$result())(parse_int,parse_float)}function write_seg(segment){switch(segment.type){case"string":$line("offset += buf.write(%s, offset, 'utf8');",JSON.stringify(segment.value));break;case"binary":$line("val = bindings['%s'];",segment.name),!0===segment.size?$line("size = val.length;"):"string"==typeof segment.size?$line("size = (bindings['%s'] * %d) / 8;",segment.size,segment.unit):$line("size = %d;",segment.size*segment.unit/8),$line("val.copy(buf, offset, 0, size);"),$line("offset += size;");break;case"integer":case"float":!function(segment){segment.name?$line("val = bindings['%s'];",segment.name):$line("val = %d",segment.value);var writer="integer"===segment.type?"write_int":"write_float";"string"==typeof segment.size?$line("size = (bindings['%s'] * %d) / 8;",segment.size,segment.unit):$line("size = %d;",segment.size*segment.unit/8);$line("%s(buf, val, offset, size, %s);",writer,segment.bigendian),$line("offset += size;")}(segment)}}function compile_ctor(segments){return $start(),$line("return function(bindings) {"),$line("'use strict';"),function(segments){for(var variable=[],fixed=0,i=0;i<segments.length;i++){"string"==typeof(segment=segments[i]).size||!0===segment.size?variable.push(segment):"string"===segment.type?fixed+=Buffer.byteLength(segment.value):fixed+=segment.size*segment.unit/8}if($line("var buffersize = %d;",fixed),variable.length>0)for(var j=0;j<variable.length;j++){var segment;!0===(segment=variable[j]).size?$line("buffersize += bindings['%s'].length;",segment.name):$line("buffersize += (bindings['%s'] * %d) / 8;",segment.size,segment.unit)}}(segments),$line("var buf = Buffer.alloc(buffersize);"),$line("var offset = 0;"),function(segments){$line("var val, size;");for(var len=segments.length,i=0;i<len;i++){var segment=segments[i];$line("// %s",JSON.stringify(segment)),write_seg(segment)}}(segments),$line("return buf;"),$line("}"),new Function("write_int","write_float","Buffer",$result())(write_int,write_float,Buffer)}module.exports.compile_pattern=compile_pattern,module.exports.compile=function(){var str=[].join.call(arguments,","),p=parse(str);return compile_pattern(p)},module.exports.compile_builder=function(){var str=[].join.call(arguments,","),p=parse(str);return compile_ctor(p)}},function(module,exports,__webpack_require__){var Buffer=__webpack_require__(12).Buffer,isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var StringDecoder=exports.StringDecoder=function(encoding){switch(this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,""),function(encoding){if(encoding&&!isBufferEncoding(encoding))throw new Error("Unknown encoding: "+encoding)}(encoding),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3,this.charLength=this.charReceived?3:0}StringDecoder.prototype.write=function(buffer){for(var charStr="";this.charLength;){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;if(buffer.copy(this.charBuffer,this.charReceived,0,available),this.charReceived+=available,this.charReceived<this.charLength)return"";if(buffer=buffer.slice(available,buffer.length),!((charCode=(charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(charStr.length-1))>=55296&&charCode<=56319)){if(this.charReceived=this.charLength=0,0===buffer.length)return charStr;break}this.charLength+=this.surrogateSize,charStr=""}this.detectIncompleteChar(buffer);var end=buffer.length;this.charLength&&(buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end),end-=this.charReceived);var charCode;end=(charStr+=buffer.toString(this.encoding,0,end)).length-1;if((charCode=charStr.charCodeAt(end))>=55296&&charCode<=56319){var size=this.surrogateSize;return this.charLength+=size,this.charReceived+=size,this.charBuffer.copy(this.charBuffer,size,0,size),buffer.copy(this.charBuffer,0,0,size),charStr.substring(0,end)}return charStr},StringDecoder.prototype.detectIncompleteChar=function(buffer){for(var i=buffer.length>=3?3:buffer.length;i>0;i--){var c=buffer[buffer.length-i];if(1==i&&c>>5==6){this.charLength=2;break}if(i<=2&&c>>4==14){this.charLength=3;break}if(i<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=i},StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length&&(res=this.write(buffer)),this.charReceived){var cr=this.charReceived,buf=this.charBuffer,enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res}},function(module,exports,__webpack_require__){var Buffer=__webpack_require__(28).Buffer,codec=__webpack_require__(68);module.exports.plain=function(user,passwd){return{mechanism:"PLAIN",response:function(){return Buffer.from(["",user,passwd].join(String.fromCharCode(0)))},username:user,password:passwd}},module.exports.amqplain=function(user,passwd){return{mechanism:"AMQPLAIN",response:function(){const buffer=Buffer.alloc(16384),size=codec.encodeTable(buffer,{LOGIN:user,PASSWORD:passwd},0);return buffer.slice(4,size)},username:user,password:passwd}},module.exports.external=function(){return{mechanism:"EXTERNAL",response:function(){return Buffer.from("")}}}},function(module,exports){module.exports=require("tls")},function(module,exports,__webpack_require__){"use strict";var old;"undefined"!=typeof Promise&&(old=Promise);var bluebird=__webpack_require__(163)();bluebird.noConflict=function(){try{Promise===bluebird&&(Promise=old)}catch(e){}return bluebird},module.exports=bluebird},function(module,exports){module.exports=require("async_hooks")},function(module,exports,__webpack_require__){"use strict";module.exports=function(NEXT_FILTER){var util=__webpack_require__(1),getKeys=__webpack_require__(16).keys,tryCatch=util.tryCatch,errorObj=util.errorObj;return function(instances,cb,promise){return function(e){var boundTo=promise._boundValue();predicateLoop:for(var i=0;i<instances.length;++i){var item=instances[i];if(item===Error||null!=item&&item.prototype instanceof Error){if(e instanceof item)return tryCatch(cb).call(boundTo,e)}else if("function"==typeof item){var matchesPredicate=tryCatch(item).call(boundTo,e);if(matchesPredicate===errorObj)return matchesPredicate;if(matchesPredicate)return tryCatch(cb).call(boundTo,e)}else if(util.isObject(e)){for(var keys=getKeys(item),j=0;j<keys.length;++j){var key=keys[j];if(item[key]!=e[key])continue predicateLoop}return tryCatch(cb).call(boundTo,e)}}return NEXT_FILTER}}}},function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(1),maybeWrapAsError=util.maybeWrapAsError,OperationalError=__webpack_require__(13).OperationalError,es5=__webpack_require__(16);var rErrorKey=/^(?:name|message|stack|cause)$/;function wrapAsOperationalError(obj){var ret;if(function(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype}(obj)){(ret=new OperationalError(obj)).name=obj.name,ret.message=obj.message,ret.stack=obj.stack;for(var keys=es5.keys(obj),i=0;i<keys.length;++i){var key=keys[i];rErrorKey.test(key)||(ret[key]=obj[key])}return ret}return util.markAsOriginatingFromRejection(obj),obj}module.exports=function(promise,multiArgs){return function(err,value){if(null!==promise){if(err){var wrapped=wrapAsOperationalError(maybeWrapAsError(err));promise._attachExtraTrace(wrapped),promise._reject(wrapped)}else if(multiArgs){for(var $_len=arguments.length,args=new Array(Math.max($_len-1,0)),$_i=1;$_i<$_len;++$_i)args[$_i-1]=arguments[$_i];promise._fulfill(args)}else promise._fulfill(value);promise=null}}}},function(module,exports,__webpack_require__){"use strict";var defs=__webpack_require__(27),closeMsg=__webpack_require__(19).closeMessage,inspect=__webpack_require__(19).inspect,methodName=__webpack_require__(19).methodName,assert=__webpack_require__(30),inherits=__webpack_require__(0).inherits,EventEmitter=__webpack_require__(5).EventEmitter,fmt=__webpack_require__(0).format,IllegalOperationError=__webpack_require__(31).IllegalOperationError,stackCapture=__webpack_require__(31).stackCapture,Buffer=__webpack_require__(28).Buffer;function Channel(connection){EventEmitter.call(this),this.connection=connection,this.reply=null,this.pending=[],this.lwm=1,this.unconfirmed=[],this.on("ack",this.handleConfirm.bind(this,(function(cb){cb&&cb(null)}))),this.on("nack",this.handleConfirm.bind(this,(function(cb){cb&&cb(new Error("message nacked"))}))),this.on("close",(function(){for(var cb;cb=this.unconfirmed.shift();)cb&&cb(new Error("channel closed"))})),this.handleMessage=acceptDeliveryOrReturn}inherits(Channel,EventEmitter),module.exports.Channel=Channel,module.exports.acceptMessage=acceptMessage;var C=Channel.prototype;function invalidOp(msg,stack){return function(){throw new IllegalOperationError(msg,stack)}}function invalidateSend(ch,msg,stack){ch.sendImmediately=ch.sendOrEnqueue=ch.sendMessage=invalidOp(msg,stack)}function acceptDeliveryOrReturn(f){var event;if(f.id===defs.BasicDeliver)event="delivery";else{if(f.id!==defs.BasicReturn)throw fmt("Expected BasicDeliver or BasicReturn; got %s",inspect(f));event="return"}var self=this,fields=f.fields;return acceptMessage((function(message){message.fields=fields,self.emit(event,message)}))}function acceptMessage(continuation){var totalSize=0,remaining=0,buffers=null,message={fields:null,properties:null,content:null};return function(f){if(f.id===defs.BasicProperties)return message.properties=f.fields,0===(totalSize=remaining=f.size)?(message.content=Buffer.alloc(0),continuation(message),acceptDeliveryOrReturn):content;throw"Expected headers frame after delivery"};function content(f){if(f.content){var size=f.content.length;if(0===(remaining-=size))return null!==buffers?(buffers.push(f.content),message.content=Buffer.concat(buffers)):message.content=f.content,continuation(message),acceptDeliveryOrReturn;if(remaining<0)throw fmt("Too much content sent! Expected %d bytes",totalSize);return null!==buffers?buffers.push(f.content):buffers=[f.content],content}throw"Expected content frame after headers"}}function BaseChannel(connection){Channel.call(this,connection),this.consumers={}}C.allocate=function(){return this.ch=this.connection.freshChannel(this),this},C.sendImmediately=function(method,fields){return this.connection.sendMethod(this.ch,method,fields)},C.sendOrEnqueue=function(method,fields,reply){this.reply?this.pending.push({method:method,fields:fields,reply:reply}):(assert(0===this.pending.length),this.reply=reply,this.sendImmediately(method,fields))},C.sendMessage=function(fields,properties,content){return this.connection.sendMessage(this.ch,defs.BasicPublish,fields,defs.BasicProperties,properties,content)},C._rpc=function(method,fields,expect,cb){var self=this;this.sendOrEnqueue(method,fields,(function(err,f){if(null===err){if(f.id===expect)return cb(null,f);var expectedName=methodName(expect),e=new Error(fmt("Expected %s; got %s",expectedName,inspect(f,!1)));return self.closeWithError(f.id,fmt("Expected %s; got %s",expectedName,methodName(f.id)),defs.constants.UNEXPECTED_FRAME,e),cb(e)}if(err instanceof Error)return cb(err);var closeReason=(err.fields.classId<<16)+err.fields.methodId,closeFrameError=(e=method===closeReason?fmt("Operation failed: %s; %s",methodName(method),closeMsg(err)):fmt("Channel closed by server: %s",closeMsg(err)),new Error(e));return closeFrameError.code=err.fields.replyCode,closeFrameError.classId=err.fields.classId,closeFrameError.methodId=err.fields.methodId,cb(closeFrameError)}))},C.toClosed=function(capturedStack){this._rejectPending(),invalidateSend(this,"Channel closed",capturedStack),this.accept=invalidOp("Channel closed",capturedStack),this.connection.releaseChannel(this.ch),this.emit("close")},C.toClosing=function(capturedStack,k){var send=this.sendImmediately.bind(this);invalidateSend(this,"Channel closing",capturedStack),this.accept=function(f){if(f.id===defs.ChannelCloseOk){k&&k();var s=stackCapture("ChannelCloseOk frame received");this.toClosed(s)}else f.id===defs.ChannelClose&&send(defs.ChannelCloseOk,{})}},C._rejectPending=function(){function rej(r){r(new Error("Channel ended, no reply will be forthcoming"))}var discard;for(null!==this.reply&&rej(this.reply),this.reply=null;discard=this.pending.shift();)rej(discard.reply);this.pending=null},C.closeBecause=function(reason,code,k){this.sendImmediately(defs.ChannelClose,{replyText:reason,replyCode:code,methodId:0,classId:0});var s=stackCapture("closeBecause called: "+reason);this.toClosing(s,k)},C.closeWithError=function(id,reason,code,error){var self=this;this.closeBecause(reason,code,(function(){error.code=code,id&&(error.classId=defs.info(id).classId,error.methodId=defs.info(id).methodId),self.emit("error",error)}))},C.acceptMessageFrame=function(f){try{this.handleMessage=this.handleMessage(f)}catch(msg){"string"==typeof msg?this.closeWithError(f.id,msg,defs.constants.UNEXPECTED_FRAME,new Error(msg)):msg instanceof Error?this.closeWithError(f.id,"Error while processing message",defs.constants.INTERNAL_ERROR,msg):this.closeWithError(f.id,"Internal error while processing message",defs.constants.INTERNAL_ERROR,new Error(msg.toString()))}},C.handleConfirm=function(handle,f){var tag=f.deliveryTag;if(f.multiple){var confirmed=this.unconfirmed.splice(0,tag-this.lwm+1);this.lwm=tag+1,confirmed.forEach(handle)}else{var c;if(tag===this.lwm)for(c=this.unconfirmed.shift(),this.lwm++;null===this.unconfirmed[0];)this.unconfirmed.shift(),this.lwm++;else c=this.unconfirmed[tag-this.lwm],this.unconfirmed[tag-this.lwm]=null;handle(c)}},C.pushConfirmCallback=function(cb){this.unconfirmed.push(cb||!1)},C.accept=function(f){switch(f.id){case void 0:case defs.BasicDeliver:case defs.BasicReturn:case defs.BasicProperties:return this.acceptMessageFrame(f);case defs.BasicAck:return this.emit("ack",f.fields);case defs.BasicNack:return this.emit("nack",f.fields);case defs.BasicCancel:return this.emit("cancel",f.fields);case defs.ChannelClose:if(this.reply){var reply=this.reply;this.reply=null,reply(f)}var emsg="Channel closed by server: "+closeMsg(f);this.sendImmediately(defs.ChannelCloseOk,{});var error=new Error(emsg);error.code=f.fields.replyCode,error.classId=f.fields.classId,error.methodId=f.fields.methodId,this.emit("error",error);var s=stackCapture(emsg);return void this.toClosed(s);case defs.BasicFlow:return this.closeWithError(f.id,"Flow not implemented",defs.constants.NOT_IMPLEMENTED,new Error("Flow not implemented"));default:reply=this.reply;if(this.reply=null,this.pending.length>0){var send=this.pending.shift();this.reply=send.reply,this.sendImmediately(send.method,send.fields)}return reply(null,f)}},C.onBufferDrain=function(){this.emit("drain")},inherits(BaseChannel,Channel),module.exports.BaseChannel=BaseChannel,BaseChannel.prototype.registerConsumer=function(tag,callback){this.consumers[tag]=callback},BaseChannel.prototype.unregisterConsumer=function(tag){delete this.consumers[tag]},BaseChannel.prototype.dispatchMessage=function(fields,message){var consumerTag=fields.consumerTag,consumer=this.consumers[consumerTag];if(consumer)return consumer(message);throw new Error("Unknown consumer: "+consumerTag)},BaseChannel.prototype.handleDelivery=function(message){return this.dispatchMessage(message.fields,message)},BaseChannel.prototype.handleCancel=function(fields){return this.dispatchMessage(fields,null)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(fn,thisArg){return function(){for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];return fn.apply(thisArg,args)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(value){return!(!value||!value.__CANCEL__)}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(3),normalizeHeaderName=__webpack_require__(201),DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(headers,value){!utils.isUndefined(headers)&&utils.isUndefined(headers["Content-Type"])&&(headers["Content-Type"]=value)}var adapter,defaults={adapter:("undefined"!=typeof XMLHttpRequest?adapter=__webpack_require__(202):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(adapter=__webpack_require__(208)),adapter),transformRequest:[function(data,headers){return normalizeHeaderName(headers,"Accept"),normalizeHeaderName(headers,"Content-Type"),utils.isFormData(data)||utils.isArrayBuffer(data)||utils.isBuffer(data)||utils.isStream(data)||utils.isFile(data)||utils.isBlob(data)?data:utils.isArrayBufferView(data)?data.buffer:utils.isURLSearchParams(data)?(setContentTypeIfUnset(headers,"application/x-www-form-urlencoded;charset=utf-8"),data.toString()):utils.isObject(data)?(setContentTypeIfUnset(headers,"application/json;charset=utf-8"),JSON.stringify(data)):data}],transformResponse:[function(data){if("string"==typeof data)try{data=JSON.parse(data)}catch(e){}return data}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(status){return status>=200&&status<300}};defaults.headers={common:{Accept:"application/json, text/plain, */*"}},utils.forEach(["delete","get","head"],(function(method){defaults.headers[method]={}})),utils.forEach(["post","put","patch"],(function(method){defaults.headers[method]=utils.merge(DEFAULT_CONTENT_TYPE)})),module.exports=defaults},function(module,exports,__webpack_require__){"use strict";var createError=__webpack_require__(52);module.exports=function(resolve,reject,response){var validateStatus=response.config.validateStatus;!validateStatus||validateStatus(response.status)?resolve(response):reject(createError("Request failed with status code "+response.status,response.config,null,response.request,response))}},function(module,exports,__webpack_require__){"use strict";module.exports=function(error,config,code,request,response){return error.config=config,code&&(error.code=code),error.request=request,error.response=response,error.isAxiosError=!0,error.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},error}},function(module,exports,__webpack_require__){"use strict";var isAbsoluteURL=__webpack_require__(203),combineURLs=__webpack_require__(204);module.exports=function(baseURL,requestedURL){return baseURL&&!isAbsoluteURL(requestedURL)?combineURLs(baseURL,requestedURL):requestedURL}},function(module,exports,__webpack_require__){var url=__webpack_require__(20),http=__webpack_require__(36),https=__webpack_require__(53),assert=__webpack_require__(30),Writable=__webpack_require__(15).Writable,debug=__webpack_require__(209)("follow-redirects"),SAFE_METHODS={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},eventHandlers=Object.create(null);function RedirectableRequest(options,responseCallback){Writable.call(this),options.headers=options.headers||{},this._options=options,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],options.host&&(options.hostname||(options.hostname=options.host),delete options.host),responseCallback&&this.on("response",responseCallback);var self=this;if(this._onNativeResponse=function(response){self._processResponse(response)},!options.pathname&&options.path){var searchPos=options.path.indexOf("?");searchPos<0?options.pathname=options.path:(options.pathname=options.path.substring(0,searchPos),options.search=options.path.substring(searchPos))}this._performRequest()}function wrap(protocols){var exports={maxRedirects:21,maxBodyLength:10485760},nativeProtocols={};return Object.keys(protocols).forEach((function(scheme){var protocol=scheme+":",nativeProtocol=nativeProtocols[protocol]=protocols[scheme],wrappedProtocol=exports[scheme]=Object.create(nativeProtocol);wrappedProtocol.request=function(options,callback){return"string"==typeof options?(options=url.parse(options)).maxRedirects=exports.maxRedirects:options=Object.assign({protocol:protocol,maxRedirects:exports.maxRedirects,maxBodyLength:exports.maxBodyLength},options),options.nativeProtocols=nativeProtocols,assert.equal(options.protocol,protocol,"protocol mismatch"),debug("options",options),new RedirectableRequest(options,callback)},wrappedProtocol.get=function(options,callback){var request=wrappedProtocol.request(options,callback);return request.end(),request}})),exports}["abort","aborted","error","socket","timeout"].forEach((function(event){eventHandlers[event]=function(arg){this._redirectable.emit(event,arg)}})),RedirectableRequest.prototype=Object.create(Writable.prototype),RedirectableRequest.prototype.write=function(data,encoding,callback){if(!("string"==typeof data||"object"==typeof data&&"length"in data))throw new Error("data should be a string, Buffer or Uint8Array");"function"==typeof encoding&&(callback=encoding,encoding=null),0!==data.length?this._requestBodyLength+data.length<=this._options.maxBodyLength?(this._requestBodyLength+=data.length,this._requestBodyBuffers.push({data:data,encoding:encoding}),this._currentRequest.write(data,encoding,callback)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort()):callback&&callback()},RedirectableRequest.prototype.end=function(data,encoding,callback){"function"==typeof data?(callback=data,data=encoding=null):"function"==typeof encoding&&(callback=encoding,encoding=null);var currentRequest=this._currentRequest;this.write(data||"",encoding,(function(){currentRequest.end(null,null,callback)}))},RedirectableRequest.prototype.setHeader=function(name,value){this._options.headers[name]=value,this._currentRequest.setHeader(name,value)},RedirectableRequest.prototype.removeHeader=function(name){delete this._options.headers[name],this._currentRequest.removeHeader(name)},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive","setTimeout"].forEach((function(method){RedirectableRequest.prototype[method]=function(a,b){return this._currentRequest[method](a,b)}})),["aborted","connection","socket"].forEach((function(property){Object.defineProperty(RedirectableRequest.prototype,property,{get:function(){return this._currentRequest[property]}})})),RedirectableRequest.prototype._performRequest=function(){var protocol=this._options.protocol,nativeProtocol=this._options.nativeProtocols[protocol];if(nativeProtocol){if(this._options.agents){var scheme=protocol.substr(0,protocol.length-1);this._options.agent=this._options.agents[scheme]}var request=this._currentRequest=nativeProtocol.request(this._options,this._onNativeResponse);for(var event in this._currentUrl=url.format(this._options),request._redirectable=this,eventHandlers)event&&request.on(event,eventHandlers[event]);if(this._isRedirect){var i=0,buffers=this._requestBodyBuffers;!function writeNext(){if(i<buffers.length){var buffer=buffers[i++];request.write(buffer.data,buffer.encoding,writeNext)}else request.end()}()}}else this.emit("error",new Error("Unsupported protocol "+protocol))},RedirectableRequest.prototype._processResponse=function(response){this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:response.headers,statusCode:response.statusCode});var location=response.headers.location;if(location&&!1!==this._options.followRedirects&&response.statusCode>=300&&response.statusCode<400){if(++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new Error("Max redirects exceeded."));var header,headers=this._options.headers;if(307!==response.statusCode&&!(this._options.method in SAFE_METHODS))for(header in this._options.method="GET",this._requestBodyBuffers=[],headers)/^content-/i.test(header)&&delete headers[header];if(!this._isRedirect)for(header in headers)/^host$/i.test(header)&&delete headers[header];var redirectUrl=url.resolve(this._currentUrl,location);debug("redirecting to",redirectUrl),Object.assign(this._options,url.parse(redirectUrl)),this._isRedirect=!0,this._performRequest(),response.destroy()}else response.responseUrl=this._currentUrl,response.redirects=this._redirects,this.emit("response",response),this._requestBodyBuffers=[]},module.exports=wrap({http:http,https:https}),module.exports.wrap=wrap},function(module,exports,__webpack_require__){function createDebug(namespace){var prevTime;function debug(){if(debug.enabled){var self=debug,curr=+new Date,ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr;for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];args[0]=exports.coerce(args[0]),"string"!=typeof args[0]&&args.unshift("%O");var index=0;args[0]=args[0].replace(/%([a-zA-Z%])/g,(function(match,format){if("%%"===match)return match;index++;var formatter=exports.formatters[format];if("function"==typeof formatter){var val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match})),exports.formatArgs.call(self,args);var logFn=debug.log||exports.log||console.log.bind(console);logFn.apply(self,args)}}return debug.namespace=namespace,debug.enabled=exports.enabled(namespace),debug.useColors=exports.useColors(),debug.color=function(namespace){var i,hash=0;for(i in namespace)hash=(hash<<5)-hash+namespace.charCodeAt(i),hash|=0;return exports.colors[Math.abs(hash)%exports.colors.length]}(namespace),debug.destroy=destroy,"function"==typeof exports.init&&exports.init(debug),exports.instances.push(debug),debug}function destroy(){var index=exports.instances.indexOf(this);return-1!==index&&(exports.instances.splice(index,1),!0)}(exports=module.exports=createDebug.debug=createDebug.default=createDebug).coerce=function(val){return val instanceof Error?val.stack||val.message:val},exports.disable=function(){exports.enable("")},exports.enable=function(namespaces){var i;exports.save(namespaces),exports.names=[],exports.skips=[];var split=("string"==typeof namespaces?namespaces:"").split(/[\s,]+/),len=split.length;for(i=0;i<len;i++)split[i]&&("-"===(namespaces=split[i].replace(/\*/g,".*?"))[0]?exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):exports.names.push(new RegExp("^"+namespaces+"$")));for(i=0;i<exports.instances.length;i++){var instance=exports.instances[i];instance.enabled=exports.enabled(instance.namespace)}},exports.enabled=function(name){if("*"===name[name.length-1])return!0;var i,len;for(i=0,len=exports.skips.length;i<len;i++)if(exports.skips[i].test(name))return!1;for(i=0,len=exports.names.length;i<len;i++)if(exports.names[i].test(name))return!0;return!1},exports.humanize=__webpack_require__(211),exports.instances=[],exports.names=[],exports.skips=[],exports.formatters={}},function(module,exports){module.exports=require("zlib")},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(3);module.exports=function(config1,config2){config2=config2||{};var config={},valueFromConfig2Keys=["url","method","params","data"],mergeDeepPropertiesKeys=["headers","auth","proxy"],defaultToConfig2Keys=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];utils.forEach(valueFromConfig2Keys,(function(prop){void 0!==config2[prop]&&(config[prop]=config2[prop])})),utils.forEach(mergeDeepPropertiesKeys,(function(prop){utils.isObject(config2[prop])?config[prop]=utils.deepMerge(config1[prop],config2[prop]):void 0!==config2[prop]?config[prop]=config2[prop]:utils.isObject(config1[prop])?config[prop]=utils.deepMerge(config1[prop]):void 0!==config1[prop]&&(config[prop]=config1[prop])})),utils.forEach(defaultToConfig2Keys,(function(prop){void 0!==config2[prop]?config[prop]=config2[prop]:void 0!==config1[prop]&&(config[prop]=config1[prop])}));var axiosKeys=valueFromConfig2Keys.concat(mergeDeepPropertiesKeys).concat(defaultToConfig2Keys),otherKeys=Object.keys(config2).filter((function(key){return-1===axiosKeys.indexOf(key)}));return utils.forEach(otherKeys,(function(prop){void 0!==config2[prop]?config[prop]=config2[prop]:void 0!==config1[prop]&&(config[prop]=config1[prop])})),config}},function(module,exports,__webpack_require__){"use strict";function Cancel(message){this.message=message}Cancel.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0,module.exports=Cancel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(11),async_mqtt_1=tslib_1.__importDefault(__webpack_require__(222)),fs_1=tslib_1.__importDefault(__webpack_require__(4)),lodash_clonedeep_1=tslib_1.__importDefault(__webpack_require__(49)),util_1=__webpack_require__(0),spacebunny_1=tslib_1.__importDefault(__webpack_require__(50)),utils_1=__webpack_require__(32);class MqttClient extends spacebunny_1.default{constructor(opts={}){super(opts),this.mqttListeners={},this.topics=[],this.onMessage=(callback,opts={qos:1})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){const topic=this.topicFor(null,this.inboxTopic);this.addMqttListener(topic,callback,topic),yield this.subscribe(topic,opts)})),this.publish=(channel,message,opts={qos:1})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){if(!this.isConnected())throw new Error(`${this.getClassName()} - Error sending message on channel ${channel} when client is not connected.`);{const topic=this.topicFor(null,channel);try{const bufferedMessage=Buffer.from(utils_1.encapsulateContent(message));yield this.mqttClient.publish(topic,bufferedMessage,opts),this.log("silly","Published message on topic "+topic)}catch(error){throw this.log("error","Error publishing on topic "+topic),error}}})),this.connect=(opts={})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){if(this.isConnected())return this.mqttClient;yield this.getEndpointConfigs();try{const clientId=this.connectionParams.deviceId||this.connectionParams.client;let mqttConnectionParams={host:this.connectionParams.host,protocol:this.tls?"mqtts":"mqtt",port:this.tls?this.connectionParams.protocols.mqtt.tlsPort:this.connectionParams.protocols.mqtt.port,username:`${this.connectionParams.vhost}:${clientId}`,password:this.connectionParams.secret,clientId:clientId,connectTimeout:opts.connectTimeout||this.connectionTimeout,reconnectPeriod:this.autoReconnect?opts.reconnectPeriod||this.reconnectTimeout:0,clean:!!util_1.isNullOrUndefined(opts.clean)||opts.clean,keepalive:opts.keepalive||this.heartbeat};this.tls&&(mqttConnectionParams=Object.assign(Object.assign({},mqttConnectionParams),this.tlsOpts)),this.mqttClient=yield async_mqtt_1.default.connectAsync(null,mqttConnectionParams,this.autoReconnect);const onError=err=>{err&&(this.emit("error",err),this.log("error",err)),this.mqttClient.removeAllListeners(),this.mqttClient=void 0};return this.mqttClient.on("error",onError),this.mqttClient.on("close",onError),this.mqttClient.on("message",(msgTopic,message)=>{try{let msg={};try{msg=JSON.parse(message.toString())}catch(e){msg=message.toString()}Object.entries(this.mqttListeners).forEach(([,listener])=>{const{callback:callback,topics:topics}=listener;0===topics.length||topics.includes(msgTopic)?(this.log("debug","Received message for topic "+msgTopic,msg),callback(msgTopic,msg)):this.log("silly","Received unlistened message for topic "+msgTopic,msg)})}catch(error){this.log("error","Error consuming message"),this.log("error",error)}}),this.emit("connect"),this.log("debug","Client connected!"),this.mqttClient}catch(error){if(util_1.isNullOrUndefined(this.mqttClient)||(this.mqttClient.removeAllListeners(),this.mqttClient=void 0),this.log("error","Error during connection"),!this.autoReconnect)throw error;{this.log("error",error.message);const timeout=util_1.promisify(setTimeout);yield timeout(this.reconnectTimeout),this.connect(opts)}}})),this.isConnected=()=>!util_1.isNullOrUndefined(this.mqttClient)&&this.mqttClient.connected,this.addMqttListener=(name,callback,topics)=>{this.mqttListeners[name]={callback:callback,topics:Array.isArray(topics)?topics:[topics]}},this.removeMqttListener=name=>{delete this.mqttListeners[name]},this.subscribe=(topics,opts={qos:1})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){if(!this.isConnected())throw new Error(this.getClassName()+" - Trying to subscribe when client is not connected");{const topicsToSubscribe=Array.isArray(topics)?topics:[topics];yield this.mqttClient.subscribe(topicsToSubscribe,opts),this.topics.push(...topicsToSubscribe),this.log("info","Client subscribed to topics: "+topicsToSubscribe.join(","))}})),this.topicFor=(deviceId,channel)=>`${deviceId||this.getDeviceId()}/${channel}`,this.publishCachedMessages=()=>tslib_1.__awaiter(this,void 0,void 0,(function*(){if(this.isConnected()&&this.cachedMessages.length>0){const cachedMessagesToSend=lodash_clonedeep_1.default(this.cachedMessages);this.log("debug",`Publishing ${cachedMessagesToSend.length} cached messages...`);for(let index=0;index<cachedMessagesToSend.length;index+=1){const cachedMessage=cachedMessagesToSend[index];this.log("silly",`Sending message ${index+1} from cache`);const{message:message,channel:channel,options:options}=cachedMessage;if(yield this.publish(channel,message,Object.assign({qos:1},options))){const itemToRemove=this.cachedMessages.findIndex(message);this.cachedMessages.splice(itemToRemove,1)}}this.writeCachedMessagesFile()}})),this.topics=[],this.mqttClient=void 0,this.protocol="mqtt",this.tlsProtocol="mqtts",this.connectionOpts={qos:1,clean:!0};const{cert:cert,key:key,passphrase:passphrase,ca:ca,pfx:pfx,disableCertCheck:disableCertCheck}=opts;this.tlsOpts={},cert&&(this.tlsOpts.cert=fs_1.default.readFileSync(cert)),key&&(this.tlsOpts.key=fs_1.default.readFileSync(key)),passphrase&&(this.tlsOpts.passphrase=passphrase),ca&&(Array.isArray(ca)?this.tlsOpts.ca=ca.map(element=>fs_1.default.readFileSync(element)):this.tlsOpts.ca=[fs_1.default.readFileSync(ca)]),pfx&&(this.tlsOpts.pfx=fs_1.default.readFileSync(pfx)),this.tlsOpts.rejectUnauthorized=!disableCertCheck,this.on("connect",()=>{this.publishCachedMessages()})}disconnect(){return tslib_1.__awaiter(this,void 0,void 0,(function*(){if(this.isConnected())try{yield this.unsubscribe(),yield this.mqttClient.end()}catch(error){throw this.log("error","Error disconnecting client."),error}return this.mqttClient=void 0,this.mqttListeners={},this.topics=[],this.emit("disconnected"),this.log("info","disconnected"),!0}))}unsubscribe(topics=[]){return tslib_1.__awaiter(this,void 0,void 0,(function*(){let topicsToUnsubscribe=this.topics.length>0&&0===topics.length?this.topics:topics;if(topicsToUnsubscribe=Array.isArray(topicsToUnsubscribe)?topicsToUnsubscribe:[topicsToUnsubscribe],!this.isConnected())throw new Error(`${this.getClassName()} - Error trying to unsucscribe from ${topicsToUnsubscribe.join(",")} on an invalid connection`);topicsToUnsubscribe.length>0&&(yield this.mqttClient.unsubscribe(topicsToUnsubscribe));for(let index=0;index<topicsToUnsubscribe.length;index+=1){const topic=topicsToUnsubscribe[index];for(let idx=0;idx<this.topics.length;idx+=1)this.topics[idx]===topic&&this.topics.splice(idx,1)}this.log("info","Client unsubscribed from topics: "+topicsToUnsubscribe.join(","))}))}}exports.default=MqttClient},function(module,exports,__webpack_require__){"use strict";var events=__webpack_require__(5),Store=__webpack_require__(56),eos=__webpack_require__(42),mqttPacket=__webpack_require__(282),Writable=__webpack_require__(7).Writable,inherits=__webpack_require__(2),reInterval=__webpack_require__(289),validations=__webpack_require__(290),xtend=__webpack_require__(21),setImmediate=global.setImmediate||function(callback){process.nextTick(callback)},defaultConnectOptions={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0};function sendPacket(client,packet,cb){client.emit("packetsend",packet),!mqttPacket.writeToStream(packet,client.stream)&&cb?client.stream.once("drain",cb):cb&&cb()}function storeAndSend(client,packet,cb){client.outgoingStore.put(packet,(function(err){if(err)return cb&&cb(err);sendPacket(client,packet,cb)}))}function nop(){}function MqttClient(streamBuilder,options){var k,that=this;if(!(this instanceof MqttClient))return new MqttClient(streamBuilder,options);for(k in this.options=options||{},defaultConnectOptions)void 0===this.options[k]?this.options[k]=defaultConnectOptions[k]:this.options[k]=options[k];this.options.clientId="string"==typeof this.options.clientId?this.options.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),this.streamBuilder=streamBuilder,this.outgoingStore=this.options.outgoingStore||new Store,this.incomingStore=this.options.incomingStore||new Store,this.queueQoSZero=void 0===this.options.queueQoSZero||this.options.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this.nextId=Math.max(1,Math.floor(65535*Math.random())),this.outgoing={},this.on("connect",(function(){if(!this.disconnected){this.connected=!0;var outStore=this.outgoingStore.createStream();this.once("close",remove),outStore.on("end",(function(){that.removeListener("close",remove)})),outStore.on("error",(function(err){that.removeListener("close",remove),that.emit("error",err)})),function storeDeliver(){if(outStore){var cb,packet=outStore.read(1);packet?that.disconnecting||that.reconnectTimer?outStore.destroy&&outStore.destroy():(cb=that.outgoing[packet.messageId],that.outgoing[packet.messageId]=function(err,status){cb&&cb(err,status),storeDeliver()},that._sendPacket(packet)):outStore.once("readable",storeDeliver)}}()}function remove(){outStore.destroy(),outStore=null}})),this.on("close",(function(){this.connected=!1,clearTimeout(this.connackTimer)})),this.on("connect",this._setupPingTimer),this.on("connect",(function(){var queue=this.queue;!function deliver(){var packet,entry=queue.shift();entry&&(packet=entry.packet,that._sendPacket(packet,(function(err){entry.cb&&entry.cb(err),deliver()})))}()}));var firstConnection=!0;this.on("connect",(function(){!firstConnection&&this.options.clean&&Object.keys(this._resubscribeTopics).length>0&&(this.options.resubscribe?(this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics)):this._resubscribeTopics={}),firstConnection=!1})),this.on("close",(function(){null!==that.pingTimer&&(that.pingTimer.clear(),that.pingTimer=null)})),this.on("close",this._setupReconnect),events.EventEmitter.call(this),this._setupStream()}inherits(MqttClient,events.EventEmitter),MqttClient.prototype._setupStream=function(){var connectPacket,that=this,writable=new Writable,parser=mqttPacket.parser(this.options),completeParse=null,packets=[];function nextTickWork(){process.nextTick(work)}function work(){var packet=packets.shift(),done=completeParse;packet?that._handlePacket(packet,nextTickWork):(completeParse=null,done())}this._clearReconnect(),this.stream=this.streamBuilder(this),parser.on("packet",(function(packet){packets.push(packet)})),writable._write=function(buf,enc,done){completeParse=done,parser.parse(buf),work()},this.stream.pipe(writable),this.stream.on("error",nop),eos(this.stream,this.emit.bind(this,"close")),(connectPacket=Object.create(this.options)).cmd="connect",sendPacket(this,connectPacket),parser.on("error",this.emit.bind(this,"error")),this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){that._cleanUp(!0)}),this.options.connectTimeout)},MqttClient.prototype._handlePacket=function(packet,done){switch(this.emit("packetreceive",packet),packet.cmd){case"publish":this._handlePublish(packet,done);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(packet),done();break;case"pubrel":this._handlePubrel(packet,done);break;case"connack":this._handleConnack(packet),done();break;case"pingresp":this._handlePingresp(packet),done()}},MqttClient.prototype._checkDisconnecting=function(callback){return this.disconnecting&&(callback?callback(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},MqttClient.prototype.publish=function(topic,message,opts,callback){var packet;"function"==typeof opts&&(callback=opts,opts=null);if(opts=xtend({qos:0,retain:!1,dup:!1},opts),this._checkDisconnecting(callback))return this;switch(packet={cmd:"publish",topic:topic,payload:message,qos:opts.qos,retain:opts.retain,messageId:this._nextId(),dup:opts.dup},opts.qos){case 1:case 2:this.outgoing[packet.messageId]=callback||nop,this._sendPacket(packet);break;default:this._sendPacket(packet,callback)}return this},MqttClient.prototype.subscribe=function(){var packet,invalidTopic,args=Array.prototype.slice.call(arguments),subs=[],obj=args.shift(),resubscribe=obj.resubscribe,callback=args.pop()||nop,opts=args.pop(),that=this;if(delete obj.resubscribe,"string"==typeof obj&&(obj=[obj]),"function"!=typeof callback&&(opts=callback,callback=nop),null!==(invalidTopic=validations.validateTopics(obj)))return setImmediate(callback,new Error("Invalid topic "+invalidTopic)),this;if(this._checkDisconnecting(callback))return this;var defaultOpts={qos:0};if(opts=xtend(defaultOpts,opts),Array.isArray(obj)?obj.forEach((function(topic){(that._resubscribeTopics[topic]<opts.qos||!that._resubscribeTopics.hasOwnProperty(topic)||resubscribe)&&subs.push({topic:topic,qos:opts.qos})})):Object.keys(obj).forEach((function(k){(that._resubscribeTopics[k]<obj[k]||!that._resubscribeTopics.hasOwnProperty(k)||resubscribe)&&subs.push({topic:k,qos:obj[k]})})),packet={cmd:"subscribe",subscriptions:subs,qos:1,retain:!1,dup:!1,messageId:this._nextId()},subs.length){if(this.options.resubscribe){var topics=[];subs.forEach((function(sub){that.options.reconnectPeriod>0&&(that._resubscribeTopics[sub.topic]=sub.qos,topics.push(sub.topic))})),that.messageIdToTopic[packet.messageId]=topics}return this.outgoing[packet.messageId]=function(err,packet){if(!err)for(var granted=packet.granted,i=0;i<granted.length;i+=1)subs[i].qos=granted[i];callback(err,subs)},this._sendPacket(packet),this}callback(null,[])},MqttClient.prototype.unsubscribe=function(topic,callback){var packet={cmd:"unsubscribe",qos:1,messageId:this._nextId()},that=this;return callback=callback||nop,this._checkDisconnecting(callback)||("string"==typeof topic?packet.unsubscriptions=[topic]:"object"==typeof topic&&topic.length&&(packet.unsubscriptions=topic),this.options.resubscribe&&packet.unsubscriptions.forEach((function(topic){delete that._resubscribeTopics[topic]})),this.outgoing[packet.messageId]=callback,this._sendPacket(packet)),this},MqttClient.prototype.end=function(force,cb){var that=this;function closeStores(){that.disconnected=!0,that.incomingStore.close((function(){that.outgoingStore.close((function(){cb&&cb.apply(null,arguments),that.emit("end")}))})),that._deferredReconnect&&that._deferredReconnect()}function finish(){that._cleanUp(force,setImmediate.bind(null,closeStores))}return"function"==typeof force&&(cb=force,force=!1),this.disconnecting||(this._clearReconnect(),this.disconnecting=!0,!force&&Object.keys(this.outgoing).length>0?this.once("outgoingEmpty",setTimeout.bind(null,finish,10)):finish()),this},MqttClient.prototype.removeOutgoingMessage=function(mid){var cb=this.outgoing[mid];return delete this.outgoing[mid],this.outgoingStore.del({messageId:mid},(function(){cb(new Error("Message removed"))})),this},MqttClient.prototype.reconnect=function(opts){var that=this,f=function(){opts?(that.options.incomingStore=opts.incomingStore,that.options.outgoingStore=opts.outgoingStore):(that.options.incomingStore=null,that.options.outgoingStore=null),that.incomingStore=that.options.incomingStore||new Store,that.outgoingStore=that.options.outgoingStore||new Store,that.disconnecting=!1,that.disconnected=!1,that._deferredReconnect=null,that._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=f:f(),this},MqttClient.prototype._reconnect=function(){this.emit("reconnect"),this._setupStream()},MqttClient.prototype._setupReconnect=function(){var that=this;!that.disconnecting&&!that.reconnectTimer&&that.options.reconnectPeriod>0&&(this.reconnecting||(this.emit("offline"),this.reconnecting=!0),that.reconnectTimer=setInterval((function(){that._reconnect()}),that.options.reconnectPeriod))},MqttClient.prototype._clearReconnect=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},MqttClient.prototype._cleanUp=function(forced,done){var queue;done&&this.stream.on("close",done),forced?(0===this.options.reconnectPeriod&&this.options.clean&&(queue=this.outgoing)&&Object.keys(queue).forEach((function(messageId){"function"==typeof queue[messageId]&&(queue[messageId](new Error("Connection closed")),delete queue[messageId])})),this.stream.destroy()):this._sendPacket({cmd:"disconnect"},setImmediate.bind(null,this.stream.end.bind(this.stream))),this.disconnecting||(this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null),done&&!this.connected&&(this.stream.removeListener("close",done),done())},MqttClient.prototype._sendPacket=function(packet,cb){if(this.connected){switch(this._shiftPingInterval(),packet.cmd){case"publish":break;case"pubrel":return void storeAndSend(this,packet,cb);default:return void sendPacket(this,packet,cb)}switch(packet.qos){case 2:case 1:storeAndSend(this,packet,cb);break;case 0:default:sendPacket(this,packet,cb)}}else 0===(packet.qos||0)&&this.queueQoSZero||"publish"!==packet.cmd?this.queue.push({packet:packet,cb:cb}):packet.qos>0?(cb=this.outgoing[packet.messageId],this.outgoingStore.put(packet,(function(err){if(err)return cb&&cb(err)}))):cb&&cb(new Error("No connection to broker"))},MqttClient.prototype._setupPingTimer=function(){var that=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=reInterval((function(){that._checkPing()}),1e3*this.options.keepalive))},MqttClient.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},MqttClient.prototype._checkPing=function(){this.pingResp?(this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):this._cleanUp(!0)},MqttClient.prototype._handlePingresp=function(){this.pingResp=!0},MqttClient.prototype._handleConnack=function(packet){var rc=packet.returnCode;if(clearTimeout(this.connackTimer),0===rc)this.reconnecting=!1,this.emit("connect",packet);else if(rc>0){var err=new Error("Connection refused: "+["","Unacceptable protocol version","Identifier rejected","Server unavailable","Bad username or password","Not authorized"][rc]);err.code=rc,this.emit("error",err)}},MqttClient.prototype._handlePublish=function(packet,done){done=void 0!==done?done:nop;var topic=packet.topic.toString(),message=packet.payload,qos=packet.qos,mid=packet.messageId,that=this;switch(qos){case 2:this.incomingStore.put(packet,(function(err){if(err)return done(err);that._sendPacket({cmd:"pubrec",messageId:mid},done)}));break;case 1:this.emit("message",topic,message,packet),this.handleMessage(packet,(function(err){if(err)return done(err);that._sendPacket({cmd:"puback",messageId:mid},done)}));break;case 0:this.emit("message",topic,message,packet),this.handleMessage(packet,done)}},MqttClient.prototype.handleMessage=function(packet,callback){callback()},MqttClient.prototype._handleAck=function(packet){var mid=packet.messageId,type=packet.cmd,response=null,cb=this.outgoing[mid],that=this;if(cb){switch(type){case"pubcomp":case"puback":delete this.outgoing[mid],this.outgoingStore.del(packet,cb);break;case"pubrec":response={cmd:"pubrel",qos:2,messageId:mid},this._sendPacket(response);break;case"suback":if(delete this.outgoing[mid],1===packet.granted.length&&0!=(128&packet.granted[0])){var topics=this.messageIdToTopic[mid];topics&&topics.forEach((function(topic){delete that._resubscribeTopics[topic]}))}cb(null,packet);break;case"unsuback":delete this.outgoing[mid],cb(null);break;default:that.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}},MqttClient.prototype._handlePubrel=function(packet,callback){callback=void 0!==callback?callback:nop;var mid=packet.messageId,that=this,comp={cmd:"pubcomp",messageId:mid};that.incomingStore.get(packet,(function(err,pub){err||"pubrel"===pub.cmd?that._sendPacket(comp,callback):(that.emit("message",pub.topic,pub.payload,pub),that.incomingStore.put(packet,(function(err){if(err)return callback(err);that.handleMessage(pub,(function(err){if(err)return callback(err);that._sendPacket(comp,callback)}))})))}))},MqttClient.prototype._nextId=function(){var id=this.nextId++;return 65536===this.nextId&&(this.nextId=1),id},MqttClient.prototype.getLastMessageId=function(){return 1===this.nextId?65535:this.nextId-1},module.exports=MqttClient},function(module,exports,__webpack_require__){"use strict";var pna=__webpack_require__(33);module.exports=Readable;var Duplex,isArray=__webpack_require__(223);Readable.ReadableState=ReadableState;__webpack_require__(5).EventEmitter;var EElistenerCount=function(emitter,type){return emitter.listeners(type).length},Stream=__webpack_require__(96),Buffer=__webpack_require__(37).Buffer,OurUint8Array=global.Uint8Array||function(){};var util=Object.create(__webpack_require__(8));util.inherits=__webpack_require__(2);var debugUtil=__webpack_require__(0),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder,BufferList=__webpack_require__(224),destroyImpl=__webpack_require__(97);util.inherits(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];function ReadableState(options,stream){options=options||{};var isDuplex=stream instanceof(Duplex=Duplex||__webpack_require__(22));this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,readableHwm=options.readableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(readableHwm||0===readableHwm)?readableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(99).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||__webpack_require__(22),!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this),this.readable=!0,options&&("function"==typeof options.read&&(this._read=options.read),"function"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){var er,state=stream._readableState;null===chunk?(state.reading=!1,function(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}(stream,state)):(skipChunkCheck||(er=function(state,chunk){var er;obj=chunk,Buffer.isBuffer(obj)||obj instanceof OurUint8Array||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk"));var obj;return er}(state,chunk)),er?stream.emit("error",er):state.objectMode||chunk&&chunk.length>0?("string"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),addToFront?state.endEmitted?stream.emit("error",new Error("stream.unshift() after end event")):addChunk(stream,state,chunk,!0):state.ended?stream.emit("error",new Error("stream.push() after EOF")):(state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1))):addToFront||(state.reading=!1));return function(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}(state)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){this.push(null),cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:"string"==typeof chunk&&((encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=""),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(99).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!=n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=function(n){return n>=8388608?n=8388608:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?pna.nextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,pna.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,state.awaitDrain=0,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){return 0===state.length?null:(state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.head.data:state.buffer.concat(state.length),state.buffer.clear()):ret=function(n,list,hasStrings){var ret;n<list.head.data.length?(ret=list.head.data.slice(0,n),list.head.data=list.head.data.slice(n)):ret=n===list.head.data.length?list.shift():hasStrings?function(n,list){var p=list.head,c=1,ret=p.data;n-=ret.length;for(;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=str.slice(nb));break}++c}return list.length-=c,ret}(n,list):function(n,list){var ret=Buffer.allocUnsafe(n),p=list.head,c=1;p.data.copy(ret),n-=p.data.length;for(;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=buf.slice(nb));break}++c}return list.length-=c,ret}(n,list);return ret}(n,state.buffer,state.decoder),ret);var ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,pna.nextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var ret,doRead=state.needReadable;return debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&debug("length less than watermark",doRead=!0),state.ended||state.reading?debug("reading or ended",doRead=!1):doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state))),null===(ret=n>0?fromList(n,state):null)?(state.needReadable=!0,n=0):state.length-=n,0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var endFn=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr?onend:unpipe;function onunpipe(readable,unpipeInfo){debug("onunpipe"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",unpipe),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain())}function onend(){debug("onend"),dest.end()}state.endEmitted?pna.nextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=function(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}(src);dest.on("drain",ondrain);var cleanedUp=!1;var increasedAwaitDrain=!1;function ondata(chunk){debug("ondata"),increasedAwaitDrain=!1,!1!==dest.write(chunk)||increasedAwaitDrain||((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++,increasedAwaitDrain=!0),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}return src.on("data",ondata),function(emitter,event,fn){if("function"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes||(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this,unpipeInfo)),this;if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this,unpipeInfo);return this}var index=indexOf(state.pipes,dest);return-1===index||(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this,unpipeInfo)),this},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev)!1!==this._readableState.flowing&&this.resume();else if("readable"===ev){var state=this._readableState;state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.emittedReadable=!1,state.reading?state.length&&emitReadable(this):pna.nextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,function(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,pna.nextTick(resume_,stream,state))}(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var _this=this,state=this._readableState,paused=!1;for(var i in stream.on("end",(function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&_this.push(chunk)}_this.push(null)})),stream.on("data",(function(chunk){(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),state.objectMode&&null==chunk)||(state.objectMode||chunk&&chunk.length)&&(_this.push(chunk)||(paused=!0,stream.pause()))})),stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]));return this._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},this},Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Readable._fromList=fromList},function(module,exports,__webpack_require__){module.exports=__webpack_require__(15)},function(module,exports,__webpack_require__){"use strict";var pna=__webpack_require__(33);function emitErrorNT(self,err){self.emit("error",err)}module.exports={destroy:function(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;return readableDestroyed||writableDestroyed?(cb?cb(err):!err||this._writableState&&this._writableState.errorEmitted||pna.nextTick(emitErrorNT,this,err),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,(function(err){!cb&&err?(pna.nextTick(emitErrorNT,_this,err),_this._writableState&&(_this._writableState.errorEmitted=!0)):cb&&cb(err)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(module,exports,__webpack_require__){"use strict";var pna=__webpack_require__(33);function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){!function(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;for(;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=corkReq:state.corkedRequestsFree=corkReq}(_this,state)}}module.exports=Writable;var Duplex,asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:pna.nextTick;Writable.WritableState=WritableState;var util=Object.create(__webpack_require__(8));util.inherits=__webpack_require__(2);var internalUtil={deprecate:__webpack_require__(225)},Stream=__webpack_require__(96),Buffer=__webpack_require__(37).Buffer,OurUint8Array=global.Uint8Array||function(){};var realHasInstance,destroyImpl=__webpack_require__(97);function nop(){}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(22),options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,writableHwm=options.writableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(writableHwm||0===writableHwm)?writableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){!function(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(function(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}(state),er)!function(stream,state,sync,er,cb){--state.pendingcb,sync?(pna.nextTick(cb,er),pna.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,stream.emit("error",er)):(cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er),finishMaybe(stream,state))}(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){if(Duplex=Duplex||__webpack_require__(22),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev),"function"==typeof options.destroy&&(this._destroy=options.destroy),"function"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function afterWrite(stream,state,finished,cb){finished||function(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)buffer[count]=entry,entry.isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state),state.bufferedRequestCount=0}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.bufferedRequestCount--,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final((function(err){state.pendingcb--,err&&stream.emit("error",err),state.prefinished=!0,stream.emit("prefinish"),finishMaybe(stream,state)}))}function finishMaybe(stream,state){var need=needFinish(state);return need&&(!function(stream,state){state.prefinished||state.finalCalled||("function"==typeof stream._final?(state.pendingcb++,state.finalCalled=!0,pna.nextTick(callFinal,stream,state)):(state.prefinished=!0,stream.emit("prefinish")))}(stream,state),0===state.pendingcb&&(state.finished=!0,stream.emit("finish"))),need}util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||this===Writable&&(object&&object._writableState instanceof WritableState)}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var obj,state=this._writableState,ret=!1,isBuf=!state.objectMode&&(obj=chunk,Buffer.isBuffer(obj)||obj instanceof OurUint8Array);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),"function"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?function(stream,cb){var er=new Error("write after end");stream.emit("error",er),pna.nextTick(cb,er)}(this,cb):(isBuf||function(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),pna.nextTick(cb,er),valid=!1),valid}(this,state,chunk,cb))&&(state.pendingcb++,ret=function(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=function(state,chunk,encoding){state.objectMode||!1===state.decodeStrings||"string"!=typeof chunk||(chunk=Buffer.from(chunk,encoding));return chunk}(state,chunk,encoding);chunk!==newChunk&&(isBuf=!0,encoding="buffer",chunk=newChunk)}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;ret||(state.needDrain=!0);if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!=chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||function(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?pna.nextTick(cb):stream.once("finish",cb));state.ended=!0,stream.writable=!1}(this,state,cb)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){this.end(),cb(err)}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(37).Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=""+encoding)&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function StringDecoder(encoding){var nb;switch(this.encoding=function(enc){var nenc=function(enc){if(!enc)return"utf8";for(var retried;;)switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase(),retried=!0}}(enc);if("string"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}(encoding),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,nb=4;break;case"utf8":this.fillLast=utf8FillLast,nb=4;break;case"base64":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:byte>>6==2?-1:-2}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=function(self,buf,p){if(128!=(192&buf[0]))return self.lastNeed=0,"�";if(self.lastNeed>1&&buf.length>1){if(128!=(192&buf[1]))return self.lastNeed=1,"�";if(self.lastNeed>2&&buf.length>2&&128!=(192&buf[2]))return self.lastNeed=2,"�"}}(this,buf);return void 0!==r?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf16Text(buf,i){if((buf.length-i)%2==0){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0===n?buf.toString("base64",i):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString("base64",i,buf.length-n))}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(buf){if(0===buf.length)return"";var r,i;if(this.lastNeed){if(void 0===(r=this.fillLast(buf)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||""},StringDecoder.prototype.end=function(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+"�":r},StringDecoder.prototype.text=function(buf,i){var total=function(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(nb>=0)return nb>0&&(self.lastNeed=nb-1),nb;if(--j<i||-2===nb)return 0;if((nb=utf8CheckByte(buf[j]))>=0)return nb>0&&(self.lastNeed=nb-2),nb;if(--j<i||-2===nb)return 0;if((nb=utf8CheckByte(buf[j]))>=0)return nb>0&&(2===nb?nb=0:self.lastNeed=nb-3),nb;return 0}(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString("utf8",i,end)},StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length}},function(module,exports,__webpack_require__){"use strict";module.exports=Transform;var Duplex=__webpack_require__(22),util=Object.create(__webpack_require__(8));function afterTransform(er,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return this.emit("error",new Error("write callback called multiple times"));ts.writechunk=null,ts.writecb=null,null!=data&&this.push(data),cb(er);var rs=this._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.on("prefinish",prefinish)}function prefinish(){var _this=this;"function"==typeof this._flush?this._flush((function(er,data){done(_this,er,data)})):done(this,null,null)}function done(stream,er,data){if(er)return stream.emit("error",er);if(null!=data&&stream.push(data),stream._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(stream._transformState.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0},Transform.prototype._destroy=function(err,cb){var _this2=this;Duplex.prototype._destroy.call(this,err,(function(err2){cb(err2),_this2.emit("close")}))}},function(module,exports,__webpack_require__){"use strict";var value=__webpack_require__(10);module.exports=function(){return value(this).length=0,this}},function(module,exports,__webpack_require__){"use strict";var toInteger=__webpack_require__(235),max=Math.max;module.exports=function(value){return max(0,toInteger(value))}},function(module,exports,__webpack_require__){"use strict";var create=Object.create,getPrototypeOf=Object.getPrototypeOf,plainObject={};module.exports=function(){var setPrototypeOf=Object.setPrototypeOf,customCreate=arguments[0]||create;return"function"==typeof setPrototypeOf&&getPrototypeOf(setPrototypeOf(customCreate(null),plainObject))===plainObject}},function(module,exports,__webpack_require__){"use strict";var validate,isObject=__webpack_require__(239),value=__webpack_require__(10),objIsPrototypeOf=Object.prototype.isPrototypeOf,defineProperty=Object.defineProperty,nullDesc={configurable:!0,enumerable:!1,writable:!0,value:void 0};validate=function(obj,prototype){if(value(obj),null===prototype||isObject(prototype))return obj;throw new TypeError("Prototype must be null or an object")},module.exports=function(status){var fn,set;return status?(2===status.level?status.set?(set=status.set,fn=function(obj,prototype){return set.call(validate(obj,prototype),prototype),obj}):fn=function(obj,prototype){return validate(obj,prototype).__proto__=prototype,obj}:fn=function self(obj,prototype){var isNullBase;return validate(obj,prototype),(isNullBase=objIsPrototypeOf.call(self.nullPolyfill,obj))&&delete self.nullPolyfill.__proto__,null===prototype&&(prototype=self.nullPolyfill),obj.__proto__=prototype,isNullBase&&defineProperty(self.nullPolyfill,"__proto__",nullDesc),obj},Object.defineProperty(fn,"level",{configurable:!1,enumerable:!1,writable:!1,value:status.level})):null}(function(){var set,tmpObj1=Object.create(null),tmpObj2={},desc=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(desc){try{(set=desc.set).call(tmpObj1,tmpObj2)}catch(ignore){}if(Object.getPrototypeOf(tmpObj1)===tmpObj2)return{set:set,level:2}}return tmpObj1.__proto__=tmpObj2,Object.getPrototypeOf(tmpObj1)===tmpObj2?{level:2}:((tmpObj1={}).__proto__=tmpObj2,Object.getPrototypeOf(tmpObj1)===tmpObj2&&{level:1})}()),__webpack_require__(240)},function(module,exports,__webpack_require__){"use strict";var isFunction=__webpack_require__(241),classRe=/^\s*class[\s{/}]/,functionToString=Function.prototype.toString;module.exports=function(value){return!!isFunction(value)&&!classRe.test(functionToString.call(value))}},function(module,exports,__webpack_require__){"use strict";var isValue=__webpack_require__(23),forEach=Array.prototype.forEach,create=Object.create,process=function(src,obj){var key;for(key in src)obj[key]=src[key]};module.exports=function(opts1){var result=create(null);return forEach.call(arguments,(function(options){isValue(options)&&process(Object(options),result)})),result}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(248)()?String.prototype.contains:__webpack_require__(249)},function(module,exports,__webpack_require__){"use strict";var isSymbol=__webpack_require__(255);module.exports=function(value){if(!isSymbol(value))throw new TypeError(value+" is not a symbol");return value}},function(module,exports,__webpack_require__){"use strict";var isIterable=__webpack_require__(259);module.exports=function(value){if(!isIterable(value))throw new TypeError(value+" is not iterable");return value}},function(module,exports,__webpack_require__){"use strict";var isValue=__webpack_require__(24),isObject=__webpack_require__(57),stringCoerce=__webpack_require__(265),toShortString=__webpack_require__(266),resolveMessage=function(message,value){return message.replace("%v",toShortString(value))};module.exports=function(value,defaultMessage,inputOptions){if(!isObject(inputOptions))throw new TypeError(resolveMessage(defaultMessage,value));if(!isValue(value)){if("default"in inputOptions)return inputOptions.default;if(inputOptions.isOptional)return null}var errorMessage=stringCoerce(inputOptions.errorMessage);throw isValue(errorMessage)||(errorMessage=defaultMessage),new TypeError(resolveMessage(errorMessage,value))}},function(module,exports){module.exports=function wrappy(fn,cb){if(fn&&cb)return wrappy(fn)(cb);if("function"!=typeof fn)throw new TypeError("need wrapper function");return Object.keys(fn).forEach((function(k){wrapper[k]=fn[k]})),wrapper;function wrapper(){for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];var ret=fn.apply(this,args),cb=args[args.length-1];return"function"==typeof ret&&ret!==cb&&Object.keys(cb).forEach((function(k){ret[k]=cb[k]})),ret}}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(25).Buffer,protocol=module.exports;for(var k in protocol.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"reserved"},protocol.codes={},protocol.types){var v=protocol.types[k];protocol.codes[v]=k}function genHeader(type){return[0,1,2].map((function(qos){return[0,1].map((function(dup){return[0,1].map((function(retain){var buf=new Buffer(1);return buf.writeUInt8(protocol.codes[type]<<protocol.CMD_SHIFT|(dup?protocol.DUP_MASK:0)|qos<<protocol.QOS_SHIFT|retain,0,!0),buf}))}))}))}protocol.CMD_SHIFT=4,protocol.CMD_MASK=240,protocol.DUP_MASK=8,protocol.QOS_MASK=3,protocol.QOS_SHIFT=1,protocol.RETAIN_MASK=1,protocol.LENGTH_MASK=127,protocol.LENGTH_FIN_MASK=128,protocol.SESSIONPRESENT_MASK=1,protocol.SESSIONPRESENT_HEADER=Buffer.from([protocol.SESSIONPRESENT_MASK]),protocol.CONNACK_HEADER=Buffer.from([protocol.codes.connack<<protocol.CMD_SHIFT]),protocol.USERNAME_MASK=128,protocol.PASSWORD_MASK=64,protocol.WILL_RETAIN_MASK=32,protocol.WILL_QOS_MASK=24,protocol.WILL_QOS_SHIFT=3,protocol.WILL_FLAG_MASK=4,protocol.CLEAN_SESSION_MASK=2,protocol.CONNECT_HEADER=Buffer.from([protocol.codes.connect<<protocol.CMD_SHIFT]),protocol.PUBLISH_HEADER=genHeader("publish"),protocol.SUBSCRIBE_HEADER=genHeader("subscribe"),protocol.UNSUBSCRIBE_HEADER=genHeader("unsubscribe"),protocol.ACKS={unsuback:genHeader("unsuback"),puback:genHeader("puback"),pubcomp:genHeader("pubcomp"),pubrel:genHeader("pubrel"),pubrec:genHeader("pubrec")},protocol.SUBACK_HEADER=Buffer.from([protocol.codes.suback<<protocol.CMD_SHIFT]),protocol.VERSION3=Buffer.from([3]),protocol.VERSION4=Buffer.from([4]),protocol.QOS=[0,1,2].map((function(qos){return Buffer.from([qos])})),protocol.EMPTY={pingreq:Buffer.from([protocol.codes.pingreq<<4,0]),pingresp:Buffer.from([protocol.codes.pingresp<<4,0]),disconnect:Buffer.from([protocol.codes.disconnect<<4,0])}},function(module,exports,__webpack_require__){"use strict";var protocol=__webpack_require__(112),Buffer=__webpack_require__(25).Buffer,empty=Buffer.allocUnsafe(0),zeroBuf=Buffer.from([0]),numbers=__webpack_require__(288),nextTick=__webpack_require__(33).nextTick,numCache=numbers.cache,generateNumber=numbers.generateNumber,generateCache=numbers.generateCache,writeNumber=writeNumberCached,toGenerate=!0;function generate(packet,stream){switch(stream.cork&&(stream.cork(),nextTick(uncork,stream)),toGenerate&&(toGenerate=!1,generateCache()),packet.cmd){case"connect":return function(opts,stream){var settings=opts||{},protocolId=settings.protocolId||"MQTT",protocolVersion=settings.protocolVersion||4,will=settings.will,clean=settings.clean,keepalive=settings.keepalive||0,clientId=settings.clientId||"",username=settings.username,password=settings.password;void 0===clean&&(clean=!0);var length=0;if(!protocolId||"string"!=typeof protocolId&&!Buffer.isBuffer(protocolId))return stream.emit("error",new Error("Invalid protocolId")),!1;length+=protocolId.length+2;if(3!==protocolVersion&&4!==protocolVersion)return stream.emit("error",new Error("Invalid protocol version")),!1;length+=1;if("string"!=typeof clientId&&!Buffer.isBuffer(clientId)||!clientId&&4!==protocolVersion||!clientId&&!clean){if(protocolVersion<4)return stream.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*clean==0)return stream.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}else length+=clientId.length+2;if("number"!=typeof keepalive||keepalive<0||keepalive>65535||keepalive%1!=0)return stream.emit("error",new Error("Invalid keepalive")),!1;length+=2;if(length+=1,will){if("object"!=typeof will)return stream.emit("error",new Error("Invalid will")),!1;if(!will.topic||"string"!=typeof will.topic)return stream.emit("error",new Error("Invalid will topic")),!1;if(length+=Buffer.byteLength(will.topic)+2,will.payload&&will.payload){if(!(will.payload.length>=0))return stream.emit("error",new Error("Invalid will payload")),!1;"string"==typeof will.payload?length+=Buffer.byteLength(will.payload)+2:length+=will.payload.length+2}else length+=2}var providedUsername=!1;if(null!=username){if(!isStringOrBuffer(username))return stream.emit("error",new Error("Invalid username")),!1;providedUsername=!0,length+=Buffer.byteLength(username)+2}if(null!=password){if(!providedUsername)return stream.emit("error",new Error("Username is required to use password")),!1;if(!isStringOrBuffer(password))return stream.emit("error",new Error("Invalid password")),!1;length+=byteLength(password)+2}stream.write(protocol.CONNECT_HEADER),writeLength(stream,length),writeStringOrBuffer(stream,protocolId),stream.write(4===protocolVersion?protocol.VERSION4:protocol.VERSION3);var flags=0;flags|=null!=username?protocol.USERNAME_MASK:0,flags|=null!=password?protocol.PASSWORD_MASK:0,flags|=will&&will.retain?protocol.WILL_RETAIN_MASK:0,flags|=will&&will.qos?will.qos<<protocol.WILL_QOS_SHIFT:0,flags|=will?protocol.WILL_FLAG_MASK:0,flags|=clean?protocol.CLEAN_SESSION_MASK:0,stream.write(Buffer.from([flags])),writeNumber(stream,keepalive),writeStringOrBuffer(stream,clientId),will&&(writeString(stream,will.topic),writeStringOrBuffer(stream,will.payload));null!=username&&writeStringOrBuffer(stream,username);null!=password&&writeStringOrBuffer(stream,password);return!0}(packet,stream);case"connack":return function(opts,stream){var rc=(opts||{}).returnCode;if("number"!=typeof rc)return stream.emit("error",new Error("Invalid return code")),!1;return stream.write(protocol.CONNACK_HEADER),writeLength(stream,2),stream.write(opts.sessionPresent?protocol.SESSIONPRESENT_HEADER:zeroBuf),stream.write(Buffer.from([rc]))}(packet,stream);case"publish":return function(opts,stream){var settings=opts||{},qos=settings.qos||0,retain=settings.retain?protocol.RETAIN_MASK:0,topic=settings.topic,payload=settings.payload||empty,id=settings.messageId,length=0;if("string"==typeof topic)length+=Buffer.byteLength(topic)+2;else{if(!Buffer.isBuffer(topic))return stream.emit("error",new Error("Invalid topic")),!1;length+=topic.length+2}Buffer.isBuffer(payload)?length+=payload.length:length+=Buffer.byteLength(payload);if(qos&&"number"!=typeof id)return stream.emit("error",new Error("Invalid messageId")),!1;qos&&(length+=2);stream.write(protocol.PUBLISH_HEADER[qos][opts.dup?1:0][retain?1:0]),writeLength(stream,length),writeNumber(stream,byteLength(topic)),stream.write(topic),qos>0&&writeNumber(stream,id);return stream.write(payload)}(packet,stream);case"puback":case"pubrec":case"pubrel":case"pubcomp":case"unsuback":return function(opts,stream){var settings=opts||{},type=settings.cmd||"puback",id=settings.messageId,dup=settings.dup&&"pubrel"===type?protocol.DUP_MASK:0,qos=0;"pubrel"===type&&(qos=1);if("number"!=typeof id)return stream.emit("error",new Error("Invalid messageId")),!1;return stream.write(protocol.ACKS[type][qos][dup][0]),writeLength(stream,2),writeNumber(stream,id)}(packet,stream);case"subscribe":return function(opts,stream){var settings=opts||{},dup=settings.dup?protocol.DUP_MASK:0,id=settings.messageId,subs=settings.subscriptions,length=0;if("number"!=typeof id)return stream.emit("error",new Error("Invalid messageId")),!1;length+=2;if("object"!=typeof subs||!subs.length)return stream.emit("error",new Error("Invalid subscriptions")),!1;for(var i=0;i<subs.length;i+=1){var itopic=subs[i].topic,iqos=subs[i].qos;if("string"!=typeof itopic)return stream.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof iqos)return stream.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;length+=Buffer.byteLength(itopic)+2+1}stream.write(protocol.SUBSCRIBE_HEADER[1][dup?1:0][0]),writeLength(stream,length),writeNumber(stream,id);for(var result=!0,j=0;j<subs.length;j++){var sub=subs[j],jtopic=sub.topic,jqos=sub.qos;writeString(stream,jtopic),result=stream.write(protocol.QOS[jqos])}return result}(packet,stream);case"suback":return function(opts,stream){var settings=opts||{},id=settings.messageId,granted=settings.granted,length=0;if("number"!=typeof id)return stream.emit("error",new Error("Invalid messageId")),!1;length+=2;if("object"!=typeof granted||!granted.length)return stream.emit("error",new Error("Invalid qos vector")),!1;for(var i=0;i<granted.length;i+=1){if("number"!=typeof granted[i])return stream.emit("error",new Error("Invalid qos vector")),!1;length+=1}return stream.write(protocol.SUBACK_HEADER),writeLength(stream,length),writeNumber(stream,id),stream.write(Buffer.from(granted))}(packet,stream);case"unsubscribe":return function(opts,stream){var settings=opts||{},id=settings.messageId,dup=settings.dup?protocol.DUP_MASK:0,unsubs=settings.unsubscriptions,length=0;if("number"!=typeof id)return stream.emit("error",new Error("Invalid messageId")),!1;length+=2;if("object"!=typeof unsubs||!unsubs.length)return stream.emit("error",new Error("Invalid unsubscriptions")),!1;for(var i=0;i<unsubs.length;i+=1){if("string"!=typeof unsubs[i])return stream.emit("error",new Error("Invalid unsubscriptions")),!1;length+=Buffer.byteLength(unsubs[i])+2}stream.write(protocol.UNSUBSCRIBE_HEADER[1][dup?1:0][0]),writeLength(stream,length),writeNumber(stream,id);for(var result=!0,j=0;j<unsubs.length;j++)result=writeString(stream,unsubs[j]);return result}(packet,stream);case"pingreq":case"pingresp":case"disconnect":return function(opts,stream){return stream.write(protocol.EMPTY[opts.cmd])}(packet,stream);default:return stream.emit("error",new Error("Unknown command")),!1}}function uncork(stream){stream.uncork()}Object.defineProperty(generate,"cacheNumbers",{get:function(){return writeNumber===writeNumberCached},set:function(value){value?(numCache&&0!==Object.keys(numCache).length||(toGenerate=!0),writeNumber=writeNumberCached):(toGenerate=!1,writeNumber=writeNumberGenerated)}});var lengthCache={};function writeLength(stream,length){var buffer=lengthCache[length];buffer||(buffer=function(length){var digit=0,pos=0,buffer=Buffer.allocUnsafe(function(length){return length>=0&&length<128?1:length>=128&&length<16384?2:length>=16384&&length<2097152?3:length>=2097152&&length<268435456?4:0}(length));do{digit=length%128|0,(length=length/128|0)>0&&(digit|=128),buffer.writeUInt8(digit,pos++)}while(length>0);return buffer}(length),length<16384&&(lengthCache[length]=buffer)),stream.write(buffer)}function writeString(stream,string){var strlen=Buffer.byteLength(string);writeNumber(stream,strlen),stream.write(string,"utf8")}function writeNumberCached(stream,number){return stream.write(numCache[number])}function writeNumberGenerated(stream,number){return stream.write(generateNumber(number))}function writeStringOrBuffer(stream,toWrite){"string"==typeof toWrite?writeString(stream,toWrite):toWrite?(writeNumber(stream,toWrite.length),stream.write(toWrite)):writeNumber(stream,0)}function byteLength(bufOrString){return bufOrString?bufOrString instanceof Buffer?bufOrString.length:Buffer.byteLength(bufOrString):0}function isStringOrBuffer(field){return"string"==typeof field||field instanceof Buffer}module.exports=generate},function(module,exports,__webpack_require__){"use strict";var net=__webpack_require__(47);module.exports=function(client,opts){var port,host;return opts.port=opts.port||1883,opts.hostname=opts.hostname||opts.host||"localhost",port=opts.port,host=opts.hostname,net.createConnection(port,host)}},function(module,exports,__webpack_require__){"use strict";var socketOpen=!1,socketMsgQueue=[];function sendSocketMessage(msg){socketOpen?wx.sendSocketMessage({data:msg.buffer||msg}):socketMsgQueue.push(msg)}var websocket=__webpack_require__(116);function createWebSocket(client,opts){var websocketSubProtocol="MQIsdp"===opts.protocolId&&3===opts.protocolVersion?"mqttv3.1":"mqtt";!function(opts){opts.hostname||(opts.hostname="localhost"),opts.path||(opts.path="/"),opts.wsOptions||(opts.wsOptions={})}(opts);var url=function(opts,client){var protocol="wxs"===opts.protocol?"wss":"ws",url=protocol+"://"+opts.hostname+opts.path;return opts.port&&80!==opts.port&&443!==opts.port&&(url=protocol+"://"+opts.hostname+":"+opts.port+opts.path),"function"==typeof opts.transformWsUrl&&(url=opts.transformWsUrl(url,opts,client)),url}(opts,client);return websocket(function(url,protocols){var ws={OPEN:1,CLOSING:2,CLOSED:3,readyState:socketOpen?1:0,send:sendSocketMessage,close:wx.closeSocket,onopen:null,onmessage:null,onclose:null,onerror:null};return wx.connectSocket({url:url,protocols:protocols}),wx.onSocketOpen((function(res){ws.readyState=ws.OPEN,socketOpen=!0;for(var i=0;i<socketMsgQueue.length;i++)sendSocketMessage(socketMsgQueue[i]);socketMsgQueue=[],ws.onopen&&ws.onopen.apply(ws,arguments)})),wx.onSocketMessage((function(res){ws.onmessage&&ws.onmessage.apply(ws,arguments)})),wx.onSocketClose((function(){ws.onclose&&ws.onclose.apply(ws,arguments),ws.readyState=ws.CLOSED,socketOpen=!1})),wx.onSocketError((function(){ws.onerror&&ws.onerror.apply(ws,arguments),ws.readyState=ws.CLOSED,socketOpen=!1})),ws}(url,[websocketSubProtocol]))}module.exports=function(client,opts){if(opts.hostname=opts.hostname||opts.host,!opts.hostname)throw new Error("Could not determine host. Specify host manually.");return createWebSocket(client,opts)}},function(module,exports,__webpack_require__){var server=__webpack_require__(292);module.exports=__webpack_require__(125),module.exports.Server=server.Server,module.exports.createServer=server.createServer},function(module,exports,__webpack_require__){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */const WebSocket=__webpack_require__(118);WebSocket.Server=__webpack_require__(300),WebSocket.Receiver=__webpack_require__(122),WebSocket.Sender=__webpack_require__(124),module.exports=WebSocket},function(module,exports,__webpack_require__){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */const EventEmitter=__webpack_require__(5),crypto=__webpack_require__(61),Ultron=__webpack_require__(119),https=__webpack_require__(53),http=__webpack_require__(36),url=__webpack_require__(20),PerMessageDeflate=__webpack_require__(43),EventTarget=__webpack_require__(296),Extensions=__webpack_require__(121),constants=__webpack_require__(44),Receiver=__webpack_require__(122),Sender=__webpack_require__(124),protocolVersions=[8,13];class WebSocket extends EventEmitter{constructor(address,protocols,options){super(),protocols?"string"==typeof protocols?protocols=[protocols]:Array.isArray(protocols)||(options=protocols,protocols=[]):protocols=[],this.readyState=WebSocket.CONNECTING,this.bytesReceived=0,this.extensions={},this.protocol="",this._binaryType=constants.BINARY_TYPES[0],this._finalize=this.finalize.bind(this),this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._finalized=!1,this._closeCode=1006,this._receiver=null,this._sender=null,this._socket=null,this._ultron=null,Array.isArray(address)?initAsServerClient.call(this,address[0],address[1],options):initAsClient.call(this,address,protocols,options)}get CONNECTING(){return WebSocket.CONNECTING}get CLOSING(){return WebSocket.CLOSING}get CLOSED(){return WebSocket.CLOSED}get OPEN(){return WebSocket.OPEN}get bufferedAmount(){var amount=0;return this._socket&&(amount=this._socket.bufferSize+this._sender._bufferedBytes),amount}get binaryType(){return this._binaryType}set binaryType(type){constants.BINARY_TYPES.indexOf(type)<0||(this._binaryType=type,this._receiver&&(this._receiver._binaryType=type))}setSocket(socket,head){socket.setTimeout(0),socket.setNoDelay(),this._receiver=new Receiver(this.extensions,this._maxPayload,this.binaryType),this._sender=new Sender(socket,this.extensions),this._ultron=new Ultron(socket),this._socket=socket,this._ultron.on("close",this._finalize),this._ultron.on("error",this._finalize),this._ultron.on("end",this._finalize),head.length>0&&socket.unshift(head),this._ultron.on("data",data=>{this.bytesReceived+=data.length,this._receiver.add(data)}),this._receiver.onmessage=data=>this.emit("message",data),this._receiver.onping=data=>{this.pong(data,!this._isServer,!0),this.emit("ping",data)},this._receiver.onpong=data=>this.emit("pong",data),this._receiver.onclose=(code,reason)=>{this._closeFrameReceived=!0,this._closeMessage=reason,this._closeCode=code,this._finalized||this.close(code,reason)},this._receiver.onerror=(error,code)=>{this._closeMessage="",this._closeCode=code,this.readyState=WebSocket.CLOSING,this.emit("error",error),this.finalize(!0)},this.readyState=WebSocket.OPEN,this.emit("open")}finalize(error){if(!this._finalized){if(this.readyState=WebSocket.CLOSING,this._finalized=!0,"object"==typeof error&&this.emit("error",error),!this._socket)return this.emitClose();clearTimeout(this._closeTimer),this._closeTimer=null,this._ultron.destroy(),this._ultron=null,this._socket.on("error",constants.NOOP),error?this._socket.destroy():this._socket.end(),this._socket=null,this._sender=null,this._receiver.cleanup(()=>this.emitClose()),this._receiver=null}}emitClose(){this.readyState=WebSocket.CLOSED,this.emit("close",this._closeCode,this._closeMessage),this.extensions[PerMessageDeflate.extensionName]&&this.extensions[PerMessageDeflate.extensionName].cleanup(),this.extensions=null,this.removeAllListeners()}pause(){if(this.readyState!==WebSocket.OPEN)throw new Error("not opened");this._socket.pause()}resume(){if(this.readyState!==WebSocket.OPEN)throw new Error("not opened");this._socket.resume()}close(code,data){if(this.readyState!==WebSocket.CLOSED)return this.readyState===WebSocket.CONNECTING?(this._req.abort(),void this.finalize(new Error("closed before the connection is established"))):void(this.readyState!==WebSocket.CLOSING?(this.readyState=WebSocket.CLOSING,this._sender.close(code,data,!this._isServer,err=>{err||(this._closeFrameSent=!0,this._finalized||(this._closeFrameReceived&&this._socket.end(),this._closeTimer=setTimeout(this._finalize,3e4,!0)))})):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end())}ping(data,mask,failSilently){if(this.readyState!==WebSocket.OPEN){if(failSilently)return;throw new Error("not opened")}"number"==typeof data&&(data=data.toString()),void 0===mask&&(mask=!this._isServer),this._sender.ping(data||constants.EMPTY_BUFFER,mask)}pong(data,mask,failSilently){if(this.readyState!==WebSocket.OPEN){if(failSilently)return;throw new Error("not opened")}"number"==typeof data&&(data=data.toString()),void 0===mask&&(mask=!this._isServer),this._sender.pong(data||constants.EMPTY_BUFFER,mask)}send(data,options,cb){if("function"==typeof options&&(cb=options,options={}),this.readyState!==WebSocket.OPEN){if(!cb)throw new Error("not opened");return void cb(new Error("not opened"))}"number"==typeof data&&(data=data.toString());const opts=Object.assign({binary:"string"!=typeof data,mask:!this._isServer,compress:!0,fin:!0},options);this.extensions[PerMessageDeflate.extensionName]||(opts.compress=!1),this._sender.send(data||constants.EMPTY_BUFFER,opts,cb)}terminate(){if(this.readyState!==WebSocket.CLOSED)return this.readyState===WebSocket.CONNECTING?(this._req.abort(),void this.finalize(new Error("closed before the connection is established"))):void this.finalize(!0)}}function initAsServerClient(socket,head,options){this.protocolVersion=options.protocolVersion,this._maxPayload=options.maxPayload,this.extensions=options.extensions,this.protocol=options.protocol,this._isServer=!0,this.setSocket(socket,head)}function initAsClient(address,protocols,options){if(options=Object.assign({protocolVersion:protocolVersions[1],protocol:protocols.join(","),perMessageDeflate:!0,handshakeTimeout:null,localAddress:null,headers:null,family:null,origin:null,agent:null,host:null,checkServerIdentity:null,rejectUnauthorized:null,passphrase:null,ciphers:null,ecdhCurve:null,cert:null,key:null,pfx:null,ca:null},options),-1===protocolVersions.indexOf(options.protocolVersion))throw new Error(`unsupported protocol version: ${options.protocolVersion} (supported versions: ${protocolVersions.join(", ")})`);this.protocolVersion=options.protocolVersion,this._isServer=!1,this.url=address;const serverUrl=url.parse(address),isUnixSocket="ws+unix:"===serverUrl.protocol;if(!(serverUrl.host||isUnixSocket&&serverUrl.path))throw new Error("invalid url");const isSecure="wss:"===serverUrl.protocol||"https:"===serverUrl.protocol,key=crypto.randomBytes(16).toString("base64"),httpObj=isSecure?https:http;var perMessageDeflate;const requestOptions={port:serverUrl.port||(isSecure?443:80),host:serverUrl.hostname,path:"/",headers:{"Sec-WebSocket-Version":options.protocolVersion,"Sec-WebSocket-Key":key,Connection:"Upgrade",Upgrade:"websocket"}};if(options.headers&&Object.assign(requestOptions.headers,options.headers),options.perMessageDeflate&&(perMessageDeflate=new PerMessageDeflate(!0!==options.perMessageDeflate?options.perMessageDeflate:{},!1),requestOptions.headers["Sec-WebSocket-Extensions"]=Extensions.format({[PerMessageDeflate.extensionName]:perMessageDeflate.offer()})),options.protocol&&(requestOptions.headers["Sec-WebSocket-Protocol"]=options.protocol),options.origin&&(options.protocolVersion<13?requestOptions.headers["Sec-WebSocket-Origin"]=options.origin:requestOptions.headers.Origin=options.origin),options.host&&(requestOptions.headers.Host=options.host),serverUrl.auth&&(requestOptions.auth=serverUrl.auth),options.localAddress&&(requestOptions.localAddress=options.localAddress),options.family&&(requestOptions.family=options.family),isUnixSocket){const parts=serverUrl.path.split(":");requestOptions.socketPath=parts[0],requestOptions.path=parts[1]}else serverUrl.path&&("/"!==serverUrl.path.charAt(0)?requestOptions.path="/"+serverUrl.path:requestOptions.path=serverUrl.path);var agent=options.agent;(null!=options.rejectUnauthorized||options.checkServerIdentity||options.passphrase||options.ciphers||options.ecdhCurve||options.cert||options.key||options.pfx||options.ca)&&(options.passphrase&&(requestOptions.passphrase=options.passphrase),options.ciphers&&(requestOptions.ciphers=options.ciphers),options.ecdhCurve&&(requestOptions.ecdhCurve=options.ecdhCurve),options.cert&&(requestOptions.cert=options.cert),options.key&&(requestOptions.key=options.key),options.pfx&&(requestOptions.pfx=options.pfx),options.ca&&(requestOptions.ca=options.ca),options.checkServerIdentity&&(requestOptions.checkServerIdentity=options.checkServerIdentity),null!=options.rejectUnauthorized&&(requestOptions.rejectUnauthorized=options.rejectUnauthorized),agent||(agent=new httpObj.Agent(requestOptions))),agent&&(requestOptions.agent=agent),this._req=httpObj.get(requestOptions),options.handshakeTimeout&&this._req.setTimeout(options.handshakeTimeout,()=>{this._req.abort(),this.finalize(new Error("opening handshake has timed out"))}),this._req.on("error",error=>{this._req.aborted||(this._req=null,this.finalize(error))}),this._req.on("response",res=>{this.emit("unexpected-response",this._req,res)||(this._req.abort(),this.finalize(new Error(`unexpected server response (${res.statusCode})`)))}),this._req.on("upgrade",(res,socket,head)=>{if(this.emit("headers",res.headers,res),this.readyState!==WebSocket.CONNECTING)return;this._req=null;const digest=crypto.createHash("sha1").update(key+constants.GUID,"binary").digest("base64");if(res.headers["sec-websocket-accept"]!==digest)return socket.destroy(),this.finalize(new Error("invalid server key"));const serverProt=res.headers["sec-websocket-protocol"],protList=(options.protocol||"").split(/, */);var protError;if(!options.protocol&&serverProt?protError="server sent a subprotocol even though none requested":options.protocol&&!serverProt?protError="server sent no subprotocol even though requested":serverProt&&-1===protList.indexOf(serverProt)&&(protError="server responded with an invalid protocol"),protError)return socket.destroy(),this.finalize(new Error(protError));if(serverProt&&(this.protocol=serverProt),perMessageDeflate)try{const serverExtensions=Extensions.parse(res.headers["sec-websocket-extensions"]);serverExtensions[PerMessageDeflate.extensionName]&&(perMessageDeflate.accept(serverExtensions[PerMessageDeflate.extensionName]),this.extensions[PerMessageDeflate.extensionName]=perMessageDeflate)}catch(err){return socket.destroy(),void this.finalize(new Error("invalid Sec-WebSocket-Extensions header"))}this.setSocket(socket,head)})}WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,["open","error","close","message"].forEach(method=>{Object.defineProperty(WebSocket.prototype,"on"+method,{get(){const listeners=this.listeners(method);for(var i=0;i<listeners.length;i++)if(listeners[i]._listener)return listeners[i]._listener},set(listener){const listeners=this.listeners(method);for(var i=0;i<listeners.length;i++)listeners[i]._listener&&this.removeListener(method,listeners[i]);this.addEventListener(method,listener)}})}),WebSocket.prototype.addEventListener=EventTarget.addEventListener,WebSocket.prototype.removeEventListener=EventTarget.removeEventListener,module.exports=WebSocket},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,id=0;function Ultron(ee){if(!(this instanceof Ultron))return new Ultron(ee);this.id=id++,this.ee=ee}Ultron.prototype.on=function(event,fn,context){return fn.__ultron=this.id,this.ee.on(event,fn,context),this},Ultron.prototype.once=function(event,fn,context){return fn.__ultron=this.id,this.ee.once(event,fn,context),this},Ultron.prototype.remove=function(){var event,args=arguments,ee=this.ee;if(1===args.length&&"string"==typeof args[0])args=args[0].split(/[, ]+/);else if(!args.length)if(ee.eventNames)args=ee.eventNames();else if(ee._events){for(event in args=[],ee._events)has.call(ee._events,event)&&args.push(event);Object.getOwnPropertySymbols&&(args=args.concat(Object.getOwnPropertySymbols(ee._events)))}for(var i=0;i<args.length;i++)for(var listeners=ee.listeners(args[i]),j=0;j<listeners.length;j++){if((event=listeners[j]).listener){if(event.listener.__ultron!==this.id)continue}else if(event.__ultron!==this.id)continue;ee.removeListener(args[i],event)}return this},Ultron.prototype.destroy=function(){return!!this.ee&&(this.remove(),this.ee=null,!0)},module.exports=Ultron},function(module,exports,__webpack_require__){var fs=__webpack_require__(4),path=__webpack_require__(6),os=__webpack_require__(54),runtimeRequire=require,abi=process.versions.modules,runtime=!(!process.versions||!process.versions.electron)||!!process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":"node",arch=os.arch(),platform=os.platform();function load(dir){return runtimeRequire(load.path(dir))}function getFirst(dir,filter){try{var files=fs.readdirSync(dir).filter(filter);return files[0]&&path.join(dir,files[0])}catch(err){return null}}function matchNapiRuntime(name){return name===runtime+"-napi.node"}function matchNapi(name){return"node-napi.node"===name}function matchPrebuild(name){var parts=name.split("-");return parts[0]===runtime&&parts[1]===abi+".node"}function matchBuild(name){return/\.node$/.test(name)}module.exports=load,load.path=function(dir){dir=path.resolve(dir||".");try{var name=runtimeRequire(path.join(dir,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[name+"_PREBUILD"]&&(dir=process.env[name+"_PREBUILD"])}catch(err){}var release=getFirst(path.join(dir,"build/Release"),matchBuild);if(release)return release;var debug=getFirst(path.join(dir,"build/Debug"),matchBuild);if(debug)return debug;var prebuild=getFirst(path.join(dir,"prebuilds/"+platform+"-"+arch),matchPrebuild);if(prebuild)return prebuild;var napiRuntime=getFirst(path.join(dir,"prebuilds/"+platform+"-"+arch),matchNapiRuntime);if(napiRuntime)return napiRuntime;var napi=getFirst(path.join(dir,"prebuilds/"+platform+"-"+arch),matchNapi);if(napi)return napi;throw new Error("No native build was found for runtime="+runtime+" abi="+abi+" platform="+platform+" arch="+arch)}},function(module,exports,__webpack_require__){"use strict";const tokenChars=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function push(dest,name,elem){Object.prototype.hasOwnProperty.call(dest,name)?dest[name].push(elem):dest[name]=[elem]}module.exports={format:function(value){return Object.keys(value).map(token=>{var paramsList=value[token];return Array.isArray(paramsList)||(paramsList=[paramsList]),paramsList.map(params=>[token].concat(Object.keys(params).map(k=>{var p=params[k];return Array.isArray(p)||(p=[p]),p.map(v=>!0===v?k:`${k}=${v}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(header){const offers={};if(void 0===header||""===header)return offers;for(var extensionName,paramName,params={},mustUnescape=!1,isEscaping=!1,inQuotes=!1,start=-1,end=-1,i=0;i<header.length;i++){const code=header.charCodeAt(i);if(void 0===extensionName)if(-1===end&&1===tokenChars[code])-1===start&&(start=i);else if(32===code||9===code)-1===end&&-1!==start&&(end=i);else{if(59!==code&&44!==code)throw new Error("unexpected character at index "+i);{if(-1===start)throw new Error("unexpected character at index "+i);-1===end&&(end=i);const name=header.slice(start,end);44===code?(push(offers,name,params),params={}):extensionName=name,start=end=-1}}else if(void 0===paramName)if(-1===end&&1===tokenChars[code])-1===start&&(start=i);else if(32===code||9===code)-1===end&&-1!==start&&(end=i);else if(59===code||44===code){if(-1===start)throw new Error("unexpected character at index "+i);-1===end&&(end=i),push(params,header.slice(start,end),!0),44===code&&(push(offers,extensionName,params),params={},extensionName=void 0),start=end=-1}else{if(61!==code||-1===start||-1!==end)throw new Error("unexpected character at index "+i);paramName=header.slice(start,i),start=end=-1}else if(isEscaping){if(1!==tokenChars[code])throw new Error("unexpected character at index "+i);-1===start?start=i:mustUnescape||(mustUnescape=!0),isEscaping=!1}else if(inQuotes)if(1===tokenChars[code])-1===start&&(start=i);else if(34===code&&-1!==start)inQuotes=!1,end=i;else{if(92!==code)throw new Error("unexpected character at index "+i);isEscaping=!0}else if(34===code&&61===header.charCodeAt(i-1))inQuotes=!0;else if(-1===end&&1===tokenChars[code])-1===start&&(start=i);else if(-1===start||32!==code&&9!==code){if(59!==code&&44!==code)throw new Error("unexpected character at index "+i);if(-1===start)throw new Error("unexpected character at index "+i);-1===end&&(end=i);var value=header.slice(start,end);mustUnescape&&(value=value.replace(/\\/g,""),mustUnescape=!1),push(params,paramName,value),44===code&&(push(offers,extensionName,params),params={},extensionName=void 0),paramName=void 0,start=end=-1}else-1===end&&(end=i)}if(-1===start||inQuotes)throw new Error("unexpected end of input");-1===end&&(end=i);const token=header.slice(start,end);return void 0===extensionName?push(offers,token,{}):(void 0===paramName?push(params,token,!0):push(params,paramName,mustUnescape?token.replace(/\\/g,""):token),push(offers,extensionName,params)),offers}}},function(module,exports,__webpack_require__){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */const safeBuffer=__webpack_require__(26),PerMessageDeflate=__webpack_require__(43),isValidUTF8=__webpack_require__(297),bufferUtil=__webpack_require__(62),ErrorCodes=__webpack_require__(123),constants=__webpack_require__(44),Buffer=safeBuffer.Buffer;function toBuffer(fragments,messageLength){return 1===fragments.length?fragments[0]:fragments.length>1?bufferUtil.concat(fragments,messageLength):constants.EMPTY_BUFFER}module.exports=class{constructor(extensions,maxPayload,binaryType){this._binaryType=binaryType||constants.BINARY_TYPES[0],this._extensions=extensions||{},this._maxPayload=0|maxPayload,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._fragmented=0,this._masked=!1,this._fin=!1,this._mask=null,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._cleanupCallback=null,this._hadError=!1,this._dead=!1,this._loop=!1,this.onmessage=null,this.onclose=null,this.onerror=null,this.onping=null,this.onpong=null,this._state=0}readBuffer(bytes){var dst,l,offset=0;if(this._bufferedBytes-=bytes,bytes===this._buffers[0].length)return this._buffers.shift();if(bytes<this._buffers[0].length)return dst=this._buffers[0].slice(0,bytes),this._buffers[0]=this._buffers[0].slice(bytes),dst;for(dst=Buffer.allocUnsafe(bytes);bytes>0;)bytes>=(l=this._buffers[0].length)?(this._buffers[0].copy(dst,offset),offset+=l,this._buffers.shift()):(this._buffers[0].copy(dst,offset,0,bytes),this._buffers[0]=this._buffers[0].slice(bytes)),bytes-=l;return dst}hasBufferedBytes(n){return this._bufferedBytes>=n||(this._loop=!1,this._dead&&this.cleanup(this._cleanupCallback),!1)}add(data){this._dead||(this._bufferedBytes+=data.length,this._buffers.push(data),this.startLoop())}startLoop(){for(this._loop=!0;this._loop;)switch(this._state){case 0:this.getInfo();break;case 1:this.getPayloadLength16();break;case 2:this.getPayloadLength64();break;case 3:this.getMask();break;case 4:this.getData();break;default:this._loop=!1}}getInfo(){if(!this.hasBufferedBytes(2))return;const buf=this.readBuffer(2);if(0!=(48&buf[0]))return void this.error(new Error("RSV2 and RSV3 must be clear"),1002);const compressed=64==(64&buf[0]);if(!compressed||this._extensions[PerMessageDeflate.extensionName]){if(this._fin=128==(128&buf[0]),this._opcode=15&buf[0],this._payloadLength=127&buf[1],0===this._opcode){if(compressed)return void this.error(new Error("RSV1 must be clear"),1002);if(!this._fragmented)return void this.error(new Error("invalid opcode: "+this._opcode),1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void this.error(new Error("invalid opcode: "+this._opcode),1002);this._compressed=compressed}else{if(!(this._opcode>7&&this._opcode<11))return void this.error(new Error("invalid opcode: "+this._opcode),1002);if(!this._fin)return void this.error(new Error("FIN must be set"),1002);if(compressed)return void this.error(new Error("RSV1 must be clear"),1002);if(this._payloadLength>125)return void this.error(new Error("invalid payload length"),1002)}this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&buf[1]),126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength()}else this.error(new Error("RSV1 must be clear"),1002)}getPayloadLength16(){this.hasBufferedBytes(2)&&(this._payloadLength=this.readBuffer(2).readUInt16BE(0,!0),this.haveLength())}getPayloadLength64(){if(!this.hasBufferedBytes(8))return;const buf=this.readBuffer(8),num=buf.readUInt32BE(0,!0);num>Math.pow(2,21)-1?this.error(new Error("max payload size exceeded"),1009):(this._payloadLength=num*Math.pow(2,32)+buf.readUInt32BE(4,!0),this.haveLength())}haveLength(){this._opcode<8&&this.maxPayloadExceeded(this._payloadLength)||(this._masked?this._state=3:this._state=4)}getMask(){this.hasBufferedBytes(4)&&(this._mask=this.readBuffer(4),this._state=4)}getData(){var data=constants.EMPTY_BUFFER;if(this._payloadLength){if(!this.hasBufferedBytes(this._payloadLength))return;data=this.readBuffer(this._payloadLength),this._masked&&bufferUtil.unmask(data,this._mask)}this._opcode>7?this.controlMessage(data):this._compressed?(this._state=5,this.decompress(data)):this.pushFragment(data)&&this.dataMessage()}decompress(data){this._extensions[PerMessageDeflate.extensionName].decompress(data,this._fin,(err,buf)=>{err?this.error(err,1009===err.closeCode?1009:1007):(this.pushFragment(buf)&&this.dataMessage(),this.startLoop())})}dataMessage(){if(this._fin){const messageLength=this._messageLength,fragments=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){var data;data="nodebuffer"===this._binaryType?toBuffer(fragments,messageLength):"arraybuffer"===this._binaryType?function(buf){if(0===buf.byteOffset&&buf.byteLength===buf.buffer.byteLength)return buf.buffer;return buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.byteLength)}(toBuffer(fragments,messageLength)):fragments,this.onmessage(data)}else{const buf=toBuffer(fragments,messageLength);if(!isValidUTF8(buf))return void this.error(new Error("invalid utf8 sequence"),1007);this.onmessage(buf.toString())}}this._state=0}controlMessage(data){if(8!==this._opcode)9===this._opcode?this.onping(data):this.onpong(data),this._state=0;else if(0===data.length)this.onclose(1e3,""),this._loop=!1,this.cleanup(this._cleanupCallback);else if(1===data.length)this.error(new Error("invalid payload length"),1002);else{const code=data.readUInt16BE(0,!0);if(!ErrorCodes.isValidErrorCode(code))return void this.error(new Error("invalid status code: "+code),1002);const buf=data.slice(2);if(!isValidUTF8(buf))return void this.error(new Error("invalid utf8 sequence"),1007);this.onclose(code,buf.toString()),this._loop=!1,this.cleanup(this._cleanupCallback)}}error(err,code){this.onerror(err,code),this._hadError=!0,this._loop=!1,this.cleanup(this._cleanupCallback)}maxPayloadExceeded(length){if(0===length||this._maxPayload<1)return!1;const fullLength=this._totalPayloadLength+length;return fullLength<=this._maxPayload?(this._totalPayloadLength=fullLength,!1):(this.error(new Error("max payload size exceeded"),1009),!0)}pushFragment(fragment){if(0===fragment.length)return!0;const totalLength=this._messageLength+fragment.length;return this._maxPayload<1||totalLength<=this._maxPayload?(this._messageLength=totalLength,this._fragments.push(fragment),!0):(this.error(new Error("max payload size exceeded"),1009),!1)}cleanup(cb){this._dead=!0,this._hadError||!this._loop&&5!==this._state?(this._extensions=null,this._fragments=null,this._buffers=null,this._mask=null,this._cleanupCallback=null,this.onmessage=null,this.onclose=null,this.onerror=null,this.onping=null,this.onpong=null,cb&&cb()):this._cleanupCallback=cb}}},function(module,exports,__webpack_require__){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */module.exports={isValidErrorCode:function(code){return code>=1e3&&code<=1013&&1004!==code&&1005!==code&&1006!==code||code>=3e3&&code<=4999},1e3:"normal",1001:"going away",1002:"protocol error",1003:"unsupported data",1004:"reserved",1005:"reserved for extensions",1006:"reserved for extensions",1007:"inconsistent or invalid data",1008:"policy violation",1009:"message too big",1010:"extension handshake missing",1011:"an unexpected condition prevented the request from being fulfilled",1012:"service restart",1013:"try again later"}},function(module,exports,__webpack_require__){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */const safeBuffer=__webpack_require__(26),crypto=__webpack_require__(61),PerMessageDeflate=__webpack_require__(43),bufferUtil=__webpack_require__(62),ErrorCodes=__webpack_require__(123),constants=__webpack_require__(44),Buffer=safeBuffer.Buffer;class Sender{constructor(socket,extensions){this._extensions=extensions||{},this._socket=socket,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(data,options){const merge=data.length<1024||options.mask&&options.readOnly;var offset=options.mask?6:2,payloadLength=data.length;data.length>=65536?(offset+=8,payloadLength=127):data.length>125&&(offset+=2,payloadLength=126);const target=Buffer.allocUnsafe(merge?data.length+offset:offset);if(target[0]=options.fin?128|options.opcode:options.opcode,options.rsv1&&(target[0]|=64),126===payloadLength?target.writeUInt16BE(data.length,2,!0):127===payloadLength&&(target.writeUInt32BE(0,2,!0),target.writeUInt32BE(data.length,6,!0)),!options.mask)return target[1]=payloadLength,merge?(data.copy(target,offset),[target]):[target,data];const mask=crypto.randomBytes(4);return target[1]=128|payloadLength,target[offset-4]=mask[0],target[offset-3]=mask[1],target[offset-2]=mask[2],target[offset-1]=mask[3],merge?(bufferUtil.mask(data,mask,target,offset,data.length),[target]):(bufferUtil.mask(data,mask,data,0,data.length),[target,data])}close(code,data,mask,cb){var buf;if(void 0===code)code=1e3;else if("number"!=typeof code||!ErrorCodes.isValidErrorCode(code))throw new Error("first argument must be a valid error code number");void 0===data||""===data?1e3===code?buf=constants.EMPTY_BUFFER:(buf=Buffer.allocUnsafe(2)).writeUInt16BE(code,0,!0):((buf=Buffer.allocUnsafe(2+Buffer.byteLength(data))).writeUInt16BE(code,0,!0),buf.write(data,2)),this._deflating?this.enqueue([this.doClose,buf,mask,cb]):this.doClose(buf,mask,cb)}doClose(data,mask,cb){this.sendFrame(Sender.frame(data,{fin:!0,rsv1:!1,opcode:8,mask:mask,readOnly:!1}),cb)}ping(data,mask){var readOnly=!0;Buffer.isBuffer(data)||(data instanceof ArrayBuffer?data=Buffer.from(data):ArrayBuffer.isView(data)?data=viewToBuffer(data):(data=Buffer.from(data),readOnly=!1)),this._deflating?this.enqueue([this.doPing,data,mask,readOnly]):this.doPing(data,mask,readOnly)}doPing(data,mask,readOnly){this.sendFrame(Sender.frame(data,{fin:!0,rsv1:!1,opcode:9,mask:mask,readOnly:readOnly}))}pong(data,mask){var readOnly=!0;Buffer.isBuffer(data)||(data instanceof ArrayBuffer?data=Buffer.from(data):ArrayBuffer.isView(data)?data=viewToBuffer(data):(data=Buffer.from(data),readOnly=!1)),this._deflating?this.enqueue([this.doPong,data,mask,readOnly]):this.doPong(data,mask,readOnly)}doPong(data,mask,readOnly){this.sendFrame(Sender.frame(data,{fin:!0,rsv1:!1,opcode:10,mask:mask,readOnly:readOnly}))}send(data,options,cb){var opcode=options.binary?2:1,rsv1=options.compress,readOnly=!0;Buffer.isBuffer(data)||(data instanceof ArrayBuffer?data=Buffer.from(data):ArrayBuffer.isView(data)?data=viewToBuffer(data):(data=Buffer.from(data),readOnly=!1));const perMessageDeflate=this._extensions[PerMessageDeflate.extensionName];if(this._firstFragment?(this._firstFragment=!1,rsv1&&perMessageDeflate&&(rsv1=data.length>=perMessageDeflate._threshold),this._compress=rsv1):(rsv1=!1,opcode=0),options.fin&&(this._firstFragment=!0),perMessageDeflate){const opts={fin:options.fin,rsv1:rsv1,opcode:opcode,mask:options.mask,readOnly:readOnly};this._deflating?this.enqueue([this.dispatch,data,this._compress,opts,cb]):this.dispatch(data,this._compress,opts,cb)}else this.sendFrame(Sender.frame(data,{fin:options.fin,rsv1:!1,opcode:opcode,mask:options.mask,readOnly:readOnly}),cb)}dispatch(data,compress,options,cb){if(!compress)return void this.sendFrame(Sender.frame(data,options),cb);const perMessageDeflate=this._extensions[PerMessageDeflate.extensionName];this._deflating=!0,perMessageDeflate.compress(data,options.fin,(_,buf)=>{options.readOnly=!1,this.sendFrame(Sender.frame(buf,options),cb),this._deflating=!1,this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const params=this._queue.shift();this._bufferedBytes-=params[1].length,params[0].apply(this,params.slice(1))}}enqueue(params){this._bufferedBytes+=params[1].length,this._queue.push(params)}sendFrame(list,cb){2===list.length?(this._socket.write(list[0]),this._socket.write(list[1],cb)):this._socket.write(list[0],cb)}}function viewToBuffer(view){const buf=Buffer.from(view.buffer);return view.byteLength!==view.buffer.byteLength?buf.slice(view.byteOffset,view.byteOffset+view.byteLength):buf}module.exports=Sender},function(module,exports,__webpack_require__){"use strict";var Transform=__webpack_require__(7).Transform,duplexify=__webpack_require__(126),WS=__webpack_require__(117),Buffer=__webpack_require__(25).Buffer;module.exports=function(target,protocols,options){var stream,socket,isBrowser="browser"===process.title,isNative=!!global.WebSocket,socketWrite=isBrowser?function socketWriteBrowser(chunk,enc,next){if(socket.bufferedAmount>bufferSize)return void setTimeout(socketWriteBrowser,bufferTimeout,chunk,enc,next);coerceToBuffer&&"string"==typeof chunk&&(chunk=Buffer.from(chunk,"utf8"));try{socket.send(chunk)}catch(err){return next(err)}next()}:function(chunk,enc,next){if(socket.readyState!==socket.OPEN)return void next();coerceToBuffer&&"string"==typeof chunk&&(chunk=Buffer.from(chunk,"utf8"));socket.send(chunk,next)};protocols&&!Array.isArray(protocols)&&"object"==typeof protocols&&(options=protocols,protocols=null,("string"==typeof options.protocol||Array.isArray(options.protocol))&&(protocols=options.protocol));options||(options={});void 0===options.objectMode&&(options.objectMode=!(!0===options.binary||void 0===options.binary));var proxy=function(options,socketWrite,socketEnd){var proxy=new Transform({objectMode:options.objectMode});return proxy._write=socketWrite,proxy._flush=socketEnd,proxy}(options,socketWrite,(function(done){socket.close(),done()}));options.objectMode||(proxy._writev=writev);var bufferSize=options.browserBufferSize||524288,bufferTimeout=options.browserBufferTimeout||1e3;"object"==typeof target?socket=target:(socket=isNative&&isBrowser?new WS(target,protocols):new WS(target,protocols,options)).binaryType="arraybuffer";var eventListenerSupport=void 0===socket.addEventListener;socket.readyState===socket.OPEN?stream=proxy:(stream=stream=duplexify(void 0,void 0,options),options.objectMode||(stream._writev=writev),eventListenerSupport?socket.addEventListener("open",onopen):socket.onopen=onopen);stream.socket=socket,eventListenerSupport?(socket.addEventListener("close",onclose),socket.addEventListener("error",onerror),socket.addEventListener("message",onmessage)):(socket.onclose=onclose,socket.onerror=onerror,socket.onmessage=onmessage);proxy.on("close",(function(){socket.close()}));var coerceToBuffer=!options.objectMode;function onopen(){stream.setReadable(proxy),stream.setWritable(proxy),stream.emit("connect")}function onclose(){stream.end(),stream.destroy()}function onerror(err){stream.destroy(err)}function onmessage(event){var data=event.data;data=data instanceof ArrayBuffer?Buffer.from(data):Buffer.from(data,"utf8"),proxy.push(data)}function writev(chunks,cb){for(var buffers=new Array(chunks.length),i=0;i<chunks.length;i++)"string"==typeof chunks[i].chunk?buffers[i]=Buffer.from(chunks[i],"utf8"):buffers[i]=chunks[i].chunk;this._write(Buffer.concat(buffers),"binary",cb)}return stream}},function(module,exports,__webpack_require__){var stream=__webpack_require__(7),eos=__webpack_require__(42),inherits=__webpack_require__(2),shift=__webpack_require__(301),SIGNAL_FLUSH=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),onuncork=function(self,fn){self._corked?self.once("uncork",fn):fn()},destroyer=function(self,end){return function(err){err?function(self,err){self._autoDestroy&&self.destroy(err)}(self,"premature close"===err.message?null:err):end&&!self._ended&&self.end()}},Duplexify=function(writable,readable,opts){if(!(this instanceof Duplexify))return new Duplexify(writable,readable,opts);stream.Duplex.call(this,opts),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!opts||!1!==opts.autoDestroy,this._forwardDestroy=!opts||!1!==opts.destroy,this._forwardEnd=!opts||!1!==opts.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,writable&&this.setWritable(writable),readable&&this.setReadable(readable)};inherits(Duplexify,stream.Duplex),Duplexify.obj=function(writable,readable,opts){return opts||(opts={}),opts.objectMode=!0,opts.highWaterMark=16,new Duplexify(writable,readable,opts)},Duplexify.prototype.cork=function(){1==++this._corked&&this.emit("cork")},Duplexify.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},Duplexify.prototype.setWritable=function(writable){if(this._unwrite&&this._unwrite(),this.destroyed)writable&&writable.destroy&&writable.destroy();else if(null!==writable&&!1!==writable){var self=this,unend=eos(writable,{writable:!0,readable:!1},destroyer(this,this._forwardEnd)),ondrain=function(){var ondrain=self._ondrain;self._ondrain=null,ondrain&&ondrain()};this._unwrite&&process.nextTick(ondrain),this._writable=writable,this._writable.on("drain",ondrain),this._unwrite=function(){self._writable.removeListener("drain",ondrain),unend()},this.uncork()}else this.end()},Duplexify.prototype.setReadable=function(readable){if(this._unread&&this._unread(),this.destroyed)readable&&readable.destroy&&readable.destroy();else{if(null===readable||!1===readable)return this.push(null),void this.resume();var rs,self=this,unend=eos(readable,{writable:!1,readable:!0},destroyer(this)),onreadable=function(){self._forward()},onend=function(){self.push(null)};this._drained=!0,this._readable=readable,this._readable2=readable._readableState?readable:(rs=readable,new stream.Readable({objectMode:!0,highWaterMark:16}).wrap(rs)),this._readable2.on("readable",onreadable),this._readable2.on("end",onend),this._unread=function(){self._readable2.removeListener("readable",onreadable),self._readable2.removeListener("end",onend),unend()},this._forward()}},Duplexify.prototype._read=function(){this._drained=!0,this._forward()},Duplexify.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var data;for(this._forwarding=!0;this._drained&&null!==(data=shift(this._readable2));)this.destroyed||(this._drained=this.push(data));this._forwarding=!1}},Duplexify.prototype.destroy=function(err){if(!this.destroyed){this.destroyed=!0;var self=this;process.nextTick((function(){self._destroy(err)}))}},Duplexify.prototype._destroy=function(err){if(err){var ondrain=this._ondrain;this._ondrain=null,ondrain?ondrain(err):this.emit("error",err)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},Duplexify.prototype._write=function(data,enc,cb){return this.destroyed?cb():this._corked?onuncork(this,this._write.bind(this,data,enc,cb)):data===SIGNAL_FLUSH?this._finish(cb):this._writable?void(!1===this._writable.write(data)?this._ondrain=cb:cb()):cb()},Duplexify.prototype._finish=function(cb){var self=this;this.emit("preend"),onuncork(this,(function(){var ws,fn;ws=self._forwardEnd&&self._writable,fn=function(){!1===self._writableState.prefinished&&(self._writableState.prefinished=!0),self.emit("prefinish"),onuncork(self,cb)},ws?ws._writableState&&ws._writableState.finished?fn():ws._writableState?ws.end(fn):(ws.end(),fn()):fn()}))},Duplexify.prototype.end=function(data,enc,cb){return"function"==typeof data?this.end(null,null,data):"function"==typeof enc?this.end(data,null,enc):(this._ended=!0,data&&this.write(data),this._writableState.ending||this.write(SIGNAL_FLUSH),stream.Writable.prototype.end.call(this,cb))},module.exports=Duplexify},function(module,exports,__webpack_require__){"use strict";var websocket=__webpack_require__(116),urlModule=__webpack_require__(20),WSS_OPTIONS=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],IS_BROWSER="browser"===process.title;function createWebSocket(client,opts){var websocketSubProtocol="MQIsdp"===opts.protocolId&&3===opts.protocolVersion?"mqttv3.1":"mqtt";!function(opts){opts.hostname||(opts.hostname="localhost"),opts.port||("wss"===opts.protocol?opts.port=443:opts.port=80),opts.path||(opts.path="/"),opts.wsOptions||(opts.wsOptions={}),IS_BROWSER||"wss"!==opts.protocol||WSS_OPTIONS.forEach((function(prop){opts.hasOwnProperty(prop)&&!opts.wsOptions.hasOwnProperty(prop)&&(opts.wsOptions[prop]=opts[prop])}))}(opts);var url=function(opts,client){var url=opts.protocol+"://"+opts.hostname+":"+opts.port+opts.path;return"function"==typeof opts.transformWsUrl&&(url=opts.transformWsUrl(url,opts,client)),url}(opts,client);return websocket(url,[websocketSubProtocol],opts.wsOptions)}module.exports=IS_BROWSER?function(client,opts){if(opts.hostname||(opts.hostname=opts.host),!opts.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");var parsed=urlModule.parse(document.URL);opts.hostname=parsed.hostname,opts.port||(opts.port=parsed.port)}return createWebSocket(client,opts)}:function(client,opts){return createWebSocket(client,opts)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(pattern){if("string"!=typeof pattern)throw new TypeError("expected a string");var glob={negated:!1,pattern:pattern,original:pattern};return"!"===pattern.charAt(0)&&"("!==pattern.charAt(1)&&(glob.negated=!0,glob.pattern=pattern.slice(1)),glob}},function(module,exports,__webpack_require__){"use strict";var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function(arr){return"function"==typeof Array.isArray?Array.isArray(arr):"[object Array]"===toStr.call(arr)},isPlainObject=function(obj){if(!obj||"[object Object]"!==toStr.call(obj))return!1;var key,hasOwnConstructor=hasOwn.call(obj,"constructor"),hasIsPrototypeOf=obj.constructor&&obj.constructor.prototype&&hasOwn.call(obj.constructor.prototype,"isPrototypeOf");if(obj.constructor&&!hasOwnConstructor&&!hasIsPrototypeOf)return!1;for(key in obj);return void 0===key||hasOwn.call(obj,key)},setProperty=function(target,options){defineProperty&&"__proto__"===options.name?defineProperty(target,options.name,{enumerable:!0,configurable:!0,value:options.newValue,writable:!0}):target[options.name]=options.newValue},getProperty=function(obj,name){if("__proto__"===name){if(!hasOwn.call(obj,name))return;if(gOPD)return gOPD(obj,name).value}return obj[name]};module.exports=function extend(){var options,name,src,copy,copyIsArray,clone,target=arguments[0],i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[1]||{},i=2),(null==target||"object"!=typeof target&&"function"!=typeof target)&&(target={});i<length;++i)if(null!=(options=arguments[i]))for(name in options)src=getProperty(target,name),target!==(copy=getProperty(options,name))&&(deep&&copy&&(isPlainObject(copy)||(copyIsArray=isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&isArray(src)?src:[]):clone=src&&isPlainObject(src)?src:{},setProperty(target,{name:name,newValue:extend(deep,clone,copy)})):void 0!==copy&&setProperty(target,{name:name,newValue:copy}));return target}},function(module,exports,__webpack_require__){module.exports=glob;var fs=__webpack_require__(4),rp=__webpack_require__(131),minimatch=__webpack_require__(65),inherits=(minimatch.Minimatch,__webpack_require__(2)),EE=__webpack_require__(5).EventEmitter,path=__webpack_require__(6),assert=__webpack_require__(30),isAbsolute=__webpack_require__(66),globSync=__webpack_require__(316),common=__webpack_require__(132),setopts=(common.alphasort,common.alphasorti,common.setopts),ownProp=common.ownProp,inflight=__webpack_require__(317),childrenIgnored=(__webpack_require__(0),common.childrenIgnored),isIgnored=common.isIgnored,once=__webpack_require__(34);function glob(pattern,options,cb){if("function"==typeof options&&(cb=options,options={}),options||(options={}),options.sync){if(cb)throw new TypeError("callback provided to sync glob");return globSync(pattern,options)}return new Glob(pattern,options,cb)}glob.sync=globSync;var GlobSync=glob.GlobSync=globSync.GlobSync;function Glob(pattern,options,cb){if("function"==typeof options&&(cb=options,options=null),options&&options.sync){if(cb)throw new TypeError("callback provided to sync glob");return new GlobSync(pattern,options)}if(!(this instanceof Glob))return new Glob(pattern,options,cb);setopts(this,pattern,options),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),"function"==typeof cb&&(cb=once(cb),this.on("error",cb),this.on("end",(function(matches){cb(null,matches)})));var self=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===n)return done();for(var i=0;i<n;i++)this._process(this.minimatch.set[i],i,!1,done);function done(){--self._processing,self._processing<=0&&self._finish()}}glob.glob=glob,glob.hasMagic=function(pattern,options_){var options=function(origin,add){if(null===add||"object"!=typeof add)return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}({},options_);options.noprocess=!0;var set=new Glob(pattern,options).minimatch.set;if(!pattern)return!1;if(set.length>1)return!0;for(var j=0;j<set[0].length;j++)if("string"!=typeof set[0][j])return!0;return!1},glob.Glob=Glob,inherits(Glob,EE),Glob.prototype._finish=function(){if(assert(this instanceof Glob),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();common.finish(this),this.emit("end",this.found)}},Glob.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var n=this.matches.length;if(0===n)return this._finish();for(var self=this,i=0;i<this.matches.length;i++)this._realpathSet(i,next)}function next(){0==--n&&self._finish()}},Glob.prototype._realpathSet=function(index,cb){var matchset=this.matches[index];if(!matchset)return cb();var found=Object.keys(matchset),self=this,n=found.length;if(0===n)return cb();var set=this.matches[index]=Object.create(null);found.forEach((function(p,i){p=self._makeAbs(p),rp.realpath(p,self.realpathCache,(function(er,real){er?"stat"===er.syscall?set[p]=!0:self.emit("error",er):set[real]=!0,0==--n&&(self.matches[index]=set,cb())}))}))},Glob.prototype._mark=function(p){return common.mark(this,p)},Glob.prototype._makeAbs=function(f){return common.makeAbs(this,f)},Glob.prototype.abort=function(){this.aborted=!0,this.emit("abort")},Glob.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},Glob.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var eq=this._emitQueue.slice(0);this._emitQueue.length=0;for(var i=0;i<eq.length;i++){var e=eq[i];this._emitMatch(e[0],e[1])}}if(this._processQueue.length){var pq=this._processQueue.slice(0);this._processQueue.length=0;for(i=0;i<pq.length;i++){var p=pq[i];this._processing--,this._process(p[0],p[1],p[2],p[3])}}}},Glob.prototype._process=function(pattern,index,inGlobStar,cb){if(assert(this instanceof Glob),assert("function"==typeof cb),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([pattern,index,inGlobStar,cb]);else{for(var prefix,n=0;"string"==typeof pattern[n];)n++;switch(n){case pattern.length:return void this._processSimple(pattern.join("/"),index,cb);case 0:prefix=null;break;default:prefix=pattern.slice(0,n).join("/")}var read,remain=pattern.slice(n);null===prefix?read=".":isAbsolute(prefix)||isAbsolute(pattern.join("/"))?(prefix&&isAbsolute(prefix)||(prefix="/"+prefix),read=prefix):read=prefix;var abs=this._makeAbs(read);if(childrenIgnored(this,read))return cb();remain[0]===minimatch.GLOBSTAR?this._processGlobStar(prefix,read,abs,remain,index,inGlobStar,cb):this._processReaddir(prefix,read,abs,remain,index,inGlobStar,cb)}},Glob.prototype._processReaddir=function(prefix,read,abs,remain,index,inGlobStar,cb){var self=this;this._readdir(abs,inGlobStar,(function(er,entries){return self._processReaddir2(prefix,read,abs,remain,index,inGlobStar,entries,cb)}))},Glob.prototype._processReaddir2=function(prefix,read,abs,remain,index,inGlobStar,entries,cb){if(!entries)return cb();for(var pn=remain[0],negate=!!this.minimatch.negate,rawGlob=pn._glob,dotOk=this.dot||"."===rawGlob.charAt(0),matchedEntries=[],i=0;i<entries.length;i++){if("."!==(e=entries[i]).charAt(0)||dotOk)(negate&&!prefix?!e.match(pn):e.match(pn))&&matchedEntries.push(e)}var len=matchedEntries.length;if(0===len)return cb();if(1===remain.length&&!this.mark&&!this.stat){this.matches[index]||(this.matches[index]=Object.create(null));for(i=0;i<len;i++){var e=matchedEntries[i];prefix&&(e="/"!==prefix?prefix+"/"+e:prefix+e),"/"!==e.charAt(0)||this.nomount||(e=path.join(this.root,e)),this._emitMatch(index,e)}return cb()}remain.shift();for(i=0;i<len;i++){e=matchedEntries[i];prefix&&(e="/"!==prefix?prefix+"/"+e:prefix+e),this._process([e].concat(remain),index,inGlobStar,cb)}cb()},Glob.prototype._emitMatch=function(index,e){if(!this.aborted&&!isIgnored(this,e))if(this.paused)this._emitQueue.push([index,e]);else{var abs=isAbsolute(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=abs),!this.matches[index][e]){if(this.nodir){var c=this.cache[abs];if("DIR"===c||Array.isArray(c))return}this.matches[index][e]=!0;var st=this.statCache[abs];st&&this.emit("stat",e,st),this.emit("match",e)}}},Glob.prototype._readdirInGlobStar=function(abs,cb){if(!this.aborted){if(this.follow)return this._readdir(abs,!1,cb);var self=this,lstatcb=inflight("lstat\0"+abs,(function(er,lstat){if(er&&"ENOENT"===er.code)return cb();var isSym=lstat&&lstat.isSymbolicLink();self.symlinks[abs]=isSym,isSym||!lstat||lstat.isDirectory()?self._readdir(abs,!1,cb):(self.cache[abs]="FILE",cb())}));lstatcb&&fs.lstat(abs,lstatcb)}},Glob.prototype._readdir=function(abs,inGlobStar,cb){if(!this.aborted&&(cb=inflight("readdir\0"+abs+"\0"+inGlobStar,cb))){if(inGlobStar&&!ownProp(this.symlinks,abs))return this._readdirInGlobStar(abs,cb);if(ownProp(this.cache,abs)){var c=this.cache[abs];if(!c||"FILE"===c)return cb();if(Array.isArray(c))return cb(null,c)}fs.readdir(abs,function(self,abs,cb){return function(er,entries){er?self._readdirError(abs,er,cb):self._readdirEntries(abs,entries,cb)}}(this,abs,cb))}},Glob.prototype._readdirEntries=function(abs,entries,cb){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<entries.length;i++){var e=entries[i];e="/"===abs?abs+e:abs+"/"+e,this.cache[e]=!0}return this.cache[abs]=entries,cb(null,entries)}},Glob.prototype._readdirError=function(f,er,cb){if(!this.aborted){switch(er.code){case"ENOTSUP":case"ENOTDIR":var abs=this._makeAbs(f);if(this.cache[abs]="FILE",abs===this.cwdAbs){var error=new Error(er.code+" invalid cwd "+this.cwd);error.path=this.cwd,error.code=er.code,this.emit("error",error),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(f)]=!1;break;default:this.cache[this._makeAbs(f)]=!1,this.strict&&(this.emit("error",er),this.abort()),this.silent||console.error("glob error",er)}return cb()}},Glob.prototype._processGlobStar=function(prefix,read,abs,remain,index,inGlobStar,cb){var self=this;this._readdir(abs,inGlobStar,(function(er,entries){self._processGlobStar2(prefix,read,abs,remain,index,inGlobStar,entries,cb)}))},Glob.prototype._processGlobStar2=function(prefix,read,abs,remain,index,inGlobStar,entries,cb){if(!entries)return cb();var remainWithoutGlobStar=remain.slice(1),gspref=prefix?[prefix]:[],noGlobStar=gspref.concat(remainWithoutGlobStar);this._process(noGlobStar,index,!1,cb);var isSym=this.symlinks[abs],len=entries.length;if(isSym&&inGlobStar)return cb();for(var i=0;i<len;i++){if("."!==entries[i].charAt(0)||this.dot){var instead=gspref.concat(entries[i],remainWithoutGlobStar);this._process(instead,index,!0,cb);var below=gspref.concat(entries[i],remain);this._process(below,index,!0,cb)}}cb()},Glob.prototype._processSimple=function(prefix,index,cb){var self=this;this._stat(prefix,(function(er,exists){self._processSimple2(prefix,index,er,exists,cb)}))},Glob.prototype._processSimple2=function(prefix,index,er,exists,cb){if(this.matches[index]||(this.matches[index]=Object.create(null)),!exists)return cb();if(prefix&&isAbsolute(prefix)&&!this.nomount){var trail=/[\/\\]$/.test(prefix);"/"===prefix.charAt(0)?prefix=path.join(this.root,prefix):(prefix=path.resolve(this.root,prefix),trail&&(prefix+="/"))}"win32"===process.platform&&(prefix=prefix.replace(/\\/g,"/")),this._emitMatch(index,prefix),cb()},Glob.prototype._stat=function(f,cb){var abs=this._makeAbs(f),needDir="/"===f.slice(-1);if(f.length>this.maxLength)return cb();if(!this.stat&&ownProp(this.cache,abs)){var c=this.cache[abs];if(Array.isArray(c)&&(c="DIR"),!needDir||"DIR"===c)return cb(null,c);if(needDir&&"FILE"===c)return cb()}var stat=this.statCache[abs];if(void 0!==stat){if(!1===stat)return cb(null,stat);var type=stat.isDirectory()?"DIR":"FILE";return needDir&&"FILE"===type?cb():cb(null,type,stat)}var self=this,statcb=inflight("stat\0"+abs,(function(er,lstat){if(lstat&&lstat.isSymbolicLink())return fs.stat(abs,(function(er,stat){er?self._stat2(f,abs,null,lstat,cb):self._stat2(f,abs,er,stat,cb)}));self._stat2(f,abs,er,lstat,cb)}));statcb&&fs.lstat(abs,statcb)},Glob.prototype._stat2=function(f,abs,er,stat,cb){if(er&&("ENOENT"===er.code||"ENOTDIR"===er.code))return this.statCache[abs]=!1,cb();var needDir="/"===f.slice(-1);if(this.statCache[abs]=stat,"/"===abs.slice(-1)&&stat&&!stat.isDirectory())return cb(null,!1,stat);var c=!0;return stat&&(c=stat.isDirectory()?"DIR":"FILE"),this.cache[abs]=this.cache[abs]||c,needDir&&"FILE"===c?cb():cb(null,c,stat)}},function(module,exports,__webpack_require__){module.exports=realpath,realpath.realpath=realpath,realpath.sync=realpathSync,realpath.realpathSync=realpathSync,realpath.monkeypatch=function(){fs.realpath=realpath,fs.realpathSync=realpathSync},realpath.unmonkeypatch=function(){fs.realpath=origRealpath,fs.realpathSync=origRealpathSync};var fs=__webpack_require__(4),origRealpath=fs.realpath,origRealpathSync=fs.realpathSync,version=process.version,ok=/^v[0-5]\./.test(version),old=__webpack_require__(312);function newError(er){return er&&"realpath"===er.syscall&&("ELOOP"===er.code||"ENOMEM"===er.code||"ENAMETOOLONG"===er.code)}function realpath(p,cache,cb){if(ok)return origRealpath(p,cache,cb);"function"==typeof cache&&(cb=cache,cache=null),origRealpath(p,cache,(function(er,result){newError(er)?old.realpath(p,cache,cb):cb(er,result)}))}function realpathSync(p,cache){if(ok)return origRealpathSync(p,cache);try{return origRealpathSync(p,cache)}catch(er){if(newError(er))return old.realpathSync(p,cache);throw er}}},function(module,exports,__webpack_require__){function ownProp(obj,field){return Object.prototype.hasOwnProperty.call(obj,field)}exports.alphasort=alphasort,exports.alphasorti=alphasorti,exports.setopts=function(self,pattern,options){options||(options={});if(options.matchBase&&-1===pattern.indexOf("/")){if(options.noglobstar)throw new Error("base matching requires globstar");pattern="**/"+pattern}self.silent=!!options.silent,self.pattern=pattern,self.strict=!1!==options.strict,self.realpath=!!options.realpath,self.realpathCache=options.realpathCache||Object.create(null),self.follow=!!options.follow,self.dot=!!options.dot,self.mark=!!options.mark,self.nodir=!!options.nodir,self.nodir&&(self.mark=!0);self.sync=!!options.sync,self.nounique=!!options.nounique,self.nonull=!!options.nonull,self.nosort=!!options.nosort,self.nocase=!!options.nocase,self.stat=!!options.stat,self.noprocess=!!options.noprocess,self.absolute=!!options.absolute,self.maxLength=options.maxLength||1/0,self.cache=options.cache||Object.create(null),self.statCache=options.statCache||Object.create(null),self.symlinks=options.symlinks||Object.create(null),function(self,options){self.ignore=options.ignore||[],Array.isArray(self.ignore)||(self.ignore=[self.ignore]);self.ignore.length&&(self.ignore=self.ignore.map(ignoreMap))}(self,options),self.changedCwd=!1;var cwd=process.cwd();ownProp(options,"cwd")?(self.cwd=path.resolve(options.cwd),self.changedCwd=self.cwd!==cwd):self.cwd=cwd;self.root=options.root||path.resolve(self.cwd,"/"),self.root=path.resolve(self.root),"win32"===process.platform&&(self.root=self.root.replace(/\\/g,"/"));self.cwdAbs=isAbsolute(self.cwd)?self.cwd:makeAbs(self,self.cwd),"win32"===process.platform&&(self.cwdAbs=self.cwdAbs.replace(/\\/g,"/"));self.nomount=!!options.nomount,options.nonegate=!0,options.nocomment=!0,self.minimatch=new Minimatch(pattern,options),self.options=self.minimatch.options},exports.ownProp=ownProp,exports.makeAbs=makeAbs,exports.finish=function(self){for(var nou=self.nounique,all=nou?[]:Object.create(null),i=0,l=self.matches.length;i<l;i++){var matches=self.matches[i];if(matches&&0!==Object.keys(matches).length){var m=Object.keys(matches);nou?all.push.apply(all,m):m.forEach((function(m){all[m]=!0}))}else if(self.nonull){var literal=self.minimatch.globSet[i];nou?all.push(literal):all[literal]=!0}}nou||(all=Object.keys(all));self.nosort||(all=all.sort(self.nocase?alphasorti:alphasort));if(self.mark){for(i=0;i<all.length;i++)all[i]=self._mark(all[i]);self.nodir&&(all=all.filter((function(e){var notDir=!/\/$/.test(e),c=self.cache[e]||self.cache[makeAbs(self,e)];return notDir&&c&&(notDir="DIR"!==c&&!Array.isArray(c)),notDir})))}self.ignore.length&&(all=all.filter((function(m){return!isIgnored(self,m)})));self.found=all},exports.mark=function(self,p){var abs=makeAbs(self,p),c=self.cache[abs],m=p;if(c){var isDir="DIR"===c||Array.isArray(c),slash="/"===p.slice(-1);if(isDir&&!slash?m+="/":!isDir&&slash&&(m=m.slice(0,-1)),m!==p){var mabs=makeAbs(self,m);self.statCache[mabs]=self.statCache[abs],self.cache[mabs]=self.cache[abs]}}return m},exports.isIgnored=isIgnored,exports.childrenIgnored=function(self,path){return!!self.ignore.length&&self.ignore.some((function(item){return!(!item.gmatcher||!item.gmatcher.match(path))}))};var path=__webpack_require__(6),minimatch=__webpack_require__(65),isAbsolute=__webpack_require__(66),Minimatch=minimatch.Minimatch;function alphasorti(a,b){return a.toLowerCase().localeCompare(b.toLowerCase())}function alphasort(a,b){return a.localeCompare(b)}function ignoreMap(pattern){var gmatcher=null;if("/**"===pattern.slice(-3)){var gpattern=pattern.replace(/(\/\*\*)+$/,"");gmatcher=new Minimatch(gpattern,{dot:!0})}return{matcher:new Minimatch(pattern,{dot:!0}),gmatcher:gmatcher}}function makeAbs(self,f){var abs=f;return abs="/"===f.charAt(0)?path.join(self.root,f):isAbsolute(f)||""===f?f:self.changedCwd?path.resolve(self.cwd,f):path.resolve(f),"win32"===process.platform&&(abs=abs.replace(/\\/g,"/")),abs}function isIgnored(self,path){return!!self.ignore.length&&self.ignore.some((function(item){return item.matcher.match(path)||!(!item.gmatcher||!item.gmatcher.match(path))}))}},function(module,exports){function isNumber(x){return"number"==typeof x||(!!/^0x[0-9a-f]+$/i.test(x)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(x))}module.exports=function(args,opts){opts||(opts={});var flags={bools:{},strings:{},unknownFn:null};"function"==typeof opts.unknown&&(flags.unknownFn=opts.unknown),"boolean"==typeof opts.boolean&&opts.boolean?flags.allBools=!0:[].concat(opts.boolean).filter(Boolean).forEach((function(key){flags.bools[key]=!0}));var aliases={};Object.keys(opts.alias||{}).forEach((function(key){aliases[key]=[].concat(opts.alias[key]),aliases[key].forEach((function(x){aliases[x]=[key].concat(aliases[key].filter((function(y){return x!==y})))}))})),[].concat(opts.string).filter(Boolean).forEach((function(key){flags.strings[key]=!0,aliases[key]&&(flags.strings[aliases[key]]=!0)}));var defaults=opts.default||{},argv={_:[]};Object.keys(flags.bools).forEach((function(key){setArg(key,void 0!==defaults[key]&&defaults[key])}));var notFlags=[];function setArg(key,val,arg){if(!arg||!flags.unknownFn||function(key,arg){return flags.allBools&&/^--[^=]+$/.test(arg)||flags.strings[key]||flags.bools[key]||aliases[key]}(key,arg)||!1!==flags.unknownFn(arg)){var value=!flags.strings[key]&&isNumber(val)?Number(val):val;setKey(argv,key.split("."),value),(aliases[key]||[]).forEach((function(x){setKey(argv,x.split("."),value)}))}}function setKey(obj,keys,value){for(var o=obj,i=0;i<keys.length-1;i++){if("__proto__"===(key=keys[i]))return;void 0===o[key]&&(o[key]={}),o[key]!==Object.prototype&&o[key]!==Number.prototype&&o[key]!==String.prototype||(o[key]={}),o[key]===Array.prototype&&(o[key]=[]),o=o[key]}var key;"__proto__"!==(key=keys[keys.length-1])&&(o!==Object.prototype&&o!==Number.prototype&&o!==String.prototype||(o={}),o===Array.prototype&&(o=[]),void 0===o[key]||flags.bools[key]||"boolean"==typeof o[key]?o[key]=value:Array.isArray(o[key])?o[key].push(value):o[key]=[o[key],value])}function aliasIsBoolean(key){return aliases[key].some((function(x){return flags.bools[x]}))}-1!==args.indexOf("--")&&(notFlags=args.slice(args.indexOf("--")+1),args=args.slice(0,args.indexOf("--")));for(var i=0;i<args.length;i++){var arg=args[i];if(/^--.+=/.test(arg)){var m=arg.match(/^--([^=]+)=([\s\S]*)$/),key=m[1],value=m[2];flags.bools[key]&&(value="false"!==value),setArg(key,value,arg)}else if(/^--no-.+/.test(arg)){setArg(key=arg.match(/^--no-(.+)/)[1],!1,arg)}else if(/^--.+/.test(arg)){key=arg.match(/^--(.+)/)[1];void 0===(next=args[i+1])||/^-/.test(next)||flags.bools[key]||flags.allBools||aliases[key]&&aliasIsBoolean(key)?/^(true|false)$/.test(next)?(setArg(key,"true"===next,arg),i++):setArg(key,!flags.strings[key]||"",arg):(setArg(key,next,arg),i++)}else if(/^-[^-]+/.test(arg)){for(var letters=arg.slice(1,-1).split(""),broken=!1,j=0;j<letters.length;j++){var next;if("-"!==(next=arg.slice(j+2))){if(/[A-Za-z]/.test(letters[j])&&/=/.test(next)){setArg(letters[j],next.split("=")[1],arg),broken=!0;break}if(/[A-Za-z]/.test(letters[j])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(next)){setArg(letters[j],next,arg),broken=!0;break}if(letters[j+1]&&letters[j+1].match(/\W/)){setArg(letters[j],arg.slice(j+2),arg),broken=!0;break}setArg(letters[j],!flags.strings[letters[j]]||"",arg)}else setArg(letters[j],next,arg)}key=arg.slice(-1)[0];broken||"-"===key||(!args[i+1]||/^(-|--)[^-]/.test(args[i+1])||flags.bools[key]||aliases[key]&&aliasIsBoolean(key)?args[i+1]&&/^(true|false)$/.test(args[i+1])?(setArg(key,"true"===args[i+1],arg),i++):setArg(key,!flags.strings[key]||"",arg):(setArg(key,args[i+1],arg),i++))}else if(flags.unknownFn&&!1===flags.unknownFn(arg)||argv._.push(flags.strings._||!isNumber(arg)?arg:Number(arg)),opts.stopEarly){argv._.push.apply(argv._,args.slice(i+1));break}}return Object.keys(defaults).forEach((function(key){var obj,keys,o;obj=argv,keys=key.split("."),o=obj,keys.slice(0,-1).forEach((function(key){o=o[key]||{}})),keys[keys.length-1]in o||(setKey(argv,key.split("."),defaults[key]),(aliases[key]||[]).forEach((function(x){setKey(argv,x.split("."),defaults[key])})))})),opts["--"]?(argv["--"]=new Array,notFlags.forEach((function(key){argv["--"].push(key)}))):notFlags.forEach((function(key){argv._.push(key)})),argv}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(11),lodash_clonedeep_1=tslib_1.__importDefault(__webpack_require__(49)),util_1=__webpack_require__(0),stompjs_1=__webpack_require__(340),stompMessage_1=tslib_1.__importDefault(__webpack_require__(341)),spacebunny_1=tslib_1.__importDefault(__webpack_require__(50)),utils_1=__webpack_require__(32);class StompClient extends spacebunny_1.default{constructor(opts={}){super(opts),this.stompListeners={},this.onMessage=(callback,opts={})=>new Promise((resolve,reject)=>{try{const topic=this.subcriptionFor(this.existingQueuePrefix,this.inboxTopic),name=this.addStompListener(callback,topic,opts);this.isConnected()&&this.bindStompListner(name),resolve()}catch(error){this.log("error",error),reject(error)}}),this.publish=(channel,message,opts={})=>new Promise((resolve,reject)=>{if(this.isConnected())try{const{routingKey:routingKey,topic:topic}=opts,destination=this.destinationFor({channel:channel,routingKey:routingKey,topic:topic});this.stompClient.publish({destination:destination,headers:{},body:utils_1.encapsulateContent(message)}),resolve(!0)}catch(error){this.log("error","Error publishing on channel "+channel),reject(error)}else reject(new Error(`${this.getClassName()} - Error sending message on channel ${channel} when client is not connected`))}),this.disconnect=()=>new Promise((resolve,reject)=>{if(this.isConnected())try{const listeners=Object.keys(this.stompListeners);for(let index=0;index<listeners.length;index+=1){const name=listeners[index],{subscription:subscription}=this.stompListeners[name];util_1.isNullOrUndefined(subscription)||subscription.unsubscribe(),delete this.stompListeners[name]}this.stompClient.deactivate(),this.stompClient=void 0,this.emit("disconnect"),resolve(!0)}catch(error){reject(error)}else resolve(!0)}),this.connect=(opts={})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){return this.isConnected()?this.stompClient:(yield this.getEndpointConfigs(),new Promise((resolve,reject)=>{try{const protocol=this.tls?this.tlsProtocol:this.protocol,port=this.tls?this.connectionParams.protocols.webStomp.tlsPort:this.connectionParams.protocols.webStomp.port,connectionString=`${protocol}://${this.connectionParams.host}:${port}/ws`,stompConfig={connectHeaders:Object.assign(Object.assign({},this.connectionHeaders),{login:this.connectionParams.deviceId||this.connectionParams.client,passcode:this.connectionParams.secret,host:this.connectionParams.vhost}),brokerURL:connectionString,reconnectDelay:this.autoReconnect?opts.reconnectDelay||this.reconnectTimeout:0,heartbeatIncoming:opts.heartbeatIncoming||this.heartbeat,heartbeatOutgoing:opts.heartbeatOutgoing||this.heartbeat,onConnect:()=>{this.emit("connect"),this.log("info","Client connected!"),resolve(this.stompClient)}};this.stompClient=new stompjs_1.Client(stompConfig),this.stompClient.activate()}catch(error){this.stompClient=void 0,reject(error)}}))})),this.isConnected=()=>!util_1.isNullOrUndefined(this.stompClient)&&this.stompClient.connected,this.removeStompListener=name=>{delete this.stompListeners[name]},this.consumeCallback=(callback,opts={},message)=>{try{const stompMessage=new stompMessage_1.default({message:message,receiverId:this.getDeviceId(),subscriptionOpts:opts}),ackNeeded=this.autoAck(opts.ack);if(stompMessage.blackListed())return void(ackNeeded&&message.nack());callback(stompMessage),ackNeeded&&message.ack()}catch(error){this.log("error","Error consuming message"),this.log("error",error)}},this.addStompListener=(callback,topic,opts={})=>{const name="subscription-"+(new Date).getTime();return this.stompListeners[name]={callback:callback,topic:topic,opts:opts},name},this.bindStompListners=()=>{const names=Object.keys(this.stompListeners);for(let index=0;index<names.length;index+=1){const name=names[index];this.bindStompListner(name)}},this.bindStompListner=name=>{if(util_1.isNullOrUndefined(this.stompListeners[name]))return void this.log("error",`Listner ${name} does not exist.`);if(!util_1.isNullOrUndefined(this.stompListeners[name].subscription))return void this.log("warn",`Listner ${name} already bound to a subscription.`);const{callback:callback,opts:opts,topic:topic}=this.stompListeners[name];if(!this.isConnected())throw new Error(this.getClassName()+" - Trying to subscribe when client is not connected");this.stompListeners[name].subscription=this.stompClient.subscribe(topic,this.consumeCallback.bind(this,callback,opts)),this.topics.includes(topic)||this.topics.push(topic),this.log("info","Client subscribed to topics: "+topic)},this.subcriptionFor=(type,channel)=>`/${type}/${this.getDeviceId()}.${channel}`,this.destinationFor=(params={})=>{const{type:type=this.defaultResource,channel:channel="",topic:topic="",routingKey:routingKey=""}=params;let messageRoutingKey;return routingKey.length>0?messageRoutingKey=routingKey:(messageRoutingKey=this.getDeviceId(),!util_1.isNullOrUndefined(channel)&&channel.length>0&&(messageRoutingKey+="."+(channel||"")),!util_1.isNullOrUndefined(topic)&&topic.length>0&&(messageRoutingKey+="."+(topic||""))),`/${type}/${this.getDeviceId()}/${messageRoutingKey}`},this.autoAck=ack=>{if(ack)switch(this.ackTypes.includes(ack)||this.emit("error","Wrong acknowledge type"),ack){case"client":return!1;default:return!0}return!1},this.publishCachedMessages=()=>tslib_1.__awaiter(this,void 0,void 0,(function*(){if(this.isConnected()&&this.cachedMessages.length>0){const cachedMessagesToSend=lodash_clonedeep_1.default(this.cachedMessages);this.log("debug",`Publishing ${cachedMessagesToSend.length} cached messages...`);for(let index=0;index<cachedMessagesToSend.length;index+=1){const cachedMessage=cachedMessagesToSend[index];this.log("silly",`Sending message ${index+1} from cache`);const{message:message,channel:channel,options:options}=cachedMessage;if(yield this.publish(channel,message,options)){const itemToRemove=this.cachedMessages.findIndex(message);this.cachedMessages.splice(itemToRemove,1)}}this.writeCachedMessagesFile()}})),this.stompListeners={},this.protocol="ws",this.tlsProtocol="wss",this.wsEndpoint="ws",this.connectionHeaders={max_hbrlck_fails:"10","accept-version":"1.0,1.1,1.2","heart-beat":"10000,10000"},this.connectionOpts={},this.existingQueuePrefix="amq/queue",this.defaultResource="exchange",this.ackTypes=["client"],this.on("connect",()=>{this.bindStompListners(),this.publishCachedMessages()}),this.on("disconnect",()=>{this.stompListeners={}})}}exports.default=StompClient},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StompStreamClient=exports.MqttStreamClient=exports.StreamClient=exports.AmqpStreamClient=exports.StompClient=exports.MqttClient=exports.AmqpClient=exports.Client=void 0;const tslib_1=__webpack_require__(11),amqpClient_1=tslib_1.__importDefault(__webpack_require__(67));exports.Client=amqpClient_1.default,exports.AmqpClient=amqpClient_1.default;const amqpStreamClient_1=tslib_1.__importDefault(__webpack_require__(221));exports.AmqpStreamClient=amqpStreamClient_1.default,exports.StreamClient=amqpStreamClient_1.default;const mqttClient_1=tslib_1.__importDefault(__webpack_require__(93));exports.MqttClient=mqttClient_1.default;const mqttStreamClient_1=tslib_1.__importDefault(__webpack_require__(339));exports.MqttStreamClient=mqttStreamClient_1.default;const stompClient_1=tslib_1.__importDefault(__webpack_require__(134));exports.StompClient=stompClient_1.default;const stompStreamClient_1=tslib_1.__importDefault(__webpack_require__(342));exports.StompStreamClient=stompStreamClient_1.default},function(module,exports,__webpack_require__){var raw_connect=__webpack_require__(137).connect,ChannelModel=__webpack_require__(162).ChannelModel,Promise=__webpack_require__(77);module.exports.connect=function(url,connOptions){return Promise.fromCallback((function(cb){return raw_connect(url,connOptions,cb)})).then((function(conn){return new ChannelModel(conn)}))},module.exports.credentials=__webpack_require__(75),module.exports.IllegalOperationError=__webpack_require__(31).IllegalOperationError},function(module,exports,__webpack_require__){"use strict";var URL=__webpack_require__(138),QS=__webpack_require__(141),Connection=__webpack_require__(142).Connection,fmt=__webpack_require__(0).format,credentials=__webpack_require__(75);function copyInto(obj,target){for(var keys=Object.keys(obj),i=keys.length;i--;){var k=keys[i];target[k]=obj[k]}return target}var CLIENT_PROPERTIES={product:"amqplib",version:__webpack_require__(161).version,platform:fmt("Node.JS %s",process.version),information:"http://squaremo.github.io/amqp.node",capabilities:{publisher_confirms:!0,exchange_exchange_bindings:!0,"basic.nack":!0,consumer_cancel_notify:!0,"connection.blocked":!0,authentication_failure_close:!0}};function openFrames(vhost,query,credentials,extraClientProperties){vhost=vhost?QS.unescape(vhost):"/";query=query||{};function intOrDefault(val,def){return void 0===val?def:parseInt(val)}return{clientProperties:copyInto(extraClientProperties,Object.create(CLIENT_PROPERTIES)),mechanism:credentials.mechanism,response:credentials.response(),locale:query.locale||"en_US",channelMax:intOrDefault(query.channelMax,0),frameMax:intOrDefault(query.frameMax,4096),heartbeat:intOrDefault(query.heartbeat,0),virtualHost:vhost,capabilities:"",insist:0}}function credentialsFromUrl(parts){var user="guest",passwd="guest";return""==parts.username&&""==parts.password||(user=parts.username?unescape(parts.username):"",passwd=parts.password?unescape(parts.password):""),credentials.plain(user,passwd)}module.exports.connect=function(url,socketOptions,openCallback){var sockopts=copyInto(socketOptions||{},{});url=url||"amqp://localhost";var protocol,fields,noDelay=!!sockopts.noDelay,timeout=sockopts.timeout,keepAlive=!!sockopts.keepAlive,keepAliveDelay=sockopts.keepAliveDelay||0,extraClientProperties=sockopts.clientProperties||{};if("object"==typeof url){var user,pass;protocol=(url.protocol||"amqp")+":",sockopts.host=url.hostname,sockopts.port=url.port||("amqp:"===protocol?5672:5671),null==url.username&&null==url.password?(user="guest",pass="guest"):(user=url.username||"",pass=url.password||"");var config={locale:url.locale,channelMax:url.channelMax,frameMax:url.frameMax,heartbeat:url.heartbeat};fields=openFrames(url.vhost,config,sockopts.credentials||credentials.plain(user,pass),extraClientProperties)}else{var parts=URL(url,!0);protocol=parts.protocol,sockopts.host=parts.hostname,sockopts.port=parseInt(parts.port)||("amqp:"===protocol?5672:5671);var vhost=parts.pathname?parts.pathname.substr(1):null;fields=openFrames(vhost,parts.query,sockopts.credentials||credentialsFromUrl(parts),extraClientProperties)}var sock,sockok=!1;function onConnect(){sockok=!0,sock.setNoDelay(noDelay),keepAlive&&sock.setKeepAlive(keepAlive,keepAliveDelay);var c=new Connection(sock);c.open(fields,(function(err,ok){timeout&&sock.setTimeout(0),null===err?openCallback(null,c):openCallback(err)}))}if("amqp:"===protocol)sock=__webpack_require__(47).connect(sockopts,onConnect);else{if("amqps:"!==protocol)throw new Error("Expected amqp: or amqps: as the protocol; got "+protocol);sock=__webpack_require__(76).connect(sockopts,onConnect)}timeout&&sock.setTimeout(timeout,(function(){sock.end(),sock.destroy(),openCallback(new Error("connect ETIMEDOUT"))})),sock.once("error",(function(err){sockok||openCallback(err)}))},module.exports.credentialsFromUrl=credentialsFromUrl},function(module,exports,__webpack_require__){"use strict";var required=__webpack_require__(139),qs=__webpack_require__(140),slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,protocolre=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,left=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function trimLeft(str){return(str||"").toString().replace(left,"")}var rules=[["#","hash"],["?","query"],function(address){return address.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ignore={hash:1,query:1};function lolcation(loc){var key,location=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).location||{},finaldestination={},type=typeof(loc=loc||location);if("blob:"===loc.protocol)finaldestination=new Url(unescape(loc.pathname),{});else if("string"===type)for(key in finaldestination=new Url(loc,{}),ignore)delete finaldestination[key];else if("object"===type){for(key in loc)key in ignore||(finaldestination[key]=loc[key]);void 0===finaldestination.slashes&&(finaldestination.slashes=slashes.test(loc.href))}return finaldestination}function extractProtocol(address){address=trimLeft(address);var match=protocolre.exec(address);return{protocol:match[1]?match[1].toLowerCase():"",slashes:!!match[2],rest:match[3]}}function Url(address,location,parser){if(address=trimLeft(address),!(this instanceof Url))return new Url(address,location,parser);var relative,extracted,parse,instruction,index,key,instructions=rules.slice(),type=typeof location,url=this,i=0;for("object"!==type&&"string"!==type&&(parser=location,location=null),parser&&"function"!=typeof parser&&(parser=qs.parse),location=lolcation(location),relative=!(extracted=extractProtocol(address||"")).protocol&&!extracted.slashes,url.slashes=extracted.slashes||relative&&location.slashes,url.protocol=extracted.protocol||location.protocol||"",address=extracted.rest,extracted.slashes||(instructions[3]=[/(.*)/,"pathname"]);i<instructions.length;i++)"function"!=typeof(instruction=instructions[i])?(parse=instruction[0],key=instruction[1],parse!=parse?url[key]=address:"string"==typeof parse?~(index=address.indexOf(parse))&&("number"==typeof instruction[2]?(url[key]=address.slice(0,index),address=address.slice(index+instruction[2])):(url[key]=address.slice(index),address=address.slice(0,index))):(index=parse.exec(address))&&(url[key]=index[1],address=address.slice(0,index.index)),url[key]=url[key]||relative&&instruction[3]&&location[key]||"",instruction[4]&&(url[key]=url[key].toLowerCase())):address=instruction(address);parser&&(url.query=parser(url.query)),relative&&location.slashes&&"/"!==url.pathname.charAt(0)&&(""!==url.pathname||""!==location.pathname)&&(url.pathname=function(relative,base){if(""===relative)return base;for(var path=(base||"/").split("/").slice(0,-1).concat(relative.split("/")),i=path.length,last=path[i-1],unshift=!1,up=0;i--;)"."===path[i]?path.splice(i,1):".."===path[i]?(path.splice(i,1),up++):up&&(0===i&&(unshift=!0),path.splice(i,1),up--);return unshift&&path.unshift(""),"."!==last&&".."!==last||path.push(""),path.join("/")}(url.pathname,location.pathname)),required(url.port,url.protocol)||(url.host=url.hostname,url.port=""),url.username=url.password="",url.auth&&(instruction=url.auth.split(":"),url.username=instruction[0]||"",url.password=instruction[1]||""),url.origin=url.protocol&&url.host&&"file:"!==url.protocol?url.protocol+"//"+url.host:"null",url.href=url.toString()}Url.prototype={set:function(part,value,fn){var url=this;switch(part){case"query":"string"==typeof value&&value.length&&(value=(fn||qs.parse)(value)),url[part]=value;break;case"port":url[part]=value,required(value,url.protocol)?value&&(url.host=url.hostname+":"+value):(url.host=url.hostname,url[part]="");break;case"hostname":url[part]=value,url.port&&(value+=":"+url.port),url.host=value;break;case"host":url[part]=value,/:\d+$/.test(value)?(value=value.split(":"),url.port=value.pop(),url.hostname=value.join(":")):(url.hostname=value,url.port="");break;case"protocol":url.protocol=value.toLowerCase(),url.slashes=!fn;break;case"pathname":case"hash":if(value){var char="pathname"===part?"/":"#";url[part]=value.charAt(0)!==char?char+value:value}else url[part]=value;break;default:url[part]=value}for(var i=0;i<rules.length;i++){var ins=rules[i];ins[4]&&(url[ins[1]]=url[ins[1]].toLowerCase())}return url.origin=url.protocol&&url.host&&"file:"!==url.protocol?url.protocol+"//"+url.host:"null",url.href=url.toString(),url},toString:function(stringify){stringify&&"function"==typeof stringify||(stringify=qs.stringify);var query,url=this,protocol=url.protocol;protocol&&":"!==protocol.charAt(protocol.length-1)&&(protocol+=":");var result=protocol+(url.slashes?"//":"");return url.username&&(result+=url.username,url.password&&(result+=":"+url.password),result+="@"),result+=url.host+url.pathname,(query="object"==typeof url.query?stringify(url.query):url.query)&&(result+="?"!==query.charAt(0)?"?"+query:query),url.hash&&(result+=url.hash),result}},Url.extractProtocol=extractProtocol,Url.location=lolcation,Url.trimLeft=trimLeft,Url.qs=qs,module.exports=Url},function(module,exports,__webpack_require__){"use strict";module.exports=function(port,protocol){if(protocol=protocol.split(":")[0],!(port=+port))return!1;switch(protocol){case"http":case"ws":return 80!==port;case"https":case"wss":return 443!==port;case"ftp":return 21!==port;case"gopher":return 70!==port;case"file":return!1}return 0!==port}},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty;function decode(input){try{return decodeURIComponent(input.replace(/\+/g," "))}catch(e){return null}}exports.stringify=function(obj,prefix){prefix=prefix||"";var value,key,pairs=[];for(key in"string"!=typeof prefix&&(prefix="?"),obj)if(has.call(obj,key)){if((value=obj[key])||null!=value&&!isNaN(value)||(value=""),key=encodeURIComponent(key),value=encodeURIComponent(value),null===key||null===value)continue;pairs.push(key+"="+value)}return pairs.length?prefix+pairs.join("&"):""},exports.parse=function(query){for(var part,parser=/([^=?&]+)=?([^&]*)/g,result={};part=parser.exec(query);){var key=decode(part[1]),value=decode(part[2]);null===key||null===value||key in result||(result[key]=value)}return result}},function(module,exports){module.exports=require("querystring")},function(module,exports,__webpack_require__){"use strict";var defs=__webpack_require__(27),constants=defs.constants,frame=__webpack_require__(69),HEARTBEAT=frame.HEARTBEAT,Mux=__webpack_require__(150).Mux,Buffer=__webpack_require__(28).Buffer,Duplex=__webpack_require__(15).Duplex||__webpack_require__(151),EventEmitter=__webpack_require__(5).EventEmitter,Heart=__webpack_require__(156).Heart,methodName=__webpack_require__(19).methodName,closeMsg=__webpack_require__(19).closeMessage,inspect=__webpack_require__(19).inspect,BitSet=__webpack_require__(157).BitSet,inherits=__webpack_require__(0).inherits,fmt=__webpack_require__(0).format,PassThrough=__webpack_require__(15).PassThrough||__webpack_require__(158),IllegalOperationError=__webpack_require__(31).IllegalOperationError,stackCapture=__webpack_require__(31).stackCapture;function Connection(underlying){EventEmitter.call(this);var connection,stream=this.stream=function(s){if(s instanceof Duplex)return s;var ws=new Duplex;return ws.wrap(s),ws._write=function(chunk,encoding,callback){return s.write(chunk,encoding,callback)},ws}(underlying);this.muxer=new Mux(stream),this.rest=Buffer.alloc(0),this.frameMax=constants.FRAME_MIN_SIZE,this.sentSinceLastCheck=!1,this.recvSinceLastCheck=!1,this.expectSocketClose=!1,this.freeChannels=new BitSet,this.channels=[{channel:{accept:(connection=this,function(f){if(f===HEARTBEAT);else if(f.id===defs.ConnectionClose){connection.sendMethod(0,defs.ConnectionCloseOk,{});var emsg=fmt("Connection closed: %s",closeMsg(f)),s=stackCapture(emsg),e=new Error(emsg);e.code=f.fields.replyCode,isFatalError(e)&&connection.emit("error",e),connection.toClosed(s,e)}else f.id===defs.ConnectionBlocked?connection.emit("blocked",f.fields.reason):f.id===defs.ConnectionUnblocked?connection.emit("unblocked"):connection.closeWithError(fmt("Unexpected frame on channel 0"),constants.UNEXPECTED_FRAME,new Error(fmt("Unexpected frame on channel 0: %s",inspect(f,!1))))})},buffer:underlying}]}inherits(Connection,EventEmitter);var C=Connection.prototype;function mainAccept(frame){var rec=this.channels[frame.channel];if(rec)return rec.channel.accept(frame);this.closeWithError(fmt("Frame on unknown channel %d",frame.channel),constants.CHANNEL_ERROR,new Error(fmt("Frame on unknown channel: %s",inspect(frame,!1))))}function invalidOp(msg,stack){return function(){throw new IllegalOperationError(msg,stack)}}function invalidateSend(conn,msg,stack){conn.sendMethod=conn.sendContent=conn.sendMessage=invalidOp(msg,stack)}C.sendProtocolHeader=function(){this.sendBytes(frame.PROTOCOL_HEADER)},C.open=function(allFields,openCallback0){var self=this,openCallback=openCallback0||function(){},tunedOptions=Object.create(allFields);function wait(k){self.step((function(err,frame){null!==err?bail(err):0!==frame.channel?bail(new Error(fmt("Frame on channel != 0 during handshake: %s",inspect(frame,!1)))):k(frame)}))}function expect(Method,k){wait((function(frame){frame.id===Method?k(frame):bail(new Error(fmt("Expected %s; got %s",methodName(Method),inspect(frame,!1))))}))}function bail(err){openCallback(err)}function send(Method){try{self.sendMethod(0,Method,tunedOptions)}catch(err){bail(err)}}function negotiate(server,desired){return 0===server||0===desired?Math.max(server,desired):Math.min(server,desired)}function afterStartOk(reply){switch(reply.id){case defs.ConnectionSecure:bail(new Error("Wasn't expecting to have to go through secure"));break;case defs.ConnectionClose:bail(new Error(fmt("Handshake terminated by server: %s",closeMsg(reply))));break;case defs.ConnectionTune:var fields=reply.fields;tunedOptions.frameMax=negotiate(fields.frameMax,allFields.frameMax),tunedOptions.channelMax=negotiate(fields.channelMax,allFields.channelMax),tunedOptions.heartbeat=negotiate(fields.heartbeat,allFields.heartbeat),send(defs.ConnectionTuneOk),send(defs.ConnectionOpen),expect(defs.ConnectionOpenOk,onOpenOk);break;default:bail(new Error(fmt("Expected connection.secure, connection.close, or connection.tune during handshake; got %s",inspect(reply,!1))))}}function onOpenOk(openOk){var ok;self.channelMax=tunedOptions.channelMax||65535,self.frameMax=tunedOptions.frameMax||4294967295,self.heartbeat=tunedOptions.heartbeat,self.heartbeater=self.startHeartbeater(),self.accept=mainAccept,ok=openOk,self.stream.removeListener("end",endWhileOpening),self.stream.removeListener("error",endWhileOpening),self.stream.on("error",self.onSocketError.bind(self)),self.stream.on("end",self.onSocketError.bind(self,new Error("Unexpected close"))),self.on("frameError",self.onSocketError.bind(self)),self.acceptLoop(),openCallback(null,ok)}function endWhileOpening(err){bail(err||new Error("Socket closed abruptly during opening handshake"))}this.stream.on("end",endWhileOpening),this.stream.on("error",endWhileOpening),this.sendProtocolHeader(),expect(defs.ConnectionStart,(function(start){start.fields.mechanisms.toString().split(" ").indexOf(allFields.mechanism)<0?bail(new Error(fmt("SASL mechanism %s is not provided by the server",allFields.mechanism))):(self.serverProperties=start.fields.serverProperties,send(defs.ConnectionStartOk),wait(afterStartOk))}))},C.close=function(closeCallback){var k=closeCallback&&function(){closeCallback(null)};this.closeBecause("Cheers, thanks",constants.REPLY_SUCCESS,k)},C.closeBecause=function(reason,code,k){this.sendMethod(0,defs.ConnectionClose,{replyText:reason,replyCode:code,methodId:0,classId:0});var s=stackCapture("closeBecause called: "+reason);this.toClosing(s,k)},C.closeWithError=function(reason,code,error){this.emit("error",error),this.closeBecause(reason,code)},C.onSocketError=function(err){if(!this.expectSocketClose){this.expectSocketClose=!0,this.emit("error",err);var s=stackCapture("Socket error");this.toClosed(s,err)}},C.toClosing=function(capturedStack,k){var send=this.sendMethod.bind(this);this.accept=function(f){if(f.id===defs.ConnectionCloseOk){k&&k();var s=stackCapture("ConnectionCloseOk received");this.toClosed(s,void 0)}else f.id===defs.ConnectionClose&&send(0,defs.ConnectionCloseOk,{})},invalidateSend(this,"Connection closing",capturedStack)},C._closeChannels=function(capturedStack){for(var i=1;i<this.channels.length;i++){var ch=this.channels[i];null!==ch&&ch.channel.toClosed(capturedStack)}},C.toClosed=function(capturedStack,maybeErr){this._closeChannels(capturedStack);var info=fmt("Connection closed (%s)",maybeErr?maybeErr.toString():"by client");invalidateSend(this,info,capturedStack),this.accept=invalidOp(info,capturedStack),this.close=function(cb){cb&&cb(new IllegalOperationError(info,capturedStack))},this.heartbeater&&this.heartbeater.clear(),this.expectSocketClose=!0,this.stream.end(),this.emit("close",maybeErr)},C.startHeartbeater=function(){if(0===this.heartbeat)return null;var self=this,hb=new Heart(this.heartbeat,this.checkSend.bind(this),this.checkRecv.bind(this));return hb.on("timeout",(function(){var hberr=new Error("Heartbeat timeout");self.emit("error",hberr);var s=stackCapture("Heartbeat timeout");self.toClosed(s,hberr)})),hb.on("beat",(function(){self.sendHeartbeat()})),hb},C.freshChannel=function(channel,options){var next=this.freeChannels.nextClearBit(1);if(next<0||next>this.channelMax)throw new Error("No channels left to allocate");this.freeChannels.set(next);var hwm=options&&options.highWaterMark||1024,writeBuffer=new PassThrough({objectMode:!0,highWaterMark:hwm});return this.channels[next]={channel:channel,buffer:writeBuffer},writeBuffer.on("drain",(function(){channel.onBufferDrain()})),this.muxer.pipeFrom(writeBuffer),next},C.releaseChannel=function(channel){this.freeChannels.clear(channel),this.channels[channel].buffer.end(),this.channels[channel]=null},C.acceptLoop=function(){var self=this;function go(){try{for(var f;f=self.recvFrame();)self.accept(f)}catch(e){self.emit("frameError",e)}}self.stream.on("readable",go),go()},C.step=function(cb){var self=this;!function recv(){var f;try{f=self.recvFrame()}catch(e){return void cb(e,null)}f?cb(null,f):self.stream.once("readable",recv)}()},C.checkSend=function(){var check=this.sentSinceLastCheck;return this.sentSinceLastCheck=!1,check},C.checkRecv=function(){var check=this.recvSinceLastCheck;return this.recvSinceLastCheck=!1,check},C.sendBytes=function(bytes){this.sentSinceLastCheck=!0,this.stream.write(bytes)},C.sendHeartbeat=function(){return this.sendBytes(frame.HEARTBEAT_BUF)};var encodeMethod=defs.encodeMethod,encodeProperties=defs.encodeProperties;C.sendMethod=function(channel,Method,fields){var frame=encodeMethod(Method,channel,fields);return this.sentSinceLastCheck=!0,this.channels[channel].buffer.write(frame)},C.sendMessage=function(channel,Method,fields,Properties,props,content){if(!Buffer.isBuffer(content))throw new TypeError("content is not a buffer");var mframe=encodeMethod(Method,channel,fields),pframe=encodeProperties(Properties,channel,content.length,props),buffer=this.channels[channel].buffer;this.sentSinceLastCheck=!0;var methodHeaderLen=mframe.length+pframe.length,bodyLen=content.length>0?content.length+FRAME_OVERHEAD:0,allLen=methodHeaderLen+bodyLen;if(allLen<2048){var all=Buffer.alloc(allLen),offset=mframe.copy(all,0);return offset+=pframe.copy(all,offset),bodyLen>0&&makeBodyFrame(channel,content).copy(all,offset),buffer.write(all)}if(methodHeaderLen<2048){var both=Buffer.alloc(methodHeaderLen);offset=mframe.copy(both,0);pframe.copy(both,offset),buffer.write(both)}else buffer.write(mframe),buffer.write(pframe);return this.sendContent(channel,content)};var FRAME_OVERHEAD=defs.FRAME_OVERHEAD,makeBodyFrame=frame.makeBodyFrame;C.sendContent=function(channel,body){if(!Buffer.isBuffer(body))throw new TypeError(fmt("Expected buffer; got %s",body));for(var writeResult=!0,buffer=this.channels[channel].buffer,maxBody=this.frameMax-FRAME_OVERHEAD,offset=0;offset<body.length;offset+=maxBody){var end=offset+maxBody,slice=end>body.length?body.slice(offset):body.slice(offset,end),bodyFrame=makeBodyFrame(channel,slice);writeResult=buffer.write(bodyFrame)}return this.sentSinceLastCheck=!0,writeResult};var parseFrame=frame.parseFrame,decodeFrame=frame.decodeFrame;function isFatalError(error){switch(error&&error.code){case defs.constants.CONNECTION_FORCED:case defs.constants.REPLY_SUCCESS:return!1;default:return!0}}C.recvFrame=function(){var frame=parseFrame(this.rest,this.frameMax);if(frame)return this.rest=frame.rest,decodeFrame(frame);var incoming=this.stream.read();return null!==incoming&&(this.recvSinceLastCheck=!0,this.rest=Buffer.concat([this.rest,incoming]),this.recvFrame())},module.exports.Connection=Connection,module.exports.isFatalError=isFatalError},function(module,exports,__webpack_require__){"use strict";module.exports.parse=__webpack_require__(45).parse,module.exports.match=__webpack_require__(70).match,module.exports.build=__webpack_require__(48).build,module.exports.write=__webpack_require__(48).write,module.exports.matcher=module.exports.compile=__webpack_require__(73).compile,module.exports.builder=__webpack_require__(73).compile_builder},function(module,exports,__webpack_require__){"use strict";function set(values){var s={};for(var i in values)s[values[i]]=1;return s}function variable(name,size,specifiers0){var specifiers=set(specifiers0),segment={name:name};return segment.type=type_in(specifiers),specs(segment,segment.type,specifiers),segment.size=size_of(segment,segment.type,size,segment.unit),segment}module.exports.variable=variable,module.exports.rest=function(){return variable("_",!0,["binary"])},module.exports.value=function(val,size,specifiers0){var specifiers=set(specifiers0),segment={value:val};return segment.type=type_in(specifiers),specs(segment,segment.type,specifiers),segment.size=size_of(segment,segment.type,size,segment.unit),segment},module.exports.string=function(val){return{value:val,type:"string"}};var TYPES={integer:1,binary:1,float:1};function type_in(specifiers){for(var t in specifiers)if(TYPES[t])return t;return"integer"}function specs(segment,type,specifiers){switch(type){case"integer":segment.signed=function(specifiers){return specifiers.signed}(specifiers);case"float":segment.bigendian=function(specifiers){return!specifiers.little}(specifiers);default:segment.unit=function(specifiers,type){for(var s in specifiers){if("unit:"==s.substr(0,5))return parseInt(s.substr(5))}switch(type){case"binary":return 8;case"integer":case"float":return 1}}(specifiers,segment.type)}return segment}function size_of(segment,type,size,unit){if(void 0!==size&&""!==size)return size;switch(type){case"integer":return 8;case"float":return 64;case"binary":return!0}}},function(module,exports){module.exports=function(){function quote(s){return'"'+s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var result={parse:function(input,startRule){var parseFunctions={start:function(){var result0,result1,result2,result3,pos0,pos1;if(pos0=pos,pos1=pos,null!==(result0=parse_ws()))if(null!==(result1=parse_segment())){for(result2=[],result3=parse_segmentTail();null!==result3;)result2.push(result3),result3=parse_segmentTail();null!==result2?result0=[result0,result1,result2]:(result0=null,pos=pos1)}else result0=null,pos=pos1;else result0=null,pos=pos1;null!==result0&&(head=result0[1],(tail=result0[2]).unshift(head),result0=tail);var head,tail;null===result0&&(pos=pos0);return result0},segmentTail:parse_segmentTail,segment:parse_segment,string:parse_string,chars:parse_chars,char:parse_char,hexDigit:parse_hexDigit,identifier:parse_identifier,number:parse_number,size:parse_size,specifierList:parse_specifierList,specifierTail:parse_specifierTail,specifier:parse_specifier,unit:parse_unit,ws:parse_ws};if(void 0!==startRule){if(void 0===parseFunctions[startRule])throw new Error("Invalid rule name: "+quote(startRule)+".")}else startRule="start";var pos=0,rightmostFailuresPos=0,rightmostFailuresExpected=[];function matchFailed(failure){pos<rightmostFailuresPos||(pos>rightmostFailuresPos&&(rightmostFailuresPos=pos,rightmostFailuresExpected=[]),rightmostFailuresExpected.push(failure))}function parse_segmentTail(){var result0,result1,result2,result3,pos0,pos1;return pos0=pos,pos1=pos,null!==(result0=parse_ws())?(44===input.charCodeAt(pos)?(result1=",",pos++):(result1=null,matchFailed('","')),null!==result1&&null!==(result2=parse_ws())&&null!==(result3=parse_segment())?result0=[result0,result1,result2,result3]:(result0=null,pos=pos1)):(result0=null,pos=pos1),null!==result0&&(result0=result0[3]),null===result0&&(pos=pos0),result0}function parse_segment(){var result0,result1,result2,pos0,pos1,v,size,specs;return pos0=pos,null!==(result0=parse_string())&&(result0={string:result0}),null===result0&&(pos=pos0),null===result0&&(pos0=pos,pos1=pos,null!==(result0=parse_identifier())&&null!==(result1=null!==(result1=parse_size())?result1:"")&&null!==(result2=null!==(result2=parse_specifierList())?result2:"")?result0=[result0,result1,result2]:(result0=null,pos=pos1),null!==result0&&(v=result0[0],size=result0[1],specs=result0[2],result0={name:v,size:size,specifiers:specs}),null===result0&&(pos=pos0),null===result0&&(pos0=pos,pos1=pos,null!==(result0=parse_number())&&null!==(result1=null!==(result1=parse_size())?result1:"")&&null!==(result2=null!==(result2=parse_specifierList())?result2:"")?result0=[result0,result1,result2]:(result0=null,pos=pos1),null!==result0&&(result0=function(offset,v,size,specs){return{value:v,size:size,specifiers:specs}}(0,result0[0],result0[1],result0[2])),null===result0&&(pos=pos0))),result0}function parse_string(){var result0,result1,result2,pos0,pos1;return pos0=pos,pos1=pos,34===input.charCodeAt(pos)?(result0='"',pos++):(result0=null,matchFailed('"\\""')),null!==result0?(34===input.charCodeAt(pos)?(result1='"',pos++):(result1=null,matchFailed('"\\""')),null!==result1?result0=[result0,result1]:(result0=null,pos=pos1)):(result0=null,pos=pos1),null!==result0&&(result0=""),null===result0&&(pos=pos0),null===result0&&(pos0=pos,pos1=pos,34===input.charCodeAt(pos)?(result0='"',pos++):(result0=null,matchFailed('"\\""')),null!==result0&&null!==(result1=parse_chars())?(34===input.charCodeAt(pos)?(result2='"',pos++):(result2=null,matchFailed('"\\""')),null!==result2?result0=[result0,result1,result2]:(result0=null,pos=pos1)):(result0=null,pos=pos1),null!==result0&&(result0=result0[1]),null===result0&&(pos=pos0)),result0}function parse_chars(){var result0,result1,pos0;if(pos0=pos,null!==(result1=parse_char()))for(result0=[];null!==result1;)result0.push(result1),result1=parse_char();else result0=null;return null!==result0&&(result0=result0.join("")),null===result0&&(pos=pos0),result0}function parse_char(){var result0,result1,result2,result3,result4,pos0,pos1,h1,h2,h3,h4;return/^[^"\\\0-\x1F]/.test(input.charAt(pos))?(result0=input.charAt(pos),pos++):(result0=null,matchFailed('[^"\\\\\\0-\\x1F]')),null===result0&&(pos0=pos,'\\"'===input.substr(pos,2)?(result0='\\"',pos+=2):(result0=null,matchFailed('"\\\\\\""')),null!==result0&&(result0='"'),null===result0&&(pos=pos0),null===result0&&(pos0=pos,"\\\\"===input.substr(pos,2)?(result0="\\\\",pos+=2):(result0=null,matchFailed('"\\\\\\\\"')),null!==result0&&(result0="\\"),null===result0&&(pos=pos0),null===result0&&(pos0=pos,"\\/"===input.substr(pos,2)?(result0="\\/",pos+=2):(result0=null,matchFailed('"\\\\/"')),null!==result0&&(result0="/"),null===result0&&(pos=pos0),null===result0&&(pos0=pos,"\\b"===input.substr(pos,2)?(result0="\\b",pos+=2):(result0=null,matchFailed('"\\\\b"')),null!==result0&&(result0="\b"),null===result0&&(pos=pos0),null===result0&&(pos0=pos,"\\f"===input.substr(pos,2)?(result0="\\f",pos+=2):(result0=null,matchFailed('"\\\\f"')),null!==result0&&(result0="\f"),null===result0&&(pos=pos0),null===result0&&(pos0=pos,"\\n"===input.substr(pos,2)?(result0="\\n",pos+=2):(result0=null,matchFailed('"\\\\n"')),null!==result0&&(result0="\n"),null===result0&&(pos=pos0),null===result0&&(pos0=pos,"\\r"===input.substr(pos,2)?(result0="\\r",pos+=2):(result0=null,matchFailed('"\\\\r"')),null!==result0&&(result0="\r"),null===result0&&(pos=pos0),null===result0&&(pos0=pos,"\\t"===input.substr(pos,2)?(result0="\\t",pos+=2):(result0=null,matchFailed('"\\\\t"')),null!==result0&&(result0="\t"),null===result0&&(pos=pos0),null===result0&&(pos0=pos,pos1=pos,"\\u"===input.substr(pos,2)?(result0="\\u",pos+=2):(result0=null,matchFailed('"\\\\u"')),null!==result0&&null!==(result1=parse_hexDigit())&&null!==(result2=parse_hexDigit())&&null!==(result3=parse_hexDigit())&&null!==(result4=parse_hexDigit())?result0=[result0,result1,result2,result3,result4]:(result0=null,pos=pos1),null!==result0&&(h1=result0[1],h2=result0[2],h3=result0[3],h4=result0[4],result0=String.fromCharCode(parseInt("0x"+h1+h2+h3+h4))),null===result0&&(pos=pos0)))))))))),result0}function parse_hexDigit(){var result0;return/^[0-9a-fA-F]/.test(input.charAt(pos))?(result0=input.charAt(pos),pos++):(result0=null,matchFailed("[0-9a-fA-F]")),result0}function parse_identifier(){var result0,result1,result2,pos0,pos1,head,tail;if(pos0=pos,pos1=pos,/^[_a-zA-Z]/.test(input.charAt(pos))?(result0=input.charAt(pos),pos++):(result0=null,matchFailed("[_a-zA-Z]")),null!==result0){for(result1=[],/^[_a-zA-Z0-9]/.test(input.charAt(pos))?(result2=input.charAt(pos),pos++):(result2=null,matchFailed("[_a-zA-Z0-9]"));null!==result2;)result1.push(result2),/^[_a-zA-Z0-9]/.test(input.charAt(pos))?(result2=input.charAt(pos),pos++):(result2=null,matchFailed("[_a-zA-Z0-9]"));null!==result1?result0=[result0,result1]:(result0=null,pos=pos1)}else result0=null,pos=pos1;return null!==result0&&(head=result0[0],tail=result0[1],result0=head+tail.join("")),null===result0&&(pos=pos0),result0}function parse_number(){var result0,result1,result2,pos0,pos1,head,tail;if(pos0=pos,48===input.charCodeAt(pos)?(result0="0",pos++):(result0=null,matchFailed('"0"')),null!==result0&&(result0=0),null===result0&&(pos=pos0),null===result0){if(pos0=pos,pos1=pos,/^[1-9]/.test(input.charAt(pos))?(result0=input.charAt(pos),pos++):(result0=null,matchFailed("[1-9]")),null!==result0){for(result1=[],/^[0-9]/.test(input.charAt(pos))?(result2=input.charAt(pos),pos++):(result2=null,matchFailed("[0-9]"));null!==result2;)result1.push(result2),/^[0-9]/.test(input.charAt(pos))?(result2=input.charAt(pos),pos++):(result2=null,matchFailed("[0-9]"));null!==result1?result0=[result0,result1]:(result0=null,pos=pos1)}else result0=null,pos=pos1;null!==result0&&(head=result0[0],tail=result0[1],result0=parseInt(head+tail.join(""))),null===result0&&(pos=pos0)}return result0}function parse_size(){var result0,result1,pos0,pos1;return pos0=pos,pos1=pos,58===input.charCodeAt(pos)?(result0=":",pos++):(result0=null,matchFailed('":"')),null!==result0&&null!==(result1=parse_number())?result0=[result0,result1]:(result0=null,pos=pos1),null!==result0&&(result0=result0[1]),null===result0&&(pos=pos0),null===result0&&(pos0=pos,pos1=pos,58===input.charCodeAt(pos)?(result0=":",pos++):(result0=null,matchFailed('":"')),null!==result0&&null!==(result1=parse_identifier())?result0=[result0,result1]:(result0=null,pos=pos1),null!==result0&&(result0=result0[1]),null===result0&&(pos=pos0)),result0}function parse_specifierList(){var result0,result1,result2,result3,pos0,pos1,head,tail;if(pos0=pos,pos1=pos,47===input.charCodeAt(pos)?(result0="/",pos++):(result0=null,matchFailed('"/"')),null!==result0)if(null!==(result1=parse_specifier())){for(result2=[],result3=parse_specifierTail();null!==result3;)result2.push(result3),result3=parse_specifierTail();null!==result2?result0=[result0,result1,result2]:(result0=null,pos=pos1)}else result0=null,pos=pos1;else result0=null,pos=pos1;return null!==result0&&(head=result0[1],(tail=result0[2]).unshift(head),result0=tail),null===result0&&(pos=pos0),result0}function parse_specifierTail(){var result0,result1,pos0,pos1;return pos0=pos,pos1=pos,45===input.charCodeAt(pos)?(result0="-",pos++):(result0=null,matchFailed('"-"')),null!==result0&&null!==(result1=parse_specifier())?result0=[result0,result1]:(result0=null,pos=pos1),null!==result0&&(result0=result0[1]),null===result0&&(pos=pos0),result0}function parse_specifier(){var result0;return"little"===input.substr(pos,6)?(result0="little",pos+=6):(result0=null,matchFailed('"little"')),null===result0&&("big"===input.substr(pos,3)?(result0="big",pos+=3):(result0=null,matchFailed('"big"')),null===result0&&("signed"===input.substr(pos,6)?(result0="signed",pos+=6):(result0=null,matchFailed('"signed"')),null===result0&&("unsigned"===input.substr(pos,8)?(result0="unsigned",pos+=8):(result0=null,matchFailed('"unsigned"')),null===result0&&("integer"===input.substr(pos,7)?(result0="integer",pos+=7):(result0=null,matchFailed('"integer"')),null===result0&&("binary"===input.substr(pos,6)?(result0="binary",pos+=6):(result0=null,matchFailed('"binary"')),null===result0&&("float"===input.substr(pos,5)?(result0="float",pos+=5):(result0=null,matchFailed('"float"')),null===result0&&(result0=parse_unit()))))))),result0}function parse_unit(){var result0,result1,pos0,pos1;return pos0=pos,pos1=pos,"unit:"===input.substr(pos,5)?(result0="unit:",pos+=5):(result0=null,matchFailed('"unit:"')),null!==result0&&null!==(result1=parse_number())?result0=[result0,result1]:(result0=null,pos=pos1),null!==result0&&(result0="unit:"+result0[1]),null===result0&&(pos=pos0),result0}function parse_ws(){var result0,result1;for(result0=[],/^[ \t\n]/.test(input.charAt(pos))?(result1=input.charAt(pos),pos++):(result1=null,matchFailed("[ \\t\\n]"));null!==result1;)result0.push(result1),/^[ \t\n]/.test(input.charAt(pos))?(result1=input.charAt(pos),pos++):(result1=null,matchFailed("[ \\t\\n]"));return result0}var result=parseFunctions[startRule]();if(null===result||pos!==input.length){var offset=Math.max(pos,rightmostFailuresPos),found=offset<input.length?input.charAt(offset):null,errorPosition=function(){for(var line=1,column=1,seenCR=!1,i=0;i<Math.max(pos,rightmostFailuresPos);i++){var ch=input.charAt(i);"\n"===ch?(seenCR||line++,column=1,seenCR=!1):"\r"===ch||"\u2028"===ch||"\u2029"===ch?(line++,column=1,seenCR=!0):(column++,seenCR=!1)}return{line:line,column:column}}();throw new this.SyntaxError(function(expected){expected.sort();for(var lastExpected=null,cleanExpected=[],i=0;i<expected.length;i++)expected[i]!==lastExpected&&(cleanExpected.push(expected[i]),lastExpected=expected[i]);return cleanExpected}(rightmostFailuresExpected),found,offset,errorPosition.line,errorPosition.column)}return result},toSource:function(){return this._source},SyntaxError:function(expected,found,offset,line,column){this.name="SyntaxError",this.expected=expected,this.found=found,this.message=function(expected,found){var expectedHumanized;switch(expected.length){case 0:expectedHumanized="end of input";break;case 1:expectedHumanized=expected[0];break;default:expectedHumanized=expected.slice(0,expected.length-1).join(", ")+" or "+expected[expected.length-1]}return"Expected "+expectedHumanized+" but "+(found?quote(found):"end of input")+" found."}(expected,found),this.offset=offset,this.line=line,this.column=column}};return result.SyntaxError.prototype=Error.prototype,result}()},function(module,exports,__webpack_require__){"undefined"!=typeof process&&"renderer"===process.type?module.exports=__webpack_require__(147):module.exports=__webpack_require__(149)},function(module,exports,__webpack_require__){function load(){var r;try{r=exports.storage.debug}catch(e){}return!r&&"undefined"!=typeof process&&"env"in process&&(r=process.env.DEBUG),r}(exports=module.exports=__webpack_require__(71)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},exports.formatArgs=function(args){var useColors=this.useColors;if(args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff),!useColors)return;var c="color: "+this.color;args.splice(1,0,c,"color: inherit");var index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,(function(match){"%%"!==match&&(index++,"%c"===match&&(lastC=index))})),args.splice(lastC,0,c)},exports.save=function(namespaces){try{null==namespaces?exports.storage.removeItem("debug"):exports.storage.debug=namespaces}catch(e){}},exports.load=load,exports.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(v){try{return JSON.stringify(v)}catch(err){return"[UnexpectedJSONParseError]: "+err.message}},exports.enable(load())},function(module,exports){var s=1e3,m=6e4,h=60*m,d=24*h;function plural(ms,n,name){if(!(ms<n))return ms<1.5*n?Math.floor(ms/n)+" "+name:Math.ceil(ms/n)+" "+name+"s"}module.exports=function(val,options){options=options||{};var ms,type=typeof val;if("string"===type&&val.length>0)return function(str){if((str=String(str)).length>100)return;var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(!match)return;var n=parseFloat(match[1]);switch((match[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(val);if("number"===type&&!1===isNaN(val))return options.long?plural(ms=val,d,"day")||plural(ms,h,"hour")||plural(ms,m,"minute")||plural(ms,s,"second")||ms+" ms":function(ms){if(ms>=d)return Math.round(ms/d)+"d";if(ms>=h)return Math.round(ms/h)+"h";if(ms>=m)return Math.round(ms/m)+"m";if(ms>=s)return Math.round(ms/s)+"s";return ms+"ms"}(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))}},function(module,exports,__webpack_require__){var tty=__webpack_require__(46),util=__webpack_require__(0);(exports=module.exports=__webpack_require__(71)).init=function(debug){debug.inspectOpts={};for(var keys=Object.keys(exports.inspectOpts),i=0;i<keys.length;i++)debug.inspectOpts[keys[i]]=exports.inspectOpts[keys[i]]},exports.log=function(){return stream.write(util.format.apply(util,arguments)+"\n")},exports.formatArgs=function(args){var name=this.namespace;if(this.useColors){var c=this.color,prefix="  [3"+c+";1m"+name+" [0m";args[0]=prefix+args[0].split("\n").join("\n"+prefix),args.push("[3"+c+"m+"+exports.humanize(this.diff)+"[0m")}else args[0]=(new Date).toUTCString()+" "+name+" "+args[0]},exports.save=function(namespaces){null==namespaces?delete process.env.DEBUG:process.env.DEBUG=namespaces},exports.load=load,exports.useColors=function(){return"colors"in exports.inspectOpts?Boolean(exports.inspectOpts.colors):tty.isatty(fd)},exports.colors=[6,2,3,4,5,1],exports.inspectOpts=Object.keys(process.env).filter((function(key){return/^debug_/i.test(key)})).reduce((function(obj,key){var prop=key.substring(6).toLowerCase().replace(/_([a-z])/g,(function(_,k){return k.toUpperCase()})),val=process.env[key];return val=!!/^(yes|on|true|enabled)$/i.test(val)||!/^(no|off|false|disabled)$/i.test(val)&&("null"===val?null:Number(val)),obj[prop]=val,obj}),{});var fd=parseInt(process.env.DEBUG_FD,10)||2;1!==fd&&2!==fd&&util.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var stream=1===fd?process.stdout:2===fd?process.stderr:function(fd){var stream;switch(process.binding("tty_wrap").guessHandleType(fd)){case"TTY":(stream=new tty.WriteStream(fd))._type="tty",stream._handle&&stream._handle.unref&&stream._handle.unref();break;case"FILE":var fs=__webpack_require__(4);(stream=new fs.SyncWriteStream(fd,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var net=__webpack_require__(47);(stream=new net.Socket({fd:fd,readable:!1,writable:!0})).readable=!1,stream.read=null,stream._type="pipe",stream._handle&&stream._handle.unref&&stream._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return stream.fd=fd,stream._isStdio=!0,stream}(fd);function load(){return process.env.DEBUG}exports.formatters.o=function(v){return this.inspectOpts.colors=this.useColors,util.inspect(v,this.inspectOpts).split("\n").map((function(str){return str.trim()})).join(" ")},exports.formatters.O=function(v){return this.inspectOpts.colors=this.useColors,util.inspect(v,this.inspectOpts)},exports.enable(load())},function(module,exports,__webpack_require__){"use strict";__webpack_require__(0).inherits;var assert=__webpack_require__(30),schedule="function"==typeof setImmediate?setImmediate:process.nextTick;function Mux(downstream){this.newStreams=[],this.oldStreams=[],this.blocked=!1,this.scheduledRead=!1,this.out=downstream;var self=this;downstream.on("drain",(function(){self.blocked=!1,self._readIncoming()}))}Mux.prototype._readIncoming=function(){if(!this.blocked){var accepting=!0,out=this.out;roundrobin(this.newStreams),accepting?(assert.equal(0,this.newStreams.length),roundrobin(this.oldStreams)):(assert(this.newStreams.length>0,"Expect some new streams to remain"),this.oldStreams=this.oldStreams.concat(this.newStreams),this.newStreams=[]),this.blocked=!accepting}function roundrobin(streams){for(var s;accepting&&(s=streams.shift());){var chunk=s.read();null!==chunk&&(accepting=out.write(chunk),streams.push(s))}}},Mux.prototype._scheduleRead=function(){var self=this;self.scheduledRead||(schedule((function(){self.scheduledRead=!1,self._readIncoming()})),self.scheduledRead=!0)},Mux.prototype.pipeFrom=function(readable){var self=this;function enqueue(){self.newStreams.push(readable),self._scheduleRead()}function cleanup(){readable.removeListener("readable",enqueue),readable.removeListener("error",cleanup),readable.removeListener("end",cleanup),readable.removeListener("unpipeFrom",cleanupIfMe)}function cleanupIfMe(dest){dest===self&&cleanup()}readable.on("unpipeFrom",cleanupIfMe),readable.on("end",cleanup),readable.on("error",cleanup),readable.on("readable",enqueue)},Mux.prototype.unpipeFrom=function(readable){readable.emit("unpipeFrom",this)},module.exports.Mux=Mux},function(module,exports,__webpack_require__){module.exports=__webpack_require__(18)},function(module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}}},function(module,exports,__webpack_require__){module.exports=Readable;var isArray=__webpack_require__(154),Buffer=__webpack_require__(12).Buffer;Readable.ReadableState=ReadableState;var EE=__webpack_require__(5).EventEmitter;EE.listenerCount||(EE.listenerCount=function(emitter,type){return emitter.listeners(type).length});var StringDecoder,Stream=__webpack_require__(15),util=__webpack_require__(8);util.inherits=__webpack_require__(2);var debug=__webpack_require__(0);function ReadableState(options,stream){var Duplex=__webpack_require__(18),hwm=(options=options||{}).highWaterMark,defaultHwm=options.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode),this.defaultEncoding=options.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(74).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){__webpack_require__(18);if(!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this),this.readable=!0,Stream.call(this)}function readableAddChunk(stream,state,chunk,encoding,addToFront){var er=function(state,chunk){var er=null;util.isBuffer(chunk)||util.isString(chunk)||util.isNullOrUndefined(chunk)||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk"));return er}(state,chunk);if(er)stream.emit("error",er);else if(util.isNullOrUndefined(chunk))state.reading=!1,state.ended||function(stream,state){if(state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}(stream,state);else if(state.objectMode||chunk&&chunk.length>0)if(state.ended&&!addToFront){var e=new Error("stream.push() after EOF");stream.emit("error",e)}else if(state.endEmitted&&addToFront){e=new Error("stream.unshift() after end event");stream.emit("error",e)}else!state.decoder||addToFront||encoding||(chunk=state.decoder.write(chunk)),addToFront||(state.reading=!1),state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),function(stream,state){state.readingMore||(state.readingMore=!0,process.nextTick((function(){!function(stream,state){var len=state.length;for(;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}(stream,state)})))}(stream,state);else addToFront||(state.reading=!1);return function(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}(state)}debug=debug&&debug.debuglog?debug.debuglog("stream"):function(){},util.inherits(Readable,Stream),Readable.prototype.push=function(chunk,encoding){var state=this._readableState;return util.isString(chunk)&&!state.objectMode&&(encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=new Buffer(chunk,encoding),encoding=""),readableAddChunk(this,state,chunk,encoding,!1)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,this._readableState,chunk,"",!0)},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(74).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};function howMuchToRead(n,state){return 0===state.length&&state.ended?0:state.objectMode?0===n?0:1:isNaN(n)||util.isNull(n)?state.flowing&&state.buffer.length?state.buffer[0].length:state.length:n<=0?0:(n>state.highWaterMark&&(state.highWaterMark=function(n){if(n>=8388608)n=8388608;else{n--;for(var p=1;p<32;p<<=1)n|=n>>p;n++}return n}(n)),n>state.length?state.ended?state.length:(state.needReadable=!0,0):n)}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?process.nextTick((function(){emitReadable_(stream)})):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function flow(stream){var state=stream._readableState;if(debug("flow",state.flowing),state.flowing)do{var chunk=stream.read()}while(null!==chunk&&state.flowing)}function fromList(n,state){var ret,list=state.buffer,length=state.length,stringMode=!!state.decoder,objectMode=!!state.objectMode;if(0===list.length)return null;if(0===length)ret=null;else if(objectMode)ret=list.shift();else if(!n||n>=length)ret=stringMode?list.join(""):Buffer.concat(list,length),list.length=0;else{if(n<list[0].length)ret=(buf=list[0]).slice(0,n),list[0]=buf.slice(n);else if(n===list[0].length)ret=list.shift();else{ret=stringMode?"":new Buffer(n);for(var c=0,i=0,l=list.length;i<l&&c<n;i++){var buf=list[0],cpy=Math.min(n-c,buf.length);stringMode?ret+=buf.slice(0,cpy):buf.copy(ret,c,0,cpy),cpy<buf.length?list[0]=buf.slice(cpy):list.shift(),c+=cpy}}}return ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error("endReadable called on non-empty stream");state.endEmitted||(state.ended=!0,process.nextTick((function(){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))})))}Readable.prototype.read=function(n){debug("read",n);var state=this._readableState,nOrig=n;if((!util.isNumber(n)||n>0)&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var ret,doRead=state.needReadable;return debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&debug("length less than watermark",doRead=!0),(state.ended||state.reading)&&debug("reading or ended",doRead=!1),doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1),doRead&&!state.reading&&(n=howMuchToRead(nOrig,state)),ret=n>0?fromList(n,state):null,util.isNull(ret)&&(state.needReadable=!0,n=0),state.length-=n,0!==state.length||state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&0===state.length&&endReadable(this),util.isNull(ret)||this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var endFn=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr?onend:cleanup;function onunpipe(readable){debug("onunpipe"),readable===src&&cleanup()}function onend(){debug("onend"),dest.end()}state.endEmitted?process.nextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=function(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EE.listenerCount(src,"data")&&(state.flowing=!0,flow(src))}}(src);function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",cleanup),src.removeListener("data",ondata),!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}function ondata(chunk){debug("ondata"),!1===dest.write(chunk)&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++,src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EE.listenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}return dest.on("drain",ondrain),src.on("data",ondata),dest._events&&dest._events.error?isArray(dest._events.error)?dest._events.error.unshift(onerror):dest._events.error=[onerror,dest._events.error]:dest.on("error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState;if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes||(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this)),this;if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this);return this}return-1===(i=function(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}(state.pipes,dest))||(state.pipes.splice(i,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this)),this},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev&&!1!==this._readableState.flowing&&this.resume(),"readable"===ev&&this.readable){var state=this._readableState;if(!state.readableListening)if(state.readableListening=!0,state.emittedReadable=!1,state.needReadable=!0,state.reading)state.length&&emitReadable(this);else{var self=this;process.nextTick((function(){debug("readable nexttick read 0"),self.read(0)}))}}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,state.reading||(debug("resume read 0"),this.read(0)),function(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,process.nextTick((function(){!function(stream,state){state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}(stream,state)})))}(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var state=this._readableState,paused=!1,self=this;for(var i in stream.on("end",(function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&self.push(chunk)}self.push(null)})),stream.on("data",(function(chunk){(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),chunk&&(state.objectMode||chunk.length))&&(self.push(chunk)||(paused=!0,stream.pause()))})),stream)util.isFunction(stream[i])&&util.isUndefined(this[i])&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));return function(xs,f){for(var i=0,l=xs.length;i<l;i++)f(xs[i],i)}(["error","close","destroy","pause","resume"],(function(ev){stream.on(ev,self.emit.bind(self,ev))})),self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList},function(module,exports){module.exports=Array.isArray||function(arr){return"[object Array]"==Object.prototype.toString.call(arr)}},function(module,exports,__webpack_require__){module.exports=Writable;var Buffer=__webpack_require__(12).Buffer;Writable.WritableState=WritableState;var util=__webpack_require__(8);util.inherits=__webpack_require__(2);var Stream=__webpack_require__(15);function WriteReq(chunk,encoding,cb){this.chunk=chunk,this.encoding=encoding,this.callback=cb}function WritableState(options,stream){var Duplex=__webpack_require__(18),hwm=(options=options||{}).highWaterMark,defaultHwm=options.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.objectMode=!!options.objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){!function(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(function(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}(state),er)!function(stream,state,sync,er,cb){sync?process.nextTick((function(){state.pendingcb--,cb(er)})):(state.pendingcb--,cb(er));stream._writableState.errorEmitted=!0,stream.emit("error",er)}(stream,state,sync,er,cb);else{var finished=needFinish(stream,state);finished||state.corked||state.bufferProcessing||!state.buffer.length||clearBuffer(stream,state),sync?process.nextTick((function(){afterWrite(stream,state,finished,cb)})):afterWrite(stream,state,finished,cb)}}(stream,er)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function Writable(options){var Duplex=__webpack_require__(18);if(!(this instanceof Writable||this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this),this.writable=!0,Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function afterWrite(stream,state,finished,cb){finished||function(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function clearBuffer(stream,state){if(state.bufferProcessing=!0,stream._writev&&state.buffer.length>1){for(var cbs=[],c=0;c<state.buffer.length;c++)cbs.push(state.buffer[c].callback);state.pendingcb++,doWrite(stream,state,!0,state.length,state.buffer,"",(function(err){for(var i=0;i<cbs.length;i++)state.pendingcb--,cbs[i](err)})),state.buffer=[]}else{for(c=0;c<state.buffer.length;c++){var entry=state.buffer[c],chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback,len=state.objectMode?1:chunk.length;if(doWrite(stream,state,!1,len,chunk,encoding,cb),state.writing){c++;break}}c<state.buffer.length?state.buffer=state.buffer.slice(c):state.buffer.length=0}state.bufferProcessing=!1}function needFinish(stream,state){return state.ending&&0===state.length&&!state.finished&&!state.writing}function prefinish(stream,state){state.prefinished||(state.prefinished=!0,stream.emit("prefinish"))}function finishMaybe(stream,state){var need=needFinish(0,state);return need&&(0===state.pendingcb?(prefinish(stream,state),state.finished=!0,stream.emit("finish")):prefinish(stream,state)),need}util.inherits(Writable,Stream),Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1;return util.isFunction(encoding)&&(cb=encoding,encoding=null),util.isBuffer(chunk)?encoding="buffer":encoding||(encoding=state.defaultEncoding),util.isFunction(cb)||(cb=function(){}),state.ended?function(stream,state,cb){var er=new Error("write after end");stream.emit("error",er),process.nextTick((function(){cb(er)}))}(this,0,cb):function(stream,state,chunk,cb){var valid=!0;if(!(util.isBuffer(chunk)||util.isString(chunk)||util.isNullOrUndefined(chunk)||state.objectMode)){var er=new TypeError("Invalid non-string/buffer chunk");stream.emit("error",er),process.nextTick((function(){cb(er)})),valid=!1}return valid}(this,state,chunk,cb)&&(state.pendingcb++,ret=function(stream,state,chunk,encoding,cb){chunk=function(state,chunk,encoding){!state.objectMode&&!1!==state.decodeStrings&&util.isString(chunk)&&(chunk=new Buffer(chunk,encoding));return chunk}(state,chunk,encoding),util.isBuffer(chunk)&&(encoding="buffer");var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;ret||(state.needDrain=!0);state.writing||state.corked?state.buffer.push(new WriteReq(chunk,encoding,cb)):doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}(this,state,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.buffer.length||clearBuffer(this,state))},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;util.isFunction(chunk)?(cb=chunk,chunk=null,encoding=null):util.isFunction(encoding)&&(cb=encoding,encoding=null),util.isNullOrUndefined(chunk)||this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||function(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?process.nextTick(cb):stream.once("finish",cb));state.ended=!0}(this,state,cb)}},function(module,exports,__webpack_require__){"use strict";var inherits=__webpack_require__(0).inherits,EventEmitter=__webpack_require__(5).EventEmitter;function Heart(interval,checkSend,checkRecv){EventEmitter.call(this),this.interval=interval;var intervalMs=interval*module.exports.UNITS_TO_MS,beat=this.emit.bind(this,"beat"),timeout=this.emit.bind(this,"timeout");this.sendTimer=setInterval(this.runHeartbeat.bind(this,checkSend,beat),intervalMs/2);var recvMissed=0;this.recvTimer=setInterval(this.runHeartbeat.bind(this,(function(){return checkRecv()?(recvMissed=0,!0):++recvMissed<2}),timeout),intervalMs)}module.exports.UNITS_TO_MS=1e3,inherits(Heart,EventEmitter),module.exports.Heart=Heart,Heart.prototype.clear=function(){clearInterval(this.sendTimer),clearInterval(this.recvTimer)},Heart.prototype.runHeartbeat=function(check,fail){check()||fail()}},function(module,exports,__webpack_require__){"use strict";function BitSet(size){if(size){var numWords=Math.ceil(size/32);this.words=new Array(numWords)}else this.words=[];this.wordsInUse=0}var P=BitSet.prototype;function wordIndex(bitIndex){return Math.floor(bitIndex/32)}function trailingZeros(i){if(0===i)return 32;var y,n=31;return 0!=(y=i<<16)&&(n-=16,i=y),0!=(y=i<<8)&&(n-=8,i=y),0!=(y=i<<4)&&(n-=4,i=y),0!=(y=i<<2)&&(n-=2,i=y),n-(i<<1>>>31)}P.ensureSize=function(numWords){var wordsPresent=this.words.length;wordsPresent<numWords&&(this.words=this.words.concat(new Array(numWords-wordsPresent)))},P.set=function(bitIndex){var w=wordIndex(bitIndex);w>=this.wordsInUse&&(this.ensureSize(w+1),this.wordsInUse=w+1);var bit=1<<bitIndex;this.words[w]|=bit},P.clear=function(bitIndex){var w=wordIndex(bitIndex);if(!(w>=this.wordsInUse)){var mask=~(1<<bitIndex);this.words[w]&=mask}},P.get=function(bitIndex){var w=wordIndex(bitIndex);if(w>=this.wordsInUse)return!1;var bit=1<<bitIndex;return!!(this.words[w]&bit)},P.nextSetBit=function(fromIndex){var w=wordIndex(fromIndex);if(w>=this.wordsInUse)return-1;for(var word=this.words[w]&4294967295<<fromIndex;;){if(word)return 32*w+trailingZeros(word);if(++w===this.wordsInUse)return-1;word=this.words[w]}},P.nextClearBit=function(fromIndex){var w=wordIndex(fromIndex);if(w>=this.wordsInUse)return fromIndex;for(var word=~this.words[w]&4294967295<<fromIndex;;){if(word)return 32*w+trailingZeros(word);if(++w==this.wordsInUse)return 32*w;word=~this.words[w]}},module.exports.BitSet=BitSet},function(module,exports,__webpack_require__){module.exports=__webpack_require__(159)},function(module,exports,__webpack_require__){module.exports=PassThrough;var Transform=__webpack_require__(160),util=__webpack_require__(8);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}util.inherits=__webpack_require__(2),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){module.exports=Transform;var Duplex=__webpack_require__(18),util=__webpack_require__(8);function TransformState(options,stream){this.afterTransform=function(er,data){return function(stream,er,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("no writecb in Transform class"));ts.writechunk=null,ts.writecb=null,util.isNullOrUndefined(data)||stream.push(data);cb&&cb(er);var rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(options,this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",(function(){util.isFunction(this._flush)?this._flush((function(er){done(stream,er)})):done(stream)}))}function done(stream,er){if(er)return stream.emit("error",er);var ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("calling transform done when ws.length != 0");if(ts.transforming)throw new Error("calling transform done when still transforming");return stream.push(null)}util.inherits=__webpack_require__(2),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;util.isNull(ts.writechunk)||!ts.writecb||ts.transforming?ts.needTransform=!0:(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform))}},function(module){module.exports=JSON.parse('{"name":"amqplib","homepage":"http://squaremo.github.io/amqp.node/","main":"./channel_api.js","version":"0.5.6","description":"An AMQP 0-9-1 (e.g., RabbitMQ) library and client.","repository":{"type":"git","url":"https://github.com/squaremo/amqp.node.git"},"engines":{"node":">=0.8 <=12"},"dependencies":{"bitsyntax":"~0.1.0","bluebird":"^3.5.2","buffer-more-ints":"~1.0.0","readable-stream":"1.x >=1.1.9","safe-buffer":"~5.1.2","url-parse":"~1.4.3"},"devDependencies":{"claire":"0.4.1","istanbul":"0.1.x","mocha":"^3.5.3","uglify-js":"2.6.x"},"scripts":{"test":"make test","prepare":"make"},"keywords":["AMQP","AMQP 0-9-1","RabbitMQ"],"author":"Michael Bridgen <mikeb@squaremobius.net>","license":"MIT"}')},function(module,exports,__webpack_require__){"use strict";var defs=__webpack_require__(27),Promise=__webpack_require__(77),inherits=__webpack_require__(0).inherits,EventEmitter=__webpack_require__(5).EventEmitter,BaseChannel=__webpack_require__(81).BaseChannel,acceptMessage=__webpack_require__(81).acceptMessage,Args=__webpack_require__(193);function ChannelModel(connection){if(!(this instanceof ChannelModel))return new ChannelModel(connection);EventEmitter.call(this),this.connection=connection;var self=this;["error","close","blocked","unblocked"].forEach((function(ev){connection.on(ev,self.emit.bind(self,ev))}))}inherits(ChannelModel,EventEmitter),module.exports.ChannelModel=ChannelModel;var CM=ChannelModel.prototype;function Channel(connection){BaseChannel.call(this,connection),this.on("delivery",this.handleDelivery.bind(this)),this.on("cancel",this.handleCancel.bind(this))}CM.close=function(){return Promise.fromCallback(this.connection.close.bind(this.connection))},inherits(Channel,BaseChannel),module.exports.Channel=Channel,CM.createChannel=function(){var c=new Channel(this.connection);return c.open().then((function(openOk){return c}))};var C=Channel.prototype;function ConfirmChannel(connection){Channel.call(this,connection)}C.rpc=function(method,fields,expect){var self=this;return Promise.fromCallback((function(cb){return self._rpc(method,fields,expect,cb)})).then((function(f){return f.fields}))},C.open=function(){return Promise.try(this.allocate.bind(this)).then((function(ch){return ch.rpc(defs.ChannelOpen,{outOfBand:""},defs.ChannelOpenOk)}))},C.close=function(){var self=this;return Promise.fromCallback((function(cb){return self.closeBecause("Goodbye",defs.constants.REPLY_SUCCESS,cb)}))},C.assertQueue=function(queue,options){return this.rpc(defs.QueueDeclare,Args.assertQueue(queue,options),defs.QueueDeclareOk)},C.checkQueue=function(queue){return this.rpc(defs.QueueDeclare,Args.checkQueue(queue),defs.QueueDeclareOk)},C.deleteQueue=function(queue,options){return this.rpc(defs.QueueDelete,Args.deleteQueue(queue,options),defs.QueueDeleteOk)},C.purgeQueue=function(queue){return this.rpc(defs.QueuePurge,Args.purgeQueue(queue),defs.QueuePurgeOk)},C.bindQueue=function(queue,source,pattern,argt){return this.rpc(defs.QueueBind,Args.bindQueue(queue,source,pattern,argt),defs.QueueBindOk)},C.unbindQueue=function(queue,source,pattern,argt){return this.rpc(defs.QueueUnbind,Args.unbindQueue(queue,source,pattern,argt),defs.QueueUnbindOk)},C.assertExchange=function(exchange,type,options){return this.rpc(defs.ExchangeDeclare,Args.assertExchange(exchange,type,options),defs.ExchangeDeclareOk).then((function(_ok){return{exchange:exchange}}))},C.checkExchange=function(exchange){return this.rpc(defs.ExchangeDeclare,Args.checkExchange(exchange),defs.ExchangeDeclareOk)},C.deleteExchange=function(name,options){return this.rpc(defs.ExchangeDelete,Args.deleteExchange(name,options),defs.ExchangeDeleteOk)},C.bindExchange=function(dest,source,pattern,argt){return this.rpc(defs.ExchangeBind,Args.bindExchange(dest,source,pattern,argt),defs.ExchangeBindOk)},C.unbindExchange=function(dest,source,pattern,argt){return this.rpc(defs.ExchangeUnbind,Args.unbindExchange(dest,source,pattern,argt),defs.ExchangeUnbindOk)},C.publish=function(exchange,routingKey,content,options){var fieldsAndProps=Args.publish(exchange,routingKey,options);return this.sendMessage(fieldsAndProps,fieldsAndProps,content)},C.sendToQueue=function(queue,content,options){return this.publish("",queue,content,options)},C.consume=function(queue,callback,options){var self=this,fields=Args.consume(queue,options);return Promise.fromCallback((function(cb){self._rpc(defs.BasicConsume,fields,defs.BasicConsumeOk,cb)})).then((function(ok){return self.registerConsumer(ok.fields.consumerTag,callback),ok.fields}))},C.cancel=function(consumerTag){var self=this;return Promise.fromCallback((function(cb){self._rpc(defs.BasicCancel,Args.cancel(consumerTag),defs.BasicCancelOk,cb)})).then((function(ok){return self.unregisterConsumer(consumerTag),ok.fields}))},C.get=function(queue,options){var self=this,fields=Args.get(queue,options);return Promise.fromCallback((function(cb){return self.sendOrEnqueue(defs.BasicGet,fields,cb)})).then((function(f){if(f.id===defs.BasicGetEmpty)return!1;if(f.id===defs.BasicGetOk){var fields=f.fields;return new Promise((function(resolve){self.handleMessage=acceptMessage((function(m){m.fields=fields,resolve(m)}))}))}throw new Error("Unexpected response to BasicGet: "+inspect(f))}))},C.ack=function(message,allUpTo){this.sendImmediately(defs.BasicAck,Args.ack(message.fields.deliveryTag,allUpTo))},C.ackAll=function(){this.sendImmediately(defs.BasicAck,Args.ack(0,!0))},C.nack=function(message,allUpTo,requeue){this.sendImmediately(defs.BasicNack,Args.nack(message.fields.deliveryTag,allUpTo,requeue))},C.nackAll=function(requeue){this.sendImmediately(defs.BasicNack,Args.nack(0,!0,requeue))},C.reject=function(message,requeue){this.sendImmediately(defs.BasicReject,Args.reject(message.fields.deliveryTag,requeue))},C.prefetch=C.qos=function(count,global){return this.rpc(defs.BasicQos,Args.prefetch(count,global),defs.BasicQosOk)},C.recover=function(){return this.rpc(defs.BasicRecover,Args.recover(),defs.BasicRecoverOk)},inherits(ConfirmChannel,Channel),module.exports.ConfirmChannel=ConfirmChannel,CM.createConfirmChannel=function(){var c=new ConfirmChannel(this.connection);return c.open().then((function(openOk){return c.rpc(defs.ConfirmSelect,{nowait:!1},defs.ConfirmSelectOk)})).then((function(){return c}))};var CC=ConfirmChannel.prototype;CC.publish=function(exchange,routingKey,content,options,cb){return this.pushConfirmCallback(cb),C.publish.call(this,exchange,routingKey,content,options)},CC.sendToQueue=function(queue,content,options,cb){return this.publish("",queue,content,options,cb)},CC.waitForConfirms=function(){var awaiting=[],unconfirmed=this.unconfirmed;return unconfirmed.forEach((function(val,index){if(null===val);else{var confirmed=new Promise((function(resolve,reject){unconfirmed[index]=function(err){val&&val(err),null===err?resolve():reject(err)}}));awaiting.push(confirmed)}})),Promise.all(awaiting)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var makeSelfResolutionError=function(){return new TypeError("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},reflectHandler=function(){return new Promise.PromiseInspection(this._target())},apiRejection=function(msg){return Promise.reject(new TypeError(msg))};function Proxyable(){}var UNDEFINED_BINDING={},util=__webpack_require__(1);util.setReflectHandler(reflectHandler);var getDomain=function(){var domain=process.domain;return void 0===domain?null:domain},getContextDomain=function(){return{domain:getDomain(),async:null}},AsyncResource=util.isNode&&util.nodeSupportsAsyncResource?__webpack_require__(78).AsyncResource:null,getContextAsyncHooks=function(){return{domain:getDomain(),async:new AsyncResource("Bluebird::Promise")}},getContext=util.isNode?getContextDomain:function(){return null};util.notEnumerableProp(Promise,"_getContext",getContext);var es5=__webpack_require__(16),Async=__webpack_require__(164),async=new Async;es5.defineProperty(Promise,"_async",{value:async});var errors=__webpack_require__(13),TypeError=Promise.TypeError=errors.TypeError;Promise.RangeError=errors.RangeError;var CancellationError=Promise.CancellationError=errors.CancellationError;Promise.TimeoutError=errors.TimeoutError,Promise.OperationalError=errors.OperationalError,Promise.RejectionError=errors.OperationalError,Promise.AggregateError=errors.AggregateError;var INTERNAL=function(){},APPLY={},NEXT_FILTER={},tryConvertToPromise=__webpack_require__(167)(Promise,INTERNAL),PromiseArray=__webpack_require__(168)(Promise,INTERNAL,tryConvertToPromise,apiRejection,Proxyable),Context=__webpack_require__(169)(Promise),createContext=Context.create,debug=__webpack_require__(170)(Promise,Context,(function(){getContext=getContextAsyncHooks,util.notEnumerableProp(Promise,"_getContext",getContextAsyncHooks)}),(function(){getContext=getContextDomain,util.notEnumerableProp(Promise,"_getContext",getContextDomain)})),PassThroughHandlerContext=(debug.CapturedTrace,__webpack_require__(171)(Promise,tryConvertToPromise,NEXT_FILTER)),catchFilter=__webpack_require__(79)(NEXT_FILTER),nodebackForPromise=__webpack_require__(80),errorObj=util.errorObj,tryCatch=util.tryCatch;function Promise(executor){executor!==INTERNAL&&function(self,executor){if(null==self||self.constructor!==Promise)throw new TypeError("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof executor)throw new TypeError("expecting a function but got "+util.classString(executor))}(this,executor),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(executor),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function deferResolve(v){this.promise._resolveCallback(v)}function deferReject(v){this.promise._rejectCallback(v,!1)}function fillTypes(value){var p=new Promise(INTERNAL);p._fulfillmentHandler0=value,p._rejectionHandler0=value,p._promise0=value,p._receiver0=value}return Promise.prototype.toString=function(){return"[object Promise]"},Promise.prototype.caught=Promise.prototype.catch=function(fn){var len=arguments.length;if(len>1){var i,catchInstances=new Array(len-1),j=0;for(i=0;i<len-1;++i){var item=arguments[i];if(!util.isObject(item))return apiRejection("Catch statement predicate: expecting an object but got "+util.classString(item));catchInstances[j++]=item}if(catchInstances.length=j,"function"!=typeof(fn=arguments[i]))throw new TypeError("The last argument to .catch() must be a function, got "+util.toString(fn));return this.then(void 0,catchFilter(catchInstances,fn,this))}return this.then(void 0,fn)},Promise.prototype.reflect=function(){return this._then(reflectHandler,reflectHandler,void 0,this,void 0)},Promise.prototype.then=function(didFulfill,didReject){if(debug.warnings()&&arguments.length>0&&"function"!=typeof didFulfill&&"function"!=typeof didReject){var msg=".then() only accepts functions but was passed: "+util.classString(didFulfill);arguments.length>1&&(msg+=", "+util.classString(didReject)),this._warn(msg)}return this._then(didFulfill,didReject,void 0,void 0,void 0)},Promise.prototype.done=function(didFulfill,didReject){this._then(didFulfill,didReject,void 0,void 0,void 0)._setIsFinal()},Promise.prototype.spread=function(fn){return"function"!=typeof fn?apiRejection("expecting a function but got "+util.classString(fn)):this.all()._then(fn,void 0,void 0,APPLY,void 0)},Promise.prototype.toJSON=function(){var ret={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(ret.fulfillmentValue=this.value(),ret.isFulfilled=!0):this.isRejected()&&(ret.rejectionReason=this.reason(),ret.isRejected=!0),ret},Promise.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new PromiseArray(this).promise()},Promise.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn)},Promise.getNewLibraryCopy=module.exports,Promise.is=function(val){return val instanceof Promise},Promise.fromNode=Promise.fromCallback=function(fn){var ret=new Promise(INTERNAL);ret._captureStackTrace();var multiArgs=arguments.length>1&&!!Object(arguments[1]).multiArgs,result=tryCatch(fn)(nodebackForPromise(ret,multiArgs));return result===errorObj&&ret._rejectCallback(result.e,!0),ret._isFateSealed()||ret._setAsyncGuaranteed(),ret},Promise.all=function(promises){return new PromiseArray(promises).promise()},Promise.cast=function(obj){var ret=tryConvertToPromise(obj);return ret instanceof Promise||((ret=new Promise(INTERNAL))._captureStackTrace(),ret._setFulfilled(),ret._rejectionHandler0=obj),ret},Promise.resolve=Promise.fulfilled=Promise.cast,Promise.reject=Promise.rejected=function(reason){var ret=new Promise(INTERNAL);return ret._captureStackTrace(),ret._rejectCallback(reason,!0),ret},Promise.setScheduler=function(fn){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));return async.setScheduler(fn)},Promise.prototype._then=function(didFulfill,didReject,_,receiver,internalData){var haveInternalData=void 0!==internalData,promise=haveInternalData?internalData:new Promise(INTERNAL),target=this._target(),bitField=target._bitField;haveInternalData||(promise._propagateFrom(this,3),promise._captureStackTrace(),void 0===receiver&&0!=(2097152&this._bitField)&&(receiver=0!=(50397184&bitField)?this._boundValue():target===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,promise));var context=getContext();if(0!=(50397184&bitField)){var handler,value,settler=target._settlePromiseCtx;0!=(33554432&bitField)?(value=target._rejectionHandler0,handler=didFulfill):0!=(16777216&bitField)?(value=target._fulfillmentHandler0,handler=didReject,target._unsetRejectionIsUnhandled()):(settler=target._settlePromiseLateCancellationObserver,value=new CancellationError("late cancellation observer"),target._attachExtraTrace(value),handler=didReject),async.invoke(settler,target,{handler:util.contextBind(context,handler),promise:promise,receiver:receiver,value:value})}else target._addCallbacks(didFulfill,didReject,promise,receiver,context);return promise},Promise.prototype._length=function(){return 65535&this._bitField},Promise.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},Promise.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},Promise.prototype._setLength=function(len){this._bitField=-65536&this._bitField|65535&len},Promise.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},Promise.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},Promise.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},Promise.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},Promise.prototype._isFinal=function(){return(4194304&this._bitField)>0},Promise.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},Promise.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},Promise.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},Promise.prototype._setAsyncGuaranteed=function(){if(!async.hasCustomScheduler()){var bitField=this._bitField;this._bitField=bitField|(536870912&bitField)>>2^134217728}},Promise.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},Promise.prototype._receiverAt=function(index){var ret=0===index?this._receiver0:this[4*index-4+3];if(ret!==UNDEFINED_BINDING)return void 0===ret&&this._isBound()?this._boundValue():ret},Promise.prototype._promiseAt=function(index){return this[4*index-4+2]},Promise.prototype._fulfillmentHandlerAt=function(index){return this[4*index-4+0]},Promise.prototype._rejectionHandlerAt=function(index){return this[4*index-4+1]},Promise.prototype._boundValue=function(){},Promise.prototype._migrateCallback0=function(follower){follower._bitField;var fulfill=follower._fulfillmentHandler0,reject=follower._rejectionHandler0,promise=follower._promise0,receiver=follower._receiverAt(0);void 0===receiver&&(receiver=UNDEFINED_BINDING),this._addCallbacks(fulfill,reject,promise,receiver,null)},Promise.prototype._migrateCallbackAt=function(follower,index){var fulfill=follower._fulfillmentHandlerAt(index),reject=follower._rejectionHandlerAt(index),promise=follower._promiseAt(index),receiver=follower._receiverAt(index);void 0===receiver&&(receiver=UNDEFINED_BINDING),this._addCallbacks(fulfill,reject,promise,receiver,null)},Promise.prototype._addCallbacks=function(fulfill,reject,promise,receiver,context){var index=this._length();if(index>=65531&&(index=0,this._setLength(0)),0===index)this._promise0=promise,this._receiver0=receiver,"function"==typeof fulfill&&(this._fulfillmentHandler0=util.contextBind(context,fulfill)),"function"==typeof reject&&(this._rejectionHandler0=util.contextBind(context,reject));else{var base=4*index-4;this[base+2]=promise,this[base+3]=receiver,"function"==typeof fulfill&&(this[base+0]=util.contextBind(context,fulfill)),"function"==typeof reject&&(this[base+1]=util.contextBind(context,reject))}return this._setLength(index+1),index},Promise.prototype._proxy=function(proxyable,arg){this._addCallbacks(void 0,void 0,arg,proxyable,null)},Promise.prototype._resolveCallback=function(value,shouldBind){if(0==(117506048&this._bitField)){if(value===this)return this._rejectCallback(makeSelfResolutionError(),!1);var maybePromise=tryConvertToPromise(value,this);if(!(maybePromise instanceof Promise))return this._fulfill(value);shouldBind&&this._propagateFrom(maybePromise,2);var promise=maybePromise._target();if(promise!==this){var bitField=promise._bitField;if(0==(50397184&bitField)){var len=this._length();len>0&&promise._migrateCallback0(this);for(var i=1;i<len;++i)promise._migrateCallbackAt(this,i);this._setFollowing(),this._setLength(0),this._setFollowee(maybePromise)}else if(0!=(33554432&bitField))this._fulfill(promise._value());else if(0!=(16777216&bitField))this._reject(promise._reason());else{var reason=new CancellationError("late cancellation observer");promise._attachExtraTrace(reason),this._reject(reason)}}else this._reject(makeSelfResolutionError())}},Promise.prototype._rejectCallback=function(reason,synchronous,ignoreNonErrorWarnings){var trace=util.ensureErrorObject(reason),hasStack=trace===reason;if(!hasStack&&!ignoreNonErrorWarnings&&debug.warnings()){var message="a promise was rejected with a non-error: "+util.classString(reason);this._warn(message,!0)}this._attachExtraTrace(trace,!!synchronous&&hasStack),this._reject(reason)},Promise.prototype._resolveFromExecutor=function(executor){if(executor!==INTERNAL){var promise=this;this._captureStackTrace(),this._pushContext();var synchronous=!0,r=this._execute(executor,(function(value){promise._resolveCallback(value)}),(function(reason){promise._rejectCallback(reason,synchronous)}));synchronous=!1,this._popContext(),void 0!==r&&promise._rejectCallback(r,!0)}},Promise.prototype._settlePromiseFromHandler=function(handler,receiver,value,promise){var bitField=promise._bitField;if(0==(65536&bitField)){var x;promise._pushContext(),receiver===APPLY?value&&"number"==typeof value.length?x=tryCatch(handler).apply(this._boundValue(),value):(x=errorObj).e=new TypeError("cannot .spread() a non-array: "+util.classString(value)):x=tryCatch(handler).call(receiver,value);var promiseCreated=promise._popContext();0==(65536&(bitField=promise._bitField))&&(x===NEXT_FILTER?promise._reject(value):x===errorObj?promise._rejectCallback(x.e,!1):(debug.checkForgottenReturns(x,promiseCreated,"",promise,this),promise._resolveCallback(x)))}},Promise.prototype._target=function(){for(var ret=this;ret._isFollowing();)ret=ret._followee();return ret},Promise.prototype._followee=function(){return this._rejectionHandler0},Promise.prototype._setFollowee=function(promise){this._rejectionHandler0=promise},Promise.prototype._settlePromise=function(promise,handler,receiver,value){var isPromise=promise instanceof Promise,bitField=this._bitField,asyncGuaranteed=0!=(134217728&bitField);0!=(65536&bitField)?(isPromise&&promise._invokeInternalOnCancel(),receiver instanceof PassThroughHandlerContext&&receiver.isFinallyHandler()?(receiver.cancelPromise=promise,tryCatch(handler).call(receiver,value)===errorObj&&promise._reject(errorObj.e)):handler===reflectHandler?promise._fulfill(reflectHandler.call(receiver)):receiver instanceof Proxyable?receiver._promiseCancelled(promise):isPromise||promise instanceof PromiseArray?promise._cancel():receiver.cancel()):"function"==typeof handler?isPromise?(asyncGuaranteed&&promise._setAsyncGuaranteed(),this._settlePromiseFromHandler(handler,receiver,value,promise)):handler.call(receiver,value,promise):receiver instanceof Proxyable?receiver._isResolved()||(0!=(33554432&bitField)?receiver._promiseFulfilled(value,promise):receiver._promiseRejected(value,promise)):isPromise&&(asyncGuaranteed&&promise._setAsyncGuaranteed(),0!=(33554432&bitField)?promise._fulfill(value):promise._reject(value))},Promise.prototype._settlePromiseLateCancellationObserver=function(ctx){var handler=ctx.handler,promise=ctx.promise,receiver=ctx.receiver,value=ctx.value;"function"==typeof handler?promise instanceof Promise?this._settlePromiseFromHandler(handler,receiver,value,promise):handler.call(receiver,value,promise):promise instanceof Promise&&promise._reject(value)},Promise.prototype._settlePromiseCtx=function(ctx){this._settlePromise(ctx.promise,ctx.handler,ctx.receiver,ctx.value)},Promise.prototype._settlePromise0=function(handler,value,bitField){var promise=this._promise0,receiver=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(promise,handler,receiver,value)},Promise.prototype._clearCallbackDataAtIndex=function(index){var base=4*index-4;this[base+2]=this[base+3]=this[base+0]=this[base+1]=void 0},Promise.prototype._fulfill=function(value){var bitField=this._bitField;if(!((117506048&bitField)>>>16)){if(value===this){var err=makeSelfResolutionError();return this._attachExtraTrace(err),this._reject(err)}this._setFulfilled(),this._rejectionHandler0=value,(65535&bitField)>0&&(0!=(134217728&bitField)?this._settlePromises():async.settlePromises(this),this._dereferenceTrace())}},Promise.prototype._reject=function(reason){var bitField=this._bitField;if(!((117506048&bitField)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=reason,this._isFinal())return async.fatalError(reason,util.isNode);(65535&bitField)>0?async.settlePromises(this):this._ensurePossibleRejectionHandled()}},Promise.prototype._fulfillPromises=function(len,value){for(var i=1;i<len;i++){var handler=this._fulfillmentHandlerAt(i),promise=this._promiseAt(i),receiver=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(promise,handler,receiver,value)}},Promise.prototype._rejectPromises=function(len,reason){for(var i=1;i<len;i++){var handler=this._rejectionHandlerAt(i),promise=this._promiseAt(i),receiver=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(promise,handler,receiver,reason)}},Promise.prototype._settlePromises=function(){var bitField=this._bitField,len=65535&bitField;if(len>0){if(0!=(16842752&bitField)){var reason=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,reason,bitField),this._rejectPromises(len,reason)}else{var value=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,value,bitField),this._fulfillPromises(len,value)}this._setLength(0)}this._clearCancellationData()},Promise.prototype._settledValue=function(){var bitField=this._bitField;return 0!=(33554432&bitField)?this._rejectionHandler0:0!=(16777216&bitField)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&es5.defineProperty(Promise.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),Promise.defer=Promise.pending=function(){return debug.deprecated("Promise.defer","new Promise"),{promise:new Promise(INTERNAL),resolve:deferResolve,reject:deferReject}},util.notEnumerableProp(Promise,"_makeSelfResolutionError",makeSelfResolutionError),__webpack_require__(172)(Promise,INTERNAL,tryConvertToPromise,apiRejection,debug),__webpack_require__(173)(Promise,INTERNAL,tryConvertToPromise,debug),__webpack_require__(174)(Promise,PromiseArray,apiRejection,debug),__webpack_require__(175)(Promise),__webpack_require__(176)(Promise),__webpack_require__(177)(Promise,PromiseArray,tryConvertToPromise,INTERNAL,async),Promise.Promise=Promise,Promise.version="3.7.2",__webpack_require__(178)(Promise),__webpack_require__(179)(Promise,apiRejection,INTERNAL,tryConvertToPromise,Proxyable,debug),__webpack_require__(180)(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug),__webpack_require__(181)(Promise),__webpack_require__(182)(Promise,INTERNAL),__webpack_require__(183)(Promise,PromiseArray,tryConvertToPromise,apiRejection),__webpack_require__(184)(Promise,INTERNAL,tryConvertToPromise,apiRejection),__webpack_require__(185)(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug),__webpack_require__(186)(Promise,PromiseArray,debug),__webpack_require__(187)(Promise,PromiseArray,apiRejection),__webpack_require__(188)(Promise,INTERNAL,debug),__webpack_require__(189)(Promise,apiRejection,tryConvertToPromise,createContext,INTERNAL,debug),__webpack_require__(190)(Promise),__webpack_require__(191)(Promise,INTERNAL),__webpack_require__(192)(Promise,INTERNAL),util.toFastProperties(Promise),util.toFastProperties(Promise.prototype),fillTypes({a:1}),fillTypes({b:2}),fillTypes({c:3}),fillTypes(1),fillTypes((function(){})),fillTypes(void 0),fillTypes(!1),fillTypes(new Promise(INTERNAL)),debug.setBounds(Async.firstLineError,util.lastLineError),Promise}},function(module,exports,__webpack_require__){"use strict";var firstLineError;try{throw new Error}catch(e){firstLineError=e}var schedule=__webpack_require__(165),Queue=__webpack_require__(166);function Async(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new Queue(16),this._normalQueue=new Queue(16),this._haveDrainedQueues=!1;var self=this;this.drainQueues=function(){self._drainQueues()},this._schedule=schedule}function _drainQueue(queue){for(;queue.length()>0;)_drainQueueStep(queue)}function _drainQueueStep(queue){var fn=queue.shift();if("function"!=typeof fn)fn._settlePromises();else{var receiver=queue.shift(),arg=queue.shift();fn.call(receiver,arg)}}Async.prototype.setScheduler=function(fn){var prev=this._schedule;return this._schedule=fn,this._customScheduler=!0,prev},Async.prototype.hasCustomScheduler=function(){return this._customScheduler},Async.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},Async.prototype.fatalError=function(e,isNode){isNode?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},Async.prototype.throwLater=function(fn,arg){if(1===arguments.length&&(arg=fn,fn=function(){throw arg}),"undefined"!=typeof setTimeout)setTimeout((function(){fn(arg)}),0);else try{this._schedule((function(){fn(arg)}))}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},Async.prototype.invokeLater=function(fn,receiver,arg){this._lateQueue.push(fn,receiver,arg),this._queueTick()},Async.prototype.invoke=function(fn,receiver,arg){this._normalQueue.push(fn,receiver,arg),this._queueTick()},Async.prototype.settlePromises=function(promise){this._normalQueue._pushOne(promise),this._queueTick()},Async.prototype._drainQueues=function(){_drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,_drainQueue(this._lateQueue)},Async.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},Async.prototype._reset=function(){this._isTickUsed=!1},module.exports=Async,module.exports.firstLineError=firstLineError},function(module,exports,__webpack_require__){"use strict";var schedule,util=__webpack_require__(1),NativePromise=util.getNativePromise();if(util.isNode&&"undefined"==typeof MutationObserver){var GlobalSetImmediate=global.setImmediate,ProcessNextTick=process.nextTick;schedule=util.isRecentNode?function(fn){GlobalSetImmediate.call(global,fn)}:function(fn){ProcessNextTick.call(process,fn)}}else if("function"==typeof NativePromise&&"function"==typeof NativePromise.resolve){var nativePromise=NativePromise.resolve();schedule=function(fn){nativePromise.then(fn)}}else schedule="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)||!("classList"in document.documentElement)?"undefined"!=typeof setImmediate?function(fn){setImmediate(fn)}:"undefined"!=typeof setTimeout?function(fn){setTimeout(fn,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var div=document.createElement("div"),opts={attributes:!0},toggleScheduled=!1,div2=document.createElement("div");new MutationObserver((function(){div.classList.toggle("foo"),toggleScheduled=!1})).observe(div2,opts);return function(fn){var o=new MutationObserver((function(){o.disconnect(),fn()}));o.observe(div,opts),toggleScheduled||(toggleScheduled=!0,div2.classList.toggle("foo"))}}();module.exports=schedule},function(module,exports,__webpack_require__){"use strict";function Queue(capacity){this._capacity=capacity,this._length=0,this._front=0}Queue.prototype._willBeOverCapacity=function(size){return this._capacity<size},Queue.prototype._pushOne=function(arg){var length=this.length();this._checkCapacity(length+1),this[this._front+length&this._capacity-1]=arg,this._length=length+1},Queue.prototype.push=function(fn,receiver,arg){var length=this.length()+3;if(this._willBeOverCapacity(length))return this._pushOne(fn),this._pushOne(receiver),void this._pushOne(arg);var j=this._front+length-3;this._checkCapacity(length);var wrapMask=this._capacity-1;this[j+0&wrapMask]=fn,this[j+1&wrapMask]=receiver,this[j+2&wrapMask]=arg,this._length=length},Queue.prototype.shift=function(){var front=this._front,ret=this[front];return this[front]=void 0,this._front=front+1&this._capacity-1,this._length--,ret},Queue.prototype.length=function(){return this._length},Queue.prototype._checkCapacity=function(size){this._capacity<size&&this._resizeTo(this._capacity<<1)},Queue.prototype._resizeTo=function(capacity){var oldCapacity=this._capacity;this._capacity=capacity,function(src,srcIndex,dst,dstIndex,len){for(var j=0;j<len;++j)dst[j+dstIndex]=src[j+srcIndex],src[j+srcIndex]=void 0}(this,0,this,oldCapacity,this._front+this._length&oldCapacity-1)},module.exports=Queue},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL){var util=__webpack_require__(1),errorObj=util.errorObj,isObject=util.isObject;var hasProp={}.hasOwnProperty;return function(obj,context){if(isObject(obj)){if(obj instanceof Promise)return obj;var then=function(obj){try{return function(obj){return obj.then}(obj)}catch(e){return errorObj.e=e,errorObj}}(obj);if(then===errorObj){context&&context._pushContext();var ret=Promise.reject(then.e);return context&&context._popContext(),ret}if("function"==typeof then){if(function(obj){try{return hasProp.call(obj,"_promise0")}catch(e){return!1}}(obj)){ret=new Promise(INTERNAL);return obj._then(ret._fulfill,ret._reject,void 0,ret,null),ret}return function(x,then,context){var promise=new Promise(INTERNAL),ret=promise;context&&context._pushContext();promise._captureStackTrace(),context&&context._popContext();var result=util.tryCatch(then).call(x,(function(value){if(!promise)return;promise._resolveCallback(value),promise=null}),(function(reason){if(!promise)return;promise._rejectCallback(reason,!1,!0),promise=null}));!1,promise&&result===errorObj&&(promise._rejectCallback(result.e,!0,!0),promise=null);return ret}(obj,then,context)}}return obj}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection,Proxyable){var util=__webpack_require__(1);util.isArray;function PromiseArray(values){var promise=this._promise=new Promise(INTERNAL);values instanceof Promise&&(promise._propagateFrom(values,3),values.suppressUnhandledRejections()),promise._setOnCancel(this),this._values=values,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return util.inherits(PromiseArray,Proxyable),PromiseArray.prototype.length=function(){return this._length},PromiseArray.prototype.promise=function(){return this._promise},PromiseArray.prototype._init=function init(_,resolveValueIfEmpty){var values=tryConvertToPromise(this._values,this._promise);if(values instanceof Promise){var bitField=(values=values._target())._bitField;if(this._values=values,0==(50397184&bitField))return this._promise._setAsyncGuaranteed(),values._then(init,this._reject,void 0,this,resolveValueIfEmpty);if(0==(33554432&bitField))return 0!=(16777216&bitField)?this._reject(values._reason()):this._cancel();values=values._value()}if(null!==(values=util.asArray(values)))0!==values.length?this._iterate(values):-5===resolveValueIfEmpty?this._resolveEmptyArray():this._resolve(function(val){switch(val){case-2:return[];case-3:return{};case-6:return new Map}}(resolveValueIfEmpty));else{var err=apiRejection("expecting an array or an iterable object but got "+util.classString(values)).reason();this._promise._rejectCallback(err,!1)}},PromiseArray.prototype._iterate=function(values){var len=this.getActualLength(values.length);this._length=len,this._values=this.shouldCopyValues()?new Array(len):this._values;for(var result=this._promise,isResolved=!1,bitField=null,i=0;i<len;++i){var maybePromise=tryConvertToPromise(values[i],result);bitField=maybePromise instanceof Promise?(maybePromise=maybePromise._target())._bitField:null,isResolved?null!==bitField&&maybePromise.suppressUnhandledRejections():null!==bitField?0==(50397184&bitField)?(maybePromise._proxy(this,i),this._values[i]=maybePromise):isResolved=0!=(33554432&bitField)?this._promiseFulfilled(maybePromise._value(),i):0!=(16777216&bitField)?this._promiseRejected(maybePromise._reason(),i):this._promiseCancelled(i):isResolved=this._promiseFulfilled(maybePromise,i)}isResolved||result._setAsyncGuaranteed()},PromiseArray.prototype._isResolved=function(){return null===this._values},PromiseArray.prototype._resolve=function(value){this._values=null,this._promise._fulfill(value)},PromiseArray.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},PromiseArray.prototype._reject=function(reason){this._values=null,this._promise._rejectCallback(reason,!1)},PromiseArray.prototype._promiseFulfilled=function(value,index){return this._values[index]=value,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},PromiseArray.prototype._promiseCancelled=function(){return this._cancel(),!0},PromiseArray.prototype._promiseRejected=function(reason){return this._totalResolved++,this._reject(reason),!0},PromiseArray.prototype._resultCancelled=function(){if(!this._isResolved()){var values=this._values;if(this._cancel(),values instanceof Promise)values.cancel();else for(var i=0;i<values.length;++i)values[i]instanceof Promise&&values[i].cancel()}},PromiseArray.prototype.shouldCopyValues=function(){return!0},PromiseArray.prototype.getActualLength=function(len){return len},PromiseArray}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise){var longStackTraces=!1,contextStack=[];function Context(){this._trace=new Context.CapturedTrace(peekContext())}function peekContext(){var lastIndex=contextStack.length-1;if(lastIndex>=0)return contextStack[lastIndex]}return Promise.prototype._promiseCreated=function(){},Promise.prototype._pushContext=function(){},Promise.prototype._popContext=function(){return null},Promise._peekContext=Promise.prototype._peekContext=function(){},Context.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,contextStack.push(this._trace))},Context.prototype._popContext=function(){if(void 0!==this._trace){var trace=contextStack.pop(),ret=trace._promiseCreated;return trace._promiseCreated=null,ret}return null},Context.CapturedTrace=null,Context.create=function(){if(longStackTraces)return new Context},Context.deactivateLongStackTraces=function(){},Context.activateLongStackTraces=function(){var Promise_pushContext=Promise.prototype._pushContext,Promise_popContext=Promise.prototype._popContext,Promise_PeekContext=Promise._peekContext,Promise_peekContext=Promise.prototype._peekContext,Promise_promiseCreated=Promise.prototype._promiseCreated;Context.deactivateLongStackTraces=function(){Promise.prototype._pushContext=Promise_pushContext,Promise.prototype._popContext=Promise_popContext,Promise._peekContext=Promise_PeekContext,Promise.prototype._peekContext=Promise_peekContext,Promise.prototype._promiseCreated=Promise_promiseCreated,longStackTraces=!1},longStackTraces=!0,Promise.prototype._pushContext=Context.prototype._pushContext,Promise.prototype._popContext=Context.prototype._popContext,Promise._peekContext=Promise.prototype._peekContext=peekContext,Promise.prototype._promiseCreated=function(){var ctx=this._peekContext();ctx&&null==ctx._promiseCreated&&(ctx._promiseCreated=this)}},Context}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,Context,enableAsyncHooks,disableAsyncHooks){var unhandledRejectionHandled,possiblyUnhandledRejection,printWarning,deferUnhandledRejectionCheck,async=Promise._async,Warning=__webpack_require__(13).Warning,util=__webpack_require__(1),es5=__webpack_require__(16),canAttachTrace=util.canAttachTrace,bluebirdFramePattern=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,nodeFramePattern=/\((?:timers\.js):\d+:\d+\)/,parseLinePattern=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,stackFramePattern=null,formatStack=null,indentStackFrames=!1,debugging=!(0==util.env("BLUEBIRD_DEBUG")||!util.env("BLUEBIRD_DEBUG")&&"development"!==util.env("NODE_ENV")),warnings=!(0==util.env("BLUEBIRD_WARNINGS")||!debugging&&!util.env("BLUEBIRD_WARNINGS")),longStackTraces=!(0==util.env("BLUEBIRD_LONG_STACK_TRACES")||!debugging&&!util.env("BLUEBIRD_LONG_STACK_TRACES")),wForgottenReturn=0!=util.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(warnings||!!util.env("BLUEBIRD_W_FORGOTTEN_RETURN"));!function(){var promises=[];function unhandledRejectionCheck(){for(var i=0;i<promises.length;++i)promises[i]._notifyUnhandledRejection();unhandledRejectionClear()}function unhandledRejectionClear(){promises.length=0}deferUnhandledRejectionCheck=function(promise){promises.push(promise),setTimeout(unhandledRejectionCheck,1)},es5.defineProperty(Promise,"_unhandledRejectionCheck",{value:unhandledRejectionCheck}),es5.defineProperty(Promise,"_unhandledRejectionClear",{value:unhandledRejectionClear})}(),Promise.prototype.suppressUnhandledRejections=function(){var target=this._target();target._bitField=-1048577&target._bitField|524288},Promise.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),deferUnhandledRejectionCheck(this))},Promise.prototype._notifyUnhandledRejectionIsHandled=function(){fireRejectionEvent("rejectionHandled",unhandledRejectionHandled,void 0,this)},Promise.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},Promise.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},Promise.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var reason=this._settledValue();this._setUnhandledRejectionIsNotified(),fireRejectionEvent("unhandledRejection",possiblyUnhandledRejection,reason,this)}},Promise.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},Promise.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},Promise.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},Promise.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},Promise.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},Promise.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},Promise.prototype._warn=function(message,shouldUseOwnTrace,promise){return warn(message,shouldUseOwnTrace,promise||this)},Promise.onPossiblyUnhandledRejection=function(fn){var context=Promise._getContext();possiblyUnhandledRejection=util.contextBind(context,fn)},Promise.onUnhandledRejectionHandled=function(fn){var context=Promise._getContext();unhandledRejectionHandled=util.contextBind(context,fn)};var disableLongStackTraces=function(){};Promise.longStackTraces=function(){if(async.haveItemsQueued()&&!config.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!config.longStackTraces&&longStackTracesIsSupported()){var Promise_captureStackTrace=Promise.prototype._captureStackTrace,Promise_attachExtraTrace=Promise.prototype._attachExtraTrace,Promise_dereferenceTrace=Promise.prototype._dereferenceTrace;config.longStackTraces=!0,disableLongStackTraces=function(){if(async.haveItemsQueued()&&!config.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");Promise.prototype._captureStackTrace=Promise_captureStackTrace,Promise.prototype._attachExtraTrace=Promise_attachExtraTrace,Promise.prototype._dereferenceTrace=Promise_dereferenceTrace,Context.deactivateLongStackTraces(),config.longStackTraces=!1},Promise.prototype._captureStackTrace=longStackTracesCaptureStackTrace,Promise.prototype._attachExtraTrace=longStackTracesAttachExtraTrace,Promise.prototype._dereferenceTrace=longStackTracesDereferenceTrace,Context.activateLongStackTraces()}},Promise.hasLongStackTraces=function(){return config.longStackTraces&&longStackTracesIsSupported()};var legacyHandlers={unhandledrejection:{before:function(){var ret=util.global.onunhandledrejection;return util.global.onunhandledrejection=null,ret},after:function(fn){util.global.onunhandledrejection=fn}},rejectionhandled:{before:function(){var ret=util.global.onrejectionhandled;return util.global.onrejectionhandled=null,ret},after:function(fn){util.global.onrejectionhandled=fn}}},fireDomEvent=function(){var dispatch=function(legacy,e){if(!legacy)return!util.global.dispatchEvent(e);var fn;try{return fn=legacy.before(),!util.global.dispatchEvent(e)}finally{legacy.after(fn)}};try{if("function"==typeof CustomEvent){var event=new CustomEvent("CustomEvent");return util.global.dispatchEvent(event),function(name,event){name=name.toLowerCase();var domEvent=new CustomEvent(name,{detail:event,cancelable:!0});return es5.defineProperty(domEvent,"promise",{value:event.promise}),es5.defineProperty(domEvent,"reason",{value:event.reason}),dispatch(legacyHandlers[name],domEvent)}}if("function"==typeof Event){event=new Event("CustomEvent");return util.global.dispatchEvent(event),function(name,event){name=name.toLowerCase();var domEvent=new Event(name,{cancelable:!0});return domEvent.detail=event,es5.defineProperty(domEvent,"promise",{value:event.promise}),es5.defineProperty(domEvent,"reason",{value:event.reason}),dispatch(legacyHandlers[name],domEvent)}}return(event=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),util.global.dispatchEvent(event),function(name,event){name=name.toLowerCase();var domEvent=document.createEvent("CustomEvent");return domEvent.initCustomEvent(name,!1,!0,event),dispatch(legacyHandlers[name],domEvent)}}catch(e){}return function(){return!1}}(),fireGlobalEvent=util.isNode?function(){return process.emit.apply(process,arguments)}:util.global?function(name){var methodName="on"+name.toLowerCase(),method=util.global[methodName];return!!method&&(method.apply(util.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function generatePromiseLifecycleEventObject(name,promise){return{promise:promise}}var eventToObjectGenerator={promiseCreated:generatePromiseLifecycleEventObject,promiseFulfilled:generatePromiseLifecycleEventObject,promiseRejected:generatePromiseLifecycleEventObject,promiseResolved:generatePromiseLifecycleEventObject,promiseCancelled:generatePromiseLifecycleEventObject,promiseChained:function(name,promise,child){return{promise:promise,child:child}},warning:function(name,warning){return{warning:warning}},unhandledRejection:function(name,reason,promise){return{reason:reason,promise:promise}},rejectionHandled:generatePromiseLifecycleEventObject},activeFireEvent=function(name){var globalEventFired=!1;try{globalEventFired=fireGlobalEvent.apply(null,arguments)}catch(e){async.throwLater(e),globalEventFired=!0}var domEventFired=!1;try{domEventFired=fireDomEvent(name,eventToObjectGenerator[name].apply(null,arguments))}catch(e){async.throwLater(e),domEventFired=!0}return domEventFired||globalEventFired};function defaultFireEvent(){return!1}function cancellationExecute(executor,resolve,reject){var promise=this;try{executor(resolve,reject,(function(onCancel){if("function"!=typeof onCancel)throw new TypeError("onCancel must be a function, got: "+util.toString(onCancel));promise._attachCancellationCallback(onCancel)}))}catch(e){return e}}function cancellationAttachCancellationCallback(onCancel){if(!this._isCancellable())return this;var previousOnCancel=this._onCancel();void 0!==previousOnCancel?util.isArray(previousOnCancel)?previousOnCancel.push(onCancel):this._setOnCancel([previousOnCancel,onCancel]):this._setOnCancel(onCancel)}function cancellationOnCancel(){return this._onCancelField}function cancellationSetOnCancel(onCancel){this._onCancelField=onCancel}function cancellationClearCancellationData(){this._cancellationParent=void 0,this._onCancelField=void 0}function cancellationPropagateFrom(parent,flags){if(0!=(1&flags)){this._cancellationParent=parent;var branchesRemainingToCancel=parent._branchesRemainingToCancel;void 0===branchesRemainingToCancel&&(branchesRemainingToCancel=0),parent._branchesRemainingToCancel=branchesRemainingToCancel+1}0!=(2&flags)&&parent._isBound()&&this._setBoundTo(parent._boundTo)}Promise.config=function(opts){if("longStackTraces"in(opts=Object(opts))&&(opts.longStackTraces?Promise.longStackTraces():!opts.longStackTraces&&Promise.hasLongStackTraces()&&disableLongStackTraces()),"warnings"in opts){var warningsOption=opts.warnings;config.warnings=!!warningsOption,wForgottenReturn=config.warnings,util.isObject(warningsOption)&&"wForgottenReturn"in warningsOption&&(wForgottenReturn=!!warningsOption.wForgottenReturn)}if("cancellation"in opts&&opts.cancellation&&!config.cancellation){if(async.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");Promise.prototype._clearCancellationData=cancellationClearCancellationData,Promise.prototype._propagateFrom=cancellationPropagateFrom,Promise.prototype._onCancel=cancellationOnCancel,Promise.prototype._setOnCancel=cancellationSetOnCancel,Promise.prototype._attachCancellationCallback=cancellationAttachCancellationCallback,Promise.prototype._execute=cancellationExecute,propagateFromFunction=cancellationPropagateFrom,config.cancellation=!0}if("monitoring"in opts&&(opts.monitoring&&!config.monitoring?(config.monitoring=!0,Promise.prototype._fireEvent=activeFireEvent):!opts.monitoring&&config.monitoring&&(config.monitoring=!1,Promise.prototype._fireEvent=defaultFireEvent)),"asyncHooks"in opts&&util.nodeSupportsAsyncResource){var prev=config.asyncHooks,cur=!!opts.asyncHooks;prev!==cur&&(config.asyncHooks=cur,cur?enableAsyncHooks():disableAsyncHooks())}return Promise},Promise.prototype._fireEvent=defaultFireEvent,Promise.prototype._execute=function(executor,resolve,reject){try{executor(resolve,reject)}catch(e){return e}},Promise.prototype._onCancel=function(){},Promise.prototype._setOnCancel=function(handler){},Promise.prototype._attachCancellationCallback=function(onCancel){},Promise.prototype._captureStackTrace=function(){},Promise.prototype._attachExtraTrace=function(){},Promise.prototype._dereferenceTrace=function(){},Promise.prototype._clearCancellationData=function(){},Promise.prototype._propagateFrom=function(parent,flags){};var propagateFromFunction=function(parent,flags){0!=(2&flags)&&parent._isBound()&&this._setBoundTo(parent._boundTo)};function boundValueFunction(){var ret=this._boundTo;return void 0!==ret&&ret instanceof Promise?ret.isFulfilled()?ret.value():void 0:ret}function longStackTracesCaptureStackTrace(){this._trace=new CapturedTrace(this._peekContext())}function longStackTracesAttachExtraTrace(error,ignoreSelf){if(canAttachTrace(error)){var trace=this._trace;if(void 0!==trace&&ignoreSelf&&(trace=trace._parent),void 0!==trace)trace.attachExtraTrace(error);else if(!error.__stackCleaned__){var parsed=parseStackAndMessage(error);util.notEnumerableProp(error,"stack",parsed.message+"\n"+parsed.stack.join("\n")),util.notEnumerableProp(error,"__stackCleaned__",!0)}}}function longStackTracesDereferenceTrace(){this._trace=void 0}function warn(message,shouldUseOwnTrace,promise){if(config.warnings){var ctx,warning=new Warning(message);if(shouldUseOwnTrace)promise._attachExtraTrace(warning);else if(config.longStackTraces&&(ctx=Promise._peekContext()))ctx.attachExtraTrace(warning);else{var parsed=parseStackAndMessage(warning);warning.stack=parsed.message+"\n"+parsed.stack.join("\n")}activeFireEvent("warning",warning)||formatAndLogError(warning,"",!0)}}function cleanStack(stack){for(var ret=[],i=0;i<stack.length;++i){var line=stack[i],isTraceLine="    (No stack trace)"===line||stackFramePattern.test(line),isInternalFrame=isTraceLine&&shouldIgnore(line);isTraceLine&&!isInternalFrame&&(indentStackFrames&&" "!==line.charAt(0)&&(line="    "+line),ret.push(line))}return ret}function parseStackAndMessage(error){var stack=error.stack,message=error.toString();return stack="string"==typeof stack&&stack.length>0?function(error){for(var stack=error.stack.replace(/\s+$/g,"").split("\n"),i=0;i<stack.length;++i){var line=stack[i];if("    (No stack trace)"===line||stackFramePattern.test(line))break}return i>0&&"SyntaxError"!=error.name&&(stack=stack.slice(i)),stack}(error):["    (No stack trace)"],{message:message,stack:"SyntaxError"==error.name?stack:cleanStack(stack)}}function formatAndLogError(error,title,isSoft){if("undefined"!=typeof console){var message;if(util.isObject(error)){var stack=error.stack;message=title+formatStack(stack,error)}else message=title+String(error);"function"==typeof printWarning?printWarning(message,isSoft):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(message)}}function fireRejectionEvent(name,localHandler,reason,promise){var localEventFired=!1;try{"function"==typeof localHandler&&(localEventFired=!0,"rejectionHandled"===name?localHandler(promise):localHandler(reason,promise))}catch(e){async.throwLater(e)}"unhandledRejection"===name?activeFireEvent(name,reason,promise)||localEventFired||formatAndLogError(reason,"Unhandled rejection "):activeFireEvent(name,promise)}function formatNonError(obj){var str;if("function"==typeof obj)str="[function "+(obj.name||"anonymous")+"]";else{str=obj&&"function"==typeof obj.toString?obj.toString():util.toString(obj);if(/\[object [a-zA-Z0-9$_]+\]/.test(str))try{str=JSON.stringify(obj)}catch(e){}0===str.length&&(str="(empty array)")}return"(<"+function(str){if(str.length<41)return str;return str.substr(0,38)+"..."}(str)+">, no stack trace)"}function longStackTracesIsSupported(){return"function"==typeof captureStackTrace}var shouldIgnore=function(){return!1},parseLineInfoRegex=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function parseLineInfo(line){var matches=line.match(parseLineInfoRegex);if(matches)return{fileName:matches[1],line:parseInt(matches[2],10)}}function CapturedTrace(parent){this._parent=parent,this._promisesCreated=0;var length=this._length=1+(void 0===parent?0:parent._length);captureStackTrace(this,CapturedTrace),length>32&&this.uncycle()}util.inherits(CapturedTrace,Error),Context.CapturedTrace=CapturedTrace,CapturedTrace.prototype.uncycle=function(){var length=this._length;if(!(length<2)){for(var nodes=[],stackToIndex={},i=0,node=this;void 0!==node;++i)nodes.push(node),node=node._parent;for(i=(length=this._length=i)-1;i>=0;--i){var stack=nodes[i].stack;void 0===stackToIndex[stack]&&(stackToIndex[stack]=i)}for(i=0;i<length;++i){var index=stackToIndex[nodes[i].stack];if(void 0!==index&&index!==i){index>0&&(nodes[index-1]._parent=void 0,nodes[index-1]._length=1),nodes[i]._parent=void 0,nodes[i]._length=1;var cycleEdgeNode=i>0?nodes[i-1]:this;index<length-1?(cycleEdgeNode._parent=nodes[index+1],cycleEdgeNode._parent.uncycle(),cycleEdgeNode._length=cycleEdgeNode._parent._length+1):(cycleEdgeNode._parent=void 0,cycleEdgeNode._length=1);for(var currentChildLength=cycleEdgeNode._length+1,j=i-2;j>=0;--j)nodes[j]._length=currentChildLength,currentChildLength++;return}}}},CapturedTrace.prototype.attachExtraTrace=function(error){if(!error.__stackCleaned__){this.uncycle();for(var parsed=parseStackAndMessage(error),message=parsed.message,stacks=[parsed.stack],trace=this;void 0!==trace;)stacks.push(cleanStack(trace.stack.split("\n"))),trace=trace._parent;!function(stacks){for(var current=stacks[0],i=1;i<stacks.length;++i){for(var prev=stacks[i],currentLastIndex=current.length-1,currentLastLine=current[currentLastIndex],commonRootMeetPoint=-1,j=prev.length-1;j>=0;--j)if(prev[j]===currentLastLine){commonRootMeetPoint=j;break}for(j=commonRootMeetPoint;j>=0;--j){var line=prev[j];if(current[currentLastIndex]!==line)break;current.pop(),currentLastIndex--}current=prev}}(stacks),function(stacks){for(var i=0;i<stacks.length;++i)(0===stacks[i].length||i+1<stacks.length&&stacks[i][0]===stacks[i+1][0])&&(stacks.splice(i,1),i--)}(stacks),util.notEnumerableProp(error,"stack",function(message,stacks){for(var i=0;i<stacks.length-1;++i)stacks[i].push("From previous event:"),stacks[i]=stacks[i].join("\n");return i<stacks.length&&(stacks[i]=stacks[i].join("\n")),message+"\n"+stacks.join("\n")}(message,stacks)),util.notEnumerableProp(error,"__stackCleaned__",!0)}};var captureStackTrace=function(){var v8stackFramePattern=/^\s*at\s*/,v8stackFormatter=function(stack,error){return"string"==typeof stack?stack:void 0!==error.name&&void 0!==error.message?error.toString():formatNonError(error)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter;var captureStackTrace=Error.captureStackTrace;return shouldIgnore=function(line){return bluebirdFramePattern.test(line)},function(receiver,ignoreUntil){Error.stackTraceLimit+=6,captureStackTrace(receiver,ignoreUntil),Error.stackTraceLimit-=6}}var hasStackAfterThrow,err=new Error;if("string"==typeof err.stack&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0)return stackFramePattern=/@/,formatStack=v8stackFormatter,indentStackFrames=!0,function(o){o.stack=(new Error).stack};try{throw new Error}catch(e){hasStackAfterThrow="stack"in e}return!("stack"in err)&&hasStackAfterThrow&&"number"==typeof Error.stackTraceLimit?(stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter,function(o){Error.stackTraceLimit+=6;try{throw new Error}catch(e){o.stack=e.stack}Error.stackTraceLimit-=6}):(formatStack=function(stack,error){return"string"==typeof stack?stack:"object"!=typeof error&&"function"!=typeof error||void 0===error.name||void 0===error.message?formatNonError(error):error.toString()},null)}();"undefined"!=typeof console&&void 0!==console.warn&&(printWarning=function(message){console.warn(message)},util.isNode&&process.stderr.isTTY?printWarning=function(message,isSoft){var color=isSoft?"[33m":"[31m";console.warn(color+message+"[0m\n")}:util.isNode||"string"!=typeof(new Error).stack||(printWarning=function(message,isSoft){console.warn("%c"+message,isSoft?"color: darkorange":"color: red")}));var config={warnings:warnings,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return longStackTraces&&Promise.longStackTraces(),{asyncHooks:function(){return config.asyncHooks},longStackTraces:function(){return config.longStackTraces},warnings:function(){return config.warnings},cancellation:function(){return config.cancellation},monitoring:function(){return config.monitoring},propagateFromFunction:function(){return propagateFromFunction},boundValueFunction:function(){return boundValueFunction},checkForgottenReturns:function(returnValue,promiseCreated,name,promise,parent){if(void 0===returnValue&&null!==promiseCreated&&wForgottenReturn){if(void 0!==parent&&parent._returnedNonUndefined())return;if(0==(65535&promise._bitField))return;name&&(name+=" ");var handlerLine="",creatorLine="";if(promiseCreated._trace){for(var traceLines=promiseCreated._trace.stack.split("\n"),stack=cleanStack(traceLines),i=stack.length-1;i>=0;--i){var line=stack[i];if(!nodeFramePattern.test(line)){var lineMatches=line.match(parseLinePattern);lineMatches&&(handlerLine="at "+lineMatches[1]+":"+lineMatches[2]+":"+lineMatches[3]+" ");break}}if(stack.length>0){var firstUserLine=stack[0];for(i=0;i<traceLines.length;++i)if(traceLines[i]===firstUserLine){i>0&&(creatorLine="\n"+traceLines[i-1]);break}}}var msg="a promise was created in a "+name+"handler "+handlerLine+"but was not returned from it, see http://goo.gl/rRqMUw"+creatorLine;promise._warn(msg,!0,promiseCreated)}},setBounds:function(firstLineError,lastLineError){if(longStackTracesIsSupported()){for(var firstFileName,lastFileName,firstStackLines=(firstLineError.stack||"").split("\n"),lastStackLines=(lastLineError.stack||"").split("\n"),firstIndex=-1,lastIndex=-1,i=0;i<firstStackLines.length;++i){if(result=parseLineInfo(firstStackLines[i])){firstFileName=result.fileName,firstIndex=result.line;break}}for(i=0;i<lastStackLines.length;++i){var result;if(result=parseLineInfo(lastStackLines[i])){lastFileName=result.fileName,lastIndex=result.line;break}}firstIndex<0||lastIndex<0||!firstFileName||!lastFileName||firstFileName!==lastFileName||firstIndex>=lastIndex||(shouldIgnore=function(line){if(bluebirdFramePattern.test(line))return!0;var info=parseLineInfo(line);return!!(info&&info.fileName===firstFileName&&firstIndex<=info.line&&info.line<=lastIndex)})}},warn:warn,deprecated:function(name,replacement){var message=name+" is deprecated and will be removed in a future version.";return replacement&&(message+=" Use "+replacement+" instead."),warn(message)},CapturedTrace:CapturedTrace,fireDomEvent:fireDomEvent,fireGlobalEvent:fireGlobalEvent}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,tryConvertToPromise,NEXT_FILTER){var util=__webpack_require__(1),CancellationError=Promise.CancellationError,errorObj=util.errorObj,catchFilter=__webpack_require__(79)(NEXT_FILTER);function PassThroughHandlerContext(promise,type,handler){this.promise=promise,this.type=type,this.handler=handler,this.called=!1,this.cancelPromise=null}function FinallyHandlerCancelReaction(finallyHandler){this.finallyHandler=finallyHandler}function checkCancel(ctx,reason){return null!=ctx.cancelPromise&&(arguments.length>1?ctx.cancelPromise._reject(reason):ctx.cancelPromise._cancel(),ctx.cancelPromise=null,!0)}function succeed(){return finallyHandler.call(this,this.promise._target()._settledValue())}function fail(reason){if(!checkCancel(this,reason))return errorObj.e=reason,errorObj}function finallyHandler(reasonOrValue){var promise=this.promise,handler=this.handler;if(!this.called){this.called=!0;var ret=this.isFinallyHandler()?handler.call(promise._boundValue()):handler.call(promise._boundValue(),reasonOrValue);if(ret===NEXT_FILTER)return ret;if(void 0!==ret){promise._setReturnedNonUndefined();var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise){if(null!=this.cancelPromise){if(maybePromise._isCancelled()){var reason=new CancellationError("late cancellation observer");return promise._attachExtraTrace(reason),errorObj.e=reason,errorObj}maybePromise.isPending()&&maybePromise._attachCancellationCallback(new FinallyHandlerCancelReaction(this))}return maybePromise._then(succeed,fail,void 0,this,void 0)}}}return promise.isRejected()?(checkCancel(this),errorObj.e=reasonOrValue,errorObj):(checkCancel(this),reasonOrValue)}return PassThroughHandlerContext.prototype.isFinallyHandler=function(){return 0===this.type},FinallyHandlerCancelReaction.prototype._resultCancelled=function(){checkCancel(this.finallyHandler)},Promise.prototype._passThrough=function(handler,type,success,fail){return"function"!=typeof handler?this.then():this._then(success,fail,void 0,new PassThroughHandlerContext(this,type,handler),void 0)},Promise.prototype.lastly=Promise.prototype.finally=function(handler){return this._passThrough(handler,0,finallyHandler,finallyHandler)},Promise.prototype.tap=function(handler){return this._passThrough(handler,1,finallyHandler)},Promise.prototype.tapCatch=function(handlerOrPredicate){var len=arguments.length;if(1===len)return this._passThrough(handlerOrPredicate,1,void 0,finallyHandler);var i,catchInstances=new Array(len-1),j=0;for(i=0;i<len-1;++i){var item=arguments[i];if(!util.isObject(item))return Promise.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+util.classString(item)));catchInstances[j++]=item}catchInstances.length=j;var handler=arguments[i];return this._passThrough(catchFilter(catchInstances,handler,this),1,void 0,finallyHandler)},PassThroughHandlerContext}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection,debug){var util=__webpack_require__(1),tryCatch=util.tryCatch;Promise.method=function(fn){if("function"!=typeof fn)throw new Promise.TypeError("expecting a function but got "+util.classString(fn));return function(){var ret=new Promise(INTERNAL);ret._captureStackTrace(),ret._pushContext();var value=tryCatch(fn).apply(this,arguments),promiseCreated=ret._popContext();return debug.checkForgottenReturns(value,promiseCreated,"Promise.method",ret),ret._resolveFromSyncValue(value),ret}},Promise.attempt=Promise.try=function(fn){if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var value,ret=new Promise(INTERNAL);if(ret._captureStackTrace(),ret._pushContext(),arguments.length>1){debug.deprecated("calling Promise.try with more than 1 argument");var arg=arguments[1],ctx=arguments[2];value=util.isArray(arg)?tryCatch(fn).apply(ctx,arg):tryCatch(fn).call(ctx,arg)}else value=tryCatch(fn)();var promiseCreated=ret._popContext();return debug.checkForgottenReturns(value,promiseCreated,"Promise.try",ret),ret._resolveFromSyncValue(value),ret},Promise.prototype._resolveFromSyncValue=function(value){value===util.errorObj?this._rejectCallback(value.e,!1):this._resolveCallback(value,!0)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,debug){var calledBind=!1,rejectThis=function(_,e){this._reject(e)},targetRejected=function(e,context){context.promiseRejectionQueued=!0,context.bindingPromise._then(rejectThis,rejectThis,null,this,e)},bindingResolved=function(thisArg,context){0==(50397184&this._bitField)&&this._resolveCallback(context.target)},bindingRejected=function(e,context){context.promiseRejectionQueued||this._reject(e)};Promise.prototype.bind=function(thisArg){calledBind||(calledBind=!0,Promise.prototype._propagateFrom=debug.propagateFromFunction(),Promise.prototype._boundValue=debug.boundValueFunction());var maybePromise=tryConvertToPromise(thisArg),ret=new Promise(INTERNAL);ret._propagateFrom(this,1);var target=this._target();if(ret._setBoundTo(maybePromise),maybePromise instanceof Promise){var context={promiseRejectionQueued:!1,promise:ret,target:target,bindingPromise:maybePromise};target._then(INTERNAL,targetRejected,void 0,ret,context),maybePromise._then(bindingResolved,bindingRejected,void 0,ret,context),ret._setOnCancel(maybePromise)}else ret._resolveCallback(target);return ret},Promise.prototype._setBoundTo=function(obj){void 0!==obj?(this._bitField=2097152|this._bitField,this._boundTo=obj):this._bitField=-2097153&this._bitField},Promise.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},Promise.bind=function(thisArg,value){return Promise.resolve(value).bind(thisArg)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,debug){var util=__webpack_require__(1),tryCatch=util.tryCatch,errorObj=util.errorObj,async=Promise._async;Promise.prototype.break=Promise.prototype.cancel=function(){if(!debug.cancellation())return this._warn("cancellation is disabled");for(var promise=this,child=promise;promise._isCancellable();){if(!promise._cancelBy(child)){child._isFollowing()?child._followee().cancel():child._cancelBranched();break}var parent=promise._cancellationParent;if(null==parent||!parent._isCancellable()){promise._isFollowing()?promise._followee().cancel():promise._cancelBranched();break}promise._isFollowing()&&promise._followee().cancel(),promise._setWillBeCancelled(),child=promise,promise=parent}},Promise.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},Promise.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},Promise.prototype._cancelBy=function(canceller){return canceller===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},Promise.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},Promise.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),async.invoke(this._cancelPromises,this,void 0))},Promise.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},Promise.prototype._unsetOnCancel=function(){this._onCancelField=void 0},Promise.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},Promise.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},Promise.prototype._doInvokeOnCancel=function(onCancelCallback,internalOnly){if(util.isArray(onCancelCallback))for(var i=0;i<onCancelCallback.length;++i)this._doInvokeOnCancel(onCancelCallback[i],internalOnly);else if(void 0!==onCancelCallback)if("function"==typeof onCancelCallback){if(!internalOnly){var e=tryCatch(onCancelCallback).call(this._boundValue());e===errorObj&&(this._attachExtraTrace(e.e),async.throwLater(e.e))}}else onCancelCallback._resultCancelled(this)},Promise.prototype._invokeOnCancel=function(){var onCancelCallback=this._onCancel();this._unsetOnCancel(),async.invoke(this._doInvokeOnCancel,this,onCancelCallback)},Promise.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},Promise.prototype._resultCancelled=function(){this.cancel()}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise){function returner(){return this.value}function thrower(){throw this.reason}Promise.prototype.return=Promise.prototype.thenReturn=function(value){return value instanceof Promise&&value.suppressUnhandledRejections(),this._then(returner,void 0,void 0,{value:value},void 0)},Promise.prototype.throw=Promise.prototype.thenThrow=function(reason){return this._then(thrower,void 0,void 0,{reason:reason},void 0)},Promise.prototype.catchThrow=function(reason){if(arguments.length<=1)return this._then(void 0,thrower,void 0,{reason:reason},void 0);var _reason=arguments[1],handler=function(){throw _reason};return this.caught(reason,handler)},Promise.prototype.catchReturn=function(value){if(arguments.length<=1)return value instanceof Promise&&value.suppressUnhandledRejections(),this._then(void 0,returner,void 0,{value:value},void 0);var _value=arguments[1];_value instanceof Promise&&_value.suppressUnhandledRejections();var handler=function(){return _value};return this.caught(value,handler)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise){function PromiseInspection(promise){void 0!==promise?(promise=promise._target(),this._bitField=promise._bitField,this._settledValueField=promise._isFateSealed()?promise._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}PromiseInspection.prototype._settledValue=function(){return this._settledValueField};var value=PromiseInspection.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},reason=PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},isFulfilled=PromiseInspection.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},isRejected=PromiseInspection.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},isPending=PromiseInspection.prototype.isPending=function(){return 0==(50397184&this._bitField)},isResolved=PromiseInspection.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};PromiseInspection.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},Promise.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},Promise.prototype._isCancelled=function(){return this._target().__isCancelled()},Promise.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},Promise.prototype.isPending=function(){return isPending.call(this._target())},Promise.prototype.isRejected=function(){return isRejected.call(this._target())},Promise.prototype.isFulfilled=function(){return isFulfilled.call(this._target())},Promise.prototype.isResolved=function(){return isResolved.call(this._target())},Promise.prototype.value=function(){return value.call(this._target())},Promise.prototype.reason=function(){var target=this._target();return target._unsetRejectionIsUnhandled(),reason.call(target)},Promise.prototype._value=function(){return this._settledValue()},Promise.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},Promise.PromiseInspection=PromiseInspection}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,INTERNAL,async){var reject,util=__webpack_require__(1),canEvaluate=util.canEvaluate,tryCatch=util.tryCatch,errorObj=util.errorObj;if(canEvaluate){for(var thenCallback=function(i){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,i))},promiseSetter=function(i){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,i))},generateHolderClass=function(total){for(var props=new Array(total),i=0;i<props.length;++i)props[i]="this.p"+(i+1);var assignment=props.join(" = ")+" = null;",cancellationCode="var promise;\n"+props.map((function(prop){return"                                                         \n                promise = "+prop+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "})).join("\n"),passedArguments=props.join(", "),name="Holder$"+total,code="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";return code=code.replace(/\[TheName\]/g,name).replace(/\[TheTotal\]/g,total).replace(/\[ThePassedArguments\]/g,passedArguments).replace(/\[TheProperties\]/g,assignment).replace(/\[CancellationCode\]/g,cancellationCode),new Function("tryCatch","errorObj","Promise","async",code)(tryCatch,errorObj,Promise,async)},holderClasses=[],thenCallbacks=[],promiseSetters=[],i=0;i<8;++i)holderClasses.push(generateHolderClass(i+1)),thenCallbacks.push(thenCallback(i+1)),promiseSetters.push(promiseSetter(i+1));reject=function(reason){this._reject(reason)}}Promise.join=function(){var fn,last=arguments.length-1;if(last>0&&"function"==typeof arguments[last]&&(fn=arguments[last],last<=8&&canEvaluate)){(ret=new Promise(INTERNAL))._captureStackTrace();for(var HolderClass=holderClasses[last-1],holder=new HolderClass(fn),callbacks=thenCallbacks,i=0;i<last;++i){var maybePromise=tryConvertToPromise(arguments[i],ret);if(maybePromise instanceof Promise){var bitField=(maybePromise=maybePromise._target())._bitField;0==(50397184&bitField)?(maybePromise._then(callbacks[i],reject,void 0,ret,holder),promiseSetters[i](maybePromise,holder),holder.asyncNeeded=!1):0!=(33554432&bitField)?callbacks[i].call(ret,maybePromise._value(),holder):0!=(16777216&bitField)?ret._reject(maybePromise._reason()):ret._cancel()}else callbacks[i].call(ret,maybePromise,holder)}if(!ret._isFateSealed()){if(holder.asyncNeeded){var context=Promise._getContext();holder.fn=util.contextBind(context,holder.fn)}ret._setAsyncGuaranteed(),ret._setOnCancel(holder)}return ret}for(var $_len=arguments.length,args=new Array($_len),$_i=0;$_i<$_len;++$_i)args[$_i]=arguments[$_i];fn&&args.pop();var ret=new PromiseArray(args).promise();return void 0!==fn?ret.spread(fn):ret}}},function(module,exports,__webpack_require__){"use strict";var cr=Object.create;if(cr){var callerCache=cr(null),getterCache=cr(null);callerCache[" size"]=getterCache[" size"]=0}module.exports=function(Promise){var getMethodCaller,getGetter,util=__webpack_require__(1),canEvaluate=util.canEvaluate,isIdentifier=util.isIdentifier,makeMethodCaller=function(methodName){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,methodName))(ensureMethod)},makeGetter=function(propertyName){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",propertyName))},getCompiled=function(name,compiler,cache){var ret=cache[name];if("function"!=typeof ret){if(!isIdentifier(name))return null;if(ret=compiler(name),cache[name]=ret,cache[" size"]++,cache[" size"]>512){for(var keys=Object.keys(cache),i=0;i<256;++i)delete cache[keys[i]];cache[" size"]=keys.length-256}}return ret};function ensureMethod(obj,methodName){var fn;if(null!=obj&&(fn=obj[methodName]),"function"!=typeof fn){var message="Object "+util.classString(obj)+" has no method '"+util.toString(methodName)+"'";throw new Promise.TypeError(message)}return fn}function caller(obj){return ensureMethod(obj,this.pop()).apply(obj,this)}function namedGetter(obj){return obj[this]}function indexedGetter(obj){var index=+this;return index<0&&(index=Math.max(0,index+obj.length)),obj[index]}getMethodCaller=function(name){return getCompiled(name,makeMethodCaller,callerCache)},getGetter=function(name){return getCompiled(name,makeGetter,getterCache)},Promise.prototype.call=function(methodName){for(var $_len=arguments.length,args=new Array(Math.max($_len-1,0)),$_i=1;$_i<$_len;++$_i)args[$_i-1]=arguments[$_i];if(canEvaluate){var maybeCaller=getMethodCaller(methodName);if(null!==maybeCaller)return this._then(maybeCaller,void 0,void 0,args,void 0)}return args.push(methodName),this._then(caller,void 0,void 0,args,void 0)},Promise.prototype.get=function(propertyName){var getter;if("number"==typeof propertyName)getter=indexedGetter;else if(canEvaluate){var maybeGetter=getGetter(propertyName);getter=null!==maybeGetter?maybeGetter:namedGetter}else getter=namedGetter;return this._then(getter,void 0,void 0,propertyName,void 0)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,apiRejection,INTERNAL,tryConvertToPromise,Proxyable,debug){var TypeError=__webpack_require__(13).TypeError,util=__webpack_require__(1),errorObj=util.errorObj,tryCatch=util.tryCatch,yieldHandlers=[];function PromiseSpawn(generatorFunction,receiver,yieldHandler,stack){if(debug.cancellation()){var internal=new Promise(INTERNAL),_finallyPromise=this._finallyPromise=new Promise(INTERNAL);this._promise=internal.lastly((function(){return _finallyPromise})),internal._captureStackTrace(),internal._setOnCancel(this)}else{(this._promise=new Promise(INTERNAL))._captureStackTrace()}this._stack=stack,this._generatorFunction=generatorFunction,this._receiver=receiver,this._generator=void 0,this._yieldHandlers="function"==typeof yieldHandler?[yieldHandler].concat(yieldHandlers):yieldHandlers,this._yieldedPromise=null,this._cancellationPhase=!1}util.inherits(PromiseSpawn,Proxyable),PromiseSpawn.prototype._isResolved=function(){return null===this._promise},PromiseSpawn.prototype._cleanup=function(){this._promise=this._generator=null,debug.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},PromiseSpawn.prototype._promiseCancelled=function(){if(!this._isResolved()){var result;if(void 0!==this._generator.return)this._promise._pushContext(),result=tryCatch(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var reason=new Promise.CancellationError("generator .return() sentinel");Promise.coroutine.returnSentinel=reason,this._promise._attachExtraTrace(reason),this._promise._pushContext(),result=tryCatch(this._generator.throw).call(this._generator,reason),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(result)}},PromiseSpawn.prototype._promiseFulfilled=function(value){this._yieldedPromise=null,this._promise._pushContext();var result=tryCatch(this._generator.next).call(this._generator,value);this._promise._popContext(),this._continue(result)},PromiseSpawn.prototype._promiseRejected=function(reason){this._yieldedPromise=null,this._promise._attachExtraTrace(reason),this._promise._pushContext();var result=tryCatch(this._generator.throw).call(this._generator,reason);this._promise._popContext(),this._continue(result)},PromiseSpawn.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof Promise){var promise=this._yieldedPromise;this._yieldedPromise=null,promise.cancel()}},PromiseSpawn.prototype.promise=function(){return this._promise},PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},PromiseSpawn.prototype._continue=function(result){var promise=this._promise;if(result===errorObj)return this._cleanup(),this._cancellationPhase?promise.cancel():promise._rejectCallback(result.e,!1);var value=result.value;if(!0===result.done)return this._cleanup(),this._cancellationPhase?promise.cancel():promise._resolveCallback(value);var maybePromise=tryConvertToPromise(value,this._promise);if(maybePromise instanceof Promise||null!==(maybePromise=function(value,yieldHandlers,traceParent){for(var i=0;i<yieldHandlers.length;++i){traceParent._pushContext();var result=tryCatch(yieldHandlers[i])(value);if(traceParent._popContext(),result===errorObj){traceParent._pushContext();var ret=Promise.reject(errorObj.e);return traceParent._popContext(),ret}var maybePromise=tryConvertToPromise(result,traceParent);if(maybePromise instanceof Promise)return maybePromise}return null}(maybePromise,this._yieldHandlers,this._promise))){var bitField=(maybePromise=maybePromise._target())._bitField;0==(50397184&bitField)?(this._yieldedPromise=maybePromise,maybePromise._proxy(this,null)):0!=(33554432&bitField)?Promise._async.invoke(this._promiseFulfilled,this,maybePromise._value()):0!=(16777216&bitField)?Promise._async.invoke(this._promiseRejected,this,maybePromise._reason()):this._promiseCancelled()}else this._promiseRejected(new TypeError("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(value))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},Promise.coroutine=function(generatorFunction,options){if("function"!=typeof generatorFunction)throw new TypeError("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var yieldHandler=Object(options).yieldHandler,PromiseSpawn$=PromiseSpawn,stack=(new Error).stack;return function(){var generator=generatorFunction.apply(this,arguments),spawn=new PromiseSpawn$(void 0,void 0,yieldHandler,stack),ret=spawn.promise();return spawn._generator=generator,spawn._promiseFulfilled(void 0),ret}},Promise.coroutine.addYieldHandler=function(fn){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));yieldHandlers.push(fn)},Promise.spawn=function(generatorFunction){if(debug.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof generatorFunction)return apiRejection("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var spawn=new PromiseSpawn(generatorFunction,this),ret=spawn.promise();return spawn._run(Promise.spawn),ret}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug){var util=__webpack_require__(1),tryCatch=util.tryCatch,errorObj=util.errorObj,async=Promise._async;function MappingPromiseArray(promises,fn,limit,_filter){this.constructor$(promises),this._promise._captureStackTrace();var context=Promise._getContext();if(this._callback=util.contextBind(context,fn),this._preservedValues=_filter===INTERNAL?new Array(this.length()):null,this._limit=limit,this._inFlight=0,this._queue=[],async.invoke(this._asyncInit,this,void 0),util.isArray(promises))for(var i=0;i<promises.length;++i){var maybePromise=promises[i];maybePromise instanceof Promise&&maybePromise.suppressUnhandledRejections()}}function map(promises,fn,options,_filter){if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var limit=0;if(void 0!==options){if("object"!=typeof options||null===options)return Promise.reject(new TypeError("options argument must be an object but it is "+util.classString(options)));if("number"!=typeof options.concurrency)return Promise.reject(new TypeError("'concurrency' must be a number but it is "+util.classString(options.concurrency)));limit=options.concurrency}return new MappingPromiseArray(promises,fn,limit="number"==typeof limit&&isFinite(limit)&&limit>=1?limit:0,_filter).promise()}util.inherits(MappingPromiseArray,PromiseArray),MappingPromiseArray.prototype._asyncInit=function(){this._init$(void 0,-2)},MappingPromiseArray.prototype._init=function(){},MappingPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values,length=this.length(),preservedValues=this._preservedValues,limit=this._limit;if(index<0){if(values[index=-1*index-1]=value,limit>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(limit>=1&&this._inFlight>=limit)return values[index]=value,this._queue.push(index),!1;null!==preservedValues&&(preservedValues[index]=value);var promise=this._promise,callback=this._callback,receiver=promise._boundValue();promise._pushContext();var ret=tryCatch(callback).call(receiver,value,index,length),promiseCreated=promise._popContext();if(debug.checkForgottenReturns(ret,promiseCreated,null!==preservedValues?"Promise.filter":"Promise.map",promise),ret===errorObj)return this._reject(ret.e),!0;var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){var bitField=(maybePromise=maybePromise._target())._bitField;if(0==(50397184&bitField))return limit>=1&&this._inFlight++,values[index]=maybePromise,maybePromise._proxy(this,-1*(index+1)),!1;if(0==(33554432&bitField))return 0!=(16777216&bitField)?(this._reject(maybePromise._reason()),!0):(this._cancel(),!0);ret=maybePromise._value()}values[index]=ret}return++this._totalResolved>=length&&(null!==preservedValues?this._filter(values,preservedValues):this._resolve(values),!0)},MappingPromiseArray.prototype._drainQueue=function(){for(var queue=this._queue,limit=this._limit,values=this._values;queue.length>0&&this._inFlight<limit;){if(this._isResolved())return;var index=queue.pop();this._promiseFulfilled(values[index],index)}},MappingPromiseArray.prototype._filter=function(booleans,values){for(var len=values.length,ret=new Array(len),j=0,i=0;i<len;++i)booleans[i]&&(ret[j++]=values[i]);ret.length=j,this._resolve(ret)},MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues},Promise.prototype.map=function(fn,options){return map(this,fn,options,null)},Promise.map=function(promises,fn,options,_filter){return map(promises,fn,options,_filter)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise){var util=__webpack_require__(1),async=Promise._async,tryCatch=util.tryCatch,errorObj=util.errorObj;function spreadAdapter(val,nodeback){if(!util.isArray(val))return successAdapter.call(this,val,nodeback);var ret=tryCatch(nodeback).apply(this._boundValue(),[null].concat(val));ret===errorObj&&async.throwLater(ret.e)}function successAdapter(val,nodeback){var receiver=this._boundValue(),ret=void 0===val?tryCatch(nodeback).call(receiver,null):tryCatch(nodeback).call(receiver,null,val);ret===errorObj&&async.throwLater(ret.e)}function errorAdapter(reason,nodeback){if(!reason){var newReason=new Error(reason+"");newReason.cause=reason,reason=newReason}var ret=tryCatch(nodeback).call(this._boundValue(),reason);ret===errorObj&&async.throwLater(ret.e)}Promise.prototype.asCallback=Promise.prototype.nodeify=function(nodeback,options){if("function"==typeof nodeback){var adapter=successAdapter;void 0!==options&&Object(options).spread&&(adapter=spreadAdapter),this._then(adapter,errorAdapter,void 0,this,nodeback)}return this}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL){var THIS={},util=__webpack_require__(1),nodebackForPromise=__webpack_require__(80),withAppended=util.withAppended,maybeWrapAsError=util.maybeWrapAsError,canEvaluate=util.canEvaluate,TypeError=__webpack_require__(13).TypeError,defaultPromisified={__isPromisified__:!0},noCopyPropsPattern=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),defaultFilter=function(name){return util.isIdentifier(name)&&"_"!==name.charAt(0)&&"constructor"!==name};function propsFilter(key){return!noCopyPropsPattern.test(key)}function isPromisified(fn){try{return!0===fn.__isPromisified__}catch(e){return!1}}function hasPromisified(obj,key,suffix){var val=util.getDataPropertyOrDefault(obj,key+suffix,defaultPromisified);return!!val&&isPromisified(val)}function promisifiableMethods(obj,suffix,suffixRegexp,filter){for(var keys=util.inheritedDataKeys(obj),ret=[],i=0;i<keys.length;++i){var key=keys[i],value=obj[key],passesDefaultFilter=filter===defaultFilter||defaultFilter(key);"function"!=typeof value||isPromisified(value)||hasPromisified(obj,key,suffix)||!filter(key,value,obj,passesDefaultFilter)||ret.push(key,value)}return function(ret,suffix,suffixRegexp){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(suffixRegexp.test(key))for(var keyWithoutAsyncSuffix=key.replace(suffixRegexp,""),j=0;j<ret.length;j+=2)if(ret[j]===keyWithoutAsyncSuffix)throw new TypeError("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",suffix))}}(ret,suffix,suffixRegexp),ret}var makeNodePromisified=canEvaluate?function(callback,receiver,originalName,fn,_,multiArgs){var newParameterCount=Math.max(0,function(fn){return"number"==typeof fn.length?Math.max(Math.min(fn.length,1024),0):0}(fn)-1),argumentOrder=function(likelyArgumentCount){for(var ret=[likelyArgumentCount],min=Math.max(0,likelyArgumentCount-1-3),i=likelyArgumentCount-1;i>=min;--i)ret.push(i);for(i=likelyArgumentCount+1;i<=3;++i)ret.push(i);return ret}(newParameterCount),shouldProxyThis="string"==typeof callback||receiver===THIS;function generateCallForArgumentCount(count){var argumentCount,args=(argumentCount=count,util.filledRange(argumentCount,"_arg","")).join(", "),comma=count>0?", ":"";return(shouldProxyThis?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===receiver?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n").replace("{{args}}",args).replace(", ",comma)}var getFunctionCode="string"==typeof callback?"this != null ? this['"+callback+"'] : fn":"fn",body="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+multiArgs+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",function(){for(var ret="",i=0;i<argumentOrder.length;++i)ret+="case "+argumentOrder[i]+":"+generateCallForArgumentCount(argumentOrder[i]);return ret+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",shouldProxyThis?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n")}()).replace("[GetFunctionCode]",getFunctionCode);return body=body.replace("Parameters",function(parameterCount){return util.filledRange(Math.max(parameterCount,3),"_arg","")}(newParameterCount)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",body)(Promise,fn,receiver,withAppended,maybeWrapAsError,nodebackForPromise,util.tryCatch,util.errorObj,util.notEnumerableProp,INTERNAL)}:function(callback,receiver,_,fn,__,multiArgs){var defaultThis=function(){return this}(),method=callback;function promisified(){var _receiver=receiver;receiver===THIS&&(_receiver=this);var promise=new Promise(INTERNAL);promise._captureStackTrace();var cb="string"==typeof method&&this!==defaultThis?this[method]:callback,fn=nodebackForPromise(promise,multiArgs);try{cb.apply(_receiver,withAppended(arguments,fn))}catch(e){promise._rejectCallback(maybeWrapAsError(e),!0,!0)}return promise._isFateSealed()||promise._setAsyncGuaranteed(),promise}return"string"==typeof method&&(callback=fn),util.notEnumerableProp(promisified,"__isPromisified__",!0),promisified};function promisifyAll(obj,suffix,filter,promisifier,multiArgs){for(var suffixRegexp=new RegExp(suffix.replace(/([$])/,"\\$")+"$"),methods=promisifiableMethods(obj,suffix,suffixRegexp,filter),i=0,len=methods.length;i<len;i+=2){var key=methods[i],fn=methods[i+1],promisifiedKey=key+suffix;if(promisifier===makeNodePromisified)obj[promisifiedKey]=makeNodePromisified(key,THIS,key,fn,suffix,multiArgs);else{var promisified=promisifier(fn,(function(){return makeNodePromisified(key,THIS,key,fn,suffix,multiArgs)}));util.notEnumerableProp(promisified,"__isPromisified__",!0),obj[promisifiedKey]=promisified}}return util.toFastProperties(obj),obj}Promise.promisify=function(fn,options){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));if(isPromisified(fn))return fn;var ret=function(callback,receiver,multiArgs){return makeNodePromisified(callback,receiver,void 0,callback,null,multiArgs)}(fn,void 0===(options=Object(options)).context?THIS:options.context,!!options.multiArgs);return util.copyDescriptors(fn,ret,propsFilter),ret},Promise.promisifyAll=function(target,options){if("function"!=typeof target&&"object"!=typeof target)throw new TypeError("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var multiArgs=!!(options=Object(options)).multiArgs,suffix=options.suffix;"string"!=typeof suffix&&(suffix="Async");var filter=options.filter;"function"!=typeof filter&&(filter=defaultFilter);var promisifier=options.promisifier;if("function"!=typeof promisifier&&(promisifier=makeNodePromisified),!util.isIdentifier(suffix))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var keys=util.inheritedDataKeys(target),i=0;i<keys.length;++i){var value=target[keys[i]];"constructor"!==keys[i]&&util.isClass(value)&&(promisifyAll(value.prototype,suffix,filter,promisifier,multiArgs),promisifyAll(value,suffix,filter,promisifier,multiArgs))}return promisifyAll(target,suffix,filter,promisifier,multiArgs)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,apiRejection){var Es6Map,util=__webpack_require__(1),isObject=util.isObject,es5=__webpack_require__(16);"function"==typeof Map&&(Es6Map=Map);var mapToEntries=function(){var index=0,size=0;function extractEntry(value,key){this[index]=value,this[index+size]=key,index++}return function(map){size=map.size,index=0;var ret=new Array(2*map.size);return map.forEach(extractEntry,ret),ret}}();function PropertiesPromiseArray(obj){var entries,isMap=!1;if(void 0!==Es6Map&&obj instanceof Es6Map)entries=mapToEntries(obj),isMap=!0;else{var keys=es5.keys(obj),len=keys.length;entries=new Array(2*len);for(var i=0;i<len;++i){var key=keys[i];entries[i]=obj[key],entries[i+len]=key}}this.constructor$(entries),this._isMap=isMap,this._init$(void 0,isMap?-6:-3)}function props(promises){var ret,castValue=tryConvertToPromise(promises);return isObject(castValue)?(ret=castValue instanceof Promise?castValue._then(Promise.props,void 0,void 0,void 0,void 0):new PropertiesPromiseArray(castValue).promise(),castValue instanceof Promise&&ret._propagateFrom(castValue,2),ret):apiRejection("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}util.inherits(PropertiesPromiseArray,PromiseArray),PropertiesPromiseArray.prototype._init=function(){},PropertiesPromiseArray.prototype._promiseFulfilled=function(value,index){if(this._values[index]=value,++this._totalResolved>=this._length){var val;if(this._isMap)val=function(entries){for(var ret=new Es6Map,length=entries.length/2|0,i=0;i<length;++i){var key=entries[length+i],value=entries[i];ret.set(key,value)}return ret}(this._values);else{val={};for(var keyOffset=this.length(),i=0,len=this.length();i<len;++i)val[this._values[i+keyOffset]]=this._values[i]}return this._resolve(val),!0}return!1},PropertiesPromiseArray.prototype.shouldCopyValues=function(){return!1},PropertiesPromiseArray.prototype.getActualLength=function(len){return len>>1},Promise.prototype.props=function(){return props(this)},Promise.props=function(promises){return props(promises)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){var util=__webpack_require__(1);function race(promises,parent){var promise,maybePromise=tryConvertToPromise(promises);if(maybePromise instanceof Promise)return(promise=maybePromise).then((function(array){return race(array,promise)}));if(null===(promises=util.asArray(promises)))return apiRejection("expecting an array or an iterable object but got "+util.classString(promises));var ret=new Promise(INTERNAL);void 0!==parent&&ret._propagateFrom(parent,3);for(var fulfill=ret._fulfill,reject=ret._reject,i=0,len=promises.length;i<len;++i){var val=promises[i];(void 0!==val||i in promises)&&Promise.cast(val)._then(fulfill,reject,void 0,ret,null)}return ret}Promise.race=function(promises){return race(promises,void 0)},Promise.prototype.race=function(){return race(this,void 0)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug){var util=__webpack_require__(1),tryCatch=util.tryCatch;function ReductionPromiseArray(promises,fn,initialValue,_each){this.constructor$(promises);var context=Promise._getContext();this._fn=util.contextBind(context,fn),void 0!==initialValue&&(initialValue=Promise.resolve(initialValue))._attachCancellationCallback(this),this._initialValue=initialValue,this._currentCancellable=null,this._eachValues=_each===INTERNAL?Array(this._length):0===_each?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function completed(valueOrReason,array){this.isFulfilled()?array._resolve(valueOrReason):array._reject(valueOrReason)}function reduce(promises,fn,initialValue,_each){return"function"!=typeof fn?apiRejection("expecting a function but got "+util.classString(fn)):new ReductionPromiseArray(promises,fn,initialValue,_each).promise()}function gotAccum(accum){this.accum=accum,this.array._gotAccum(accum);var value=tryConvertToPromise(this.value,this.array._promise);return value instanceof Promise?(this.array._currentCancellable=value,value._then(gotValue,void 0,void 0,this,void 0)):gotValue.call(this,value)}function gotValue(value){var ret,array=this.array,promise=array._promise,fn=tryCatch(array._fn);promise._pushContext(),(ret=void 0!==array._eachValues?fn.call(promise._boundValue(),value,this.index,this.length):fn.call(promise._boundValue(),this.accum,value,this.index,this.length))instanceof Promise&&(array._currentCancellable=ret);var promiseCreated=promise._popContext();return debug.checkForgottenReturns(ret,promiseCreated,void 0!==array._eachValues?"Promise.each":"Promise.reduce",promise),ret}util.inherits(ReductionPromiseArray,PromiseArray),ReductionPromiseArray.prototype._gotAccum=function(accum){void 0!==this._eachValues&&null!==this._eachValues&&accum!==INTERNAL&&this._eachValues.push(accum)},ReductionPromiseArray.prototype._eachComplete=function(value){return null!==this._eachValues&&this._eachValues.push(value),this._eachValues},ReductionPromiseArray.prototype._init=function(){},ReductionPromiseArray.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},ReductionPromiseArray.prototype.shouldCopyValues=function(){return!1},ReductionPromiseArray.prototype._resolve=function(value){this._promise._resolveCallback(value),this._values=null},ReductionPromiseArray.prototype._resultCancelled=function(sender){if(sender===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof Promise&&this._currentCancellable.cancel(),this._initialValue instanceof Promise&&this._initialValue.cancel())},ReductionPromiseArray.prototype._iterate=function(values){var value,i;this._values=values;var length=values.length;void 0!==this._initialValue?(value=this._initialValue,i=0):(value=Promise.resolve(values[0]),i=1),this._currentCancellable=value;for(var j=i;j<length;++j){var maybePromise=values[j];maybePromise instanceof Promise&&maybePromise.suppressUnhandledRejections()}if(!value.isRejected())for(;i<length;++i){var ctx={accum:null,value:values[i],index:i,length:length,array:this};value=value._then(gotAccum,void 0,void 0,ctx,void 0),0==(127&i)&&value._setNoAsyncGuarantee()}void 0!==this._eachValues&&(value=value._then(this._eachComplete,void 0,void 0,this,void 0)),value._then(completed,completed,void 0,value,this)},Promise.prototype.reduce=function(fn,initialValue){return reduce(this,fn,initialValue,null)},Promise.reduce=function(promises,fn,initialValue,_each){return reduce(promises,fn,initialValue,_each)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,PromiseArray,debug){var PromiseInspection=Promise.PromiseInspection;function SettledPromiseArray(values){this.constructor$(values)}__webpack_require__(1).inherits(SettledPromiseArray,PromiseArray),SettledPromiseArray.prototype._promiseResolved=function(index,inspection){return this._values[index]=inspection,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},SettledPromiseArray.prototype._promiseFulfilled=function(value,index){var ret=new PromiseInspection;return ret._bitField=33554432,ret._settledValueField=value,this._promiseResolved(index,ret)},SettledPromiseArray.prototype._promiseRejected=function(reason,index){var ret=new PromiseInspection;return ret._bitField=16777216,ret._settledValueField=reason,this._promiseResolved(index,ret)},Promise.settle=function(promises){return debug.deprecated(".settle()",".reflect()"),new SettledPromiseArray(promises).promise()},Promise.allSettled=function(promises){return new SettledPromiseArray(promises).promise()},Promise.prototype.settle=function(){return Promise.settle(this)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,PromiseArray,apiRejection){var util=__webpack_require__(1),RangeError=__webpack_require__(13).RangeError,AggregateError=__webpack_require__(13).AggregateError,isArray=util.isArray,CANCELLATION={};function SomePromiseArray(values){this.constructor$(values),this._howMany=0,this._unwrap=!1,this._initialized=!1}function some(promises,howMany){if((0|howMany)!==howMany||howMany<0)return apiRejection("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(howMany),ret.init(),promise}util.inherits(SomePromiseArray,PromiseArray),SomePromiseArray.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var isArrayResolved=isArray(this._values);!this._isResolved()&&isArrayResolved&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},SomePromiseArray.prototype.init=function(){this._initialized=!0,this._init()},SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=!0},SomePromiseArray.prototype.howMany=function(){return this._howMany},SomePromiseArray.prototype.setHowMany=function(count){this._howMany=count},SomePromiseArray.prototype._promiseFulfilled=function(value){return this._addFulfilled(value),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},SomePromiseArray.prototype._promiseRejected=function(reason){return this._addRejected(reason),this._checkOutcome()},SomePromiseArray.prototype._promiseCancelled=function(){return this._values instanceof Promise||null==this._values?this._cancel():(this._addRejected(CANCELLATION),this._checkOutcome())},SomePromiseArray.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new AggregateError,i=this.length();i<this._values.length;++i)this._values[i]!==CANCELLATION&&e.push(this._values[i]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved},SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length()},SomePromiseArray.prototype._addRejected=function(reason){this._values.push(reason)},SomePromiseArray.prototype._addFulfilled=function(value){this._values[this._totalResolved++]=value},SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},SomePromiseArray.prototype._getRangeError=function(count){var message="Input array must contain at least "+this._howMany+" items but contains only "+count+" items";return new RangeError(message)},SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},Promise.some=function(promises,howMany){return some(promises,howMany)},Promise.prototype.some=function(howMany){return some(this,howMany)},Promise._SomePromiseArray=SomePromiseArray}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL,debug){var util=__webpack_require__(1),TimeoutError=Promise.TimeoutError;function HandleWrapper(handle){this.handle=handle}HandleWrapper.prototype._resultCancelled=function(){clearTimeout(this.handle)};var afterValue=function(value){return delay(+this).thenReturn(value)},delay=Promise.delay=function(ms,value){var ret,handle;return void 0!==value?(ret=Promise.resolve(value)._then(afterValue,null,null,ms,void 0),debug.cancellation()&&value instanceof Promise&&ret._setOnCancel(value)):(ret=new Promise(INTERNAL),handle=setTimeout((function(){ret._fulfill()}),+ms),debug.cancellation()&&ret._setOnCancel(new HandleWrapper(handle)),ret._captureStackTrace()),ret._setAsyncGuaranteed(),ret};Promise.prototype.delay=function(ms){return delay(ms,this)};function successClear(value){return clearTimeout(this.handle),value}function failureClear(reason){throw clearTimeout(this.handle),reason}Promise.prototype.timeout=function(ms,message){var ret,parent;ms=+ms;var handleWrapper=new HandleWrapper(setTimeout((function(){ret.isPending()&&function(promise,message,parent){var err;err="string"!=typeof message?message instanceof Error?message:new TimeoutError("operation timed out"):new TimeoutError(message),util.markAsOriginatingFromRejection(err),promise._attachExtraTrace(err),promise._reject(err),null!=parent&&parent.cancel()}(ret,message,parent)}),ms));return debug.cancellation()?(parent=this.then(),(ret=parent._then(successClear,failureClear,void 0,handleWrapper,void 0))._setOnCancel(handleWrapper)):ret=this._then(successClear,failureClear,void 0,handleWrapper,void 0),ret}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,apiRejection,tryConvertToPromise,createContext,INTERNAL,debug){var util=__webpack_require__(1),TypeError=__webpack_require__(13).TypeError,inherits=__webpack_require__(1).inherits,errorObj=util.errorObj,tryCatch=util.tryCatch,NULL={};function thrower(e){setTimeout((function(){throw e}),0)}function dispose(resources,inspection){var i=0,len=resources.length,ret=new Promise(INTERNAL);return function iterator(){if(i>=len)return ret._fulfill();var maybePromise=function(thenable){var maybePromise=tryConvertToPromise(thenable);return maybePromise!==thenable&&"function"==typeof thenable._isDisposable&&"function"==typeof thenable._getDisposer&&thenable._isDisposable()&&maybePromise._setDisposable(thenable._getDisposer()),maybePromise}(resources[i++]);if(maybePromise instanceof Promise&&maybePromise._isDisposable()){try{maybePromise=tryConvertToPromise(maybePromise._getDisposer().tryDispose(inspection),resources.promise)}catch(e){return thrower(e)}if(maybePromise instanceof Promise)return maybePromise._then(iterator,thrower,null,null,null)}iterator()}(),ret}function Disposer(data,promise,context){this._data=data,this._promise=promise,this._context=context}function FunctionDisposer(fn,promise,context){this.constructor$(fn,promise,context)}function maybeUnwrapDisposer(value){return Disposer.isDisposer(value)?(this.resources[this.index]._setDisposable(value),value.promise()):value}function ResourceList(length){this.length=length,this.promise=null,this[length-1]=null}Disposer.prototype.data=function(){return this._data},Disposer.prototype.promise=function(){return this._promise},Disposer.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():NULL},Disposer.prototype.tryDispose=function(inspection){var resource=this.resource(),context=this._context;void 0!==context&&context._pushContext();var ret=resource!==NULL?this.doDispose(resource,inspection):null;return void 0!==context&&context._popContext(),this._promise._unsetDisposable(),this._data=null,ret},Disposer.isDisposer=function(d){return null!=d&&"function"==typeof d.resource&&"function"==typeof d.tryDispose},inherits(FunctionDisposer,Disposer),FunctionDisposer.prototype.doDispose=function(resource,inspection){return this.data().call(resource,resource,inspection)},ResourceList.prototype._resultCancelled=function(){for(var len=this.length,i=0;i<len;++i){var item=this[i];item instanceof Promise&&item.cancel()}},Promise.using=function(){var len=arguments.length;if(len<2)return apiRejection("you must pass at least 2 arguments to Promise.using");var input,fn=arguments[len-1];if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var spreadArgs=!0;2===len&&Array.isArray(arguments[0])?(len=(input=arguments[0]).length,spreadArgs=!1):(input=arguments,len--);for(var resources=new ResourceList(len),i=0;i<len;++i){var resource=input[i];if(Disposer.isDisposer(resource)){var disposer=resource;(resource=resource.promise())._setDisposable(disposer)}else{var maybePromise=tryConvertToPromise(resource);maybePromise instanceof Promise&&(resource=maybePromise._then(maybeUnwrapDisposer,null,null,{resources:resources,index:i},void 0))}resources[i]=resource}var reflectedResources=new Array(resources.length);for(i=0;i<reflectedResources.length;++i)reflectedResources[i]=Promise.resolve(resources[i]).reflect();var resultPromise=Promise.all(reflectedResources).then((function(inspections){for(var i=0;i<inspections.length;++i){var inspection=inspections[i];if(inspection.isRejected())return errorObj.e=inspection.error(),errorObj;if(!inspection.isFulfilled())return void resultPromise.cancel();inspections[i]=inspection.value()}promise._pushContext(),fn=tryCatch(fn);var ret=spreadArgs?fn.apply(void 0,inspections):fn(inspections),promiseCreated=promise._popContext();return debug.checkForgottenReturns(ret,promiseCreated,"Promise.using",promise),ret})),promise=resultPromise.lastly((function(){var inspection=new Promise.PromiseInspection(resultPromise);return dispose(resources,inspection)}));return resources.promise=promise,promise._setOnCancel(resources),promise},Promise.prototype._setDisposable=function(disposer){this._bitField=131072|this._bitField,this._disposer=disposer},Promise.prototype._isDisposable=function(){return(131072&this._bitField)>0},Promise.prototype._getDisposer=function(){return this._disposer},Promise.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},Promise.prototype.disposer=function(fn){if("function"==typeof fn)return new FunctionDisposer(fn,this,createContext());throw new TypeError}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise){var SomePromiseArray=Promise._SomePromiseArray;function any(promises){var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(1),ret.setUnwrap(),ret.init(),promise}Promise.any=function(promises){return any(promises)},Promise.prototype.any=function(){return any(this)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL){var PromiseReduce=Promise.reduce,PromiseAll=Promise.all;function promiseAllThis(){return PromiseAll(this)}Promise.prototype.each=function(fn){return PromiseReduce(this,fn,INTERNAL,0)._then(promiseAllThis,void 0,void 0,this,void 0)},Promise.prototype.mapSeries=function(fn){return PromiseReduce(this,fn,INTERNAL,INTERNAL)},Promise.each=function(promises,fn){return PromiseReduce(promises,fn,INTERNAL,0)._then(promiseAllThis,void 0,void 0,promises,void 0)},Promise.mapSeries=function(promises,fn){return PromiseReduce(promises,fn,INTERNAL,INTERNAL)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL){var PromiseMap=Promise.map;Promise.prototype.filter=function(fn,options){return PromiseMap(this,fn,options,INTERNAL)},Promise.filter=function(promises,fn,options){return PromiseMap(promises,fn,options,INTERNAL)}}},function(module,exports,__webpack_require__){"use strict";function setIfDefined(obj,prop,value){null!=value&&(obj[prop]=value)}var EMPTY_OPTIONS=Object.freeze({}),Args={assertQueue:function(queue,options){queue=queue||"",options=options||EMPTY_OPTIONS;var argt=Object.create(options.arguments||null);return setIfDefined(argt,"x-expires",options.expires),setIfDefined(argt,"x-message-ttl",options.messageTtl),setIfDefined(argt,"x-dead-letter-exchange",options.deadLetterExchange),setIfDefined(argt,"x-dead-letter-routing-key",options.deadLetterRoutingKey),setIfDefined(argt,"x-max-length",options.maxLength),setIfDefined(argt,"x-max-priority",options.maxPriority),setIfDefined(argt,"x-overflow",options.overflow),setIfDefined(argt,"x-queue-mode",options.queueMode),{queue:queue,exclusive:!!options.exclusive,durable:void 0===options.durable||options.durable,autoDelete:!!options.autoDelete,arguments:argt,passive:!1,ticket:0,nowait:!1}},checkQueue:function(queue){return{queue:queue,passive:!0,nowait:!1,durable:!0,autoDelete:!1,exclusive:!1,ticket:0}},deleteQueue:function(queue,options){return{queue:queue,ifUnused:!!(options=options||EMPTY_OPTIONS).ifUnused,ifEmpty:!!options.ifEmpty,ticket:0,nowait:!1}},purgeQueue:function(queue){return{queue:queue,ticket:0,nowait:!1}},bindQueue:function(queue,source,pattern,argt){return{queue:queue,exchange:source,routingKey:pattern,arguments:argt,ticket:0,nowait:!1}},unbindQueue:function(queue,source,pattern,argt){return{queue:queue,exchange:source,routingKey:pattern,arguments:argt,ticket:0,nowait:!1}},assertExchange:function(exchange,type,options){options=options||EMPTY_OPTIONS;var argt=Object.create(options.arguments||null);return setIfDefined(argt,"alternate-exchange",options.alternateExchange),{exchange:exchange,ticket:0,type:type,passive:!1,durable:void 0===options.durable||options.durable,autoDelete:!!options.autoDelete,internal:!!options.internal,nowait:!1,arguments:argt}},checkExchange:function(exchange){return{exchange:exchange,passive:!0,nowait:!1,durable:!0,internal:!1,type:"",autoDelete:!1,ticket:0}},deleteExchange:function(exchange,options){return{exchange:exchange,ifUnused:!!(options=options||EMPTY_OPTIONS).ifUnused,ticket:0,nowait:!1}},bindExchange:function(dest,source,pattern,argt){return{source:source,destination:dest,routingKey:pattern,arguments:argt,ticket:0,nowait:!1}},unbindExchange:function(dest,source,pattern,argt){return{source:source,destination:dest,routingKey:pattern,arguments:argt,ticket:0,nowait:!1}},publish:function(exchange,routingKey,options){function convertCC(cc){return void 0===cc?void 0:Array.isArray(cc)?cc.map(String):[String(cc)]}options=options||EMPTY_OPTIONS;var deliveryMode,headers=Object.create(options.headers||null);setIfDefined(headers,"CC",convertCC(options.CC)),setIfDefined(headers,"BCC",convertCC(options.BCC)),void 0!==options.persistent?deliveryMode=options.persistent?2:1:"number"==typeof options.deliveryMode?deliveryMode=options.deliveryMode:options.deliveryMode&&(deliveryMode=2);var expiration=options.expiration;return void 0!==expiration&&(expiration=expiration.toString()),{exchange:exchange,routingKey:routingKey,mandatory:!!options.mandatory,immediate:!1,ticket:void 0,contentType:options.contentType,contentEncoding:options.contentEncoding,headers:headers,deliveryMode:deliveryMode,priority:options.priority,correlationId:options.correlationId,replyTo:options.replyTo,expiration:expiration,messageId:options.messageId,timestamp:options.timestamp,type:options.type,userId:options.userId,appId:options.appId,clusterId:void 0}},consume:function(queue,options){options=options||EMPTY_OPTIONS;var argt=Object.create(options.arguments||null);return setIfDefined(argt,"x-priority",options.priority),{ticket:0,queue:queue,consumerTag:options.consumerTag||"",noLocal:!!options.noLocal,noAck:!!options.noAck,exclusive:!!options.exclusive,nowait:!1,arguments:argt}},cancel:function(consumerTag){return{consumerTag:consumerTag,nowait:!1}},get:function(queue,options){return{ticket:0,queue:queue,noAck:!!(options=options||EMPTY_OPTIONS).noAck}},ack:function(tag,allUpTo){return{deliveryTag:tag,multiple:!!allUpTo}},nack:function(tag,allUpTo,requeue){return{deliveryTag:tag,multiple:!!allUpTo,requeue:void 0===requeue||requeue}},reject:function(tag,requeue){return{deliveryTag:tag,requeue:void 0===requeue||requeue}},prefetch:function(count,global){return{prefetchCount:count||0,prefetchSize:0,global:!!global}},recover:function(){return{requeue:!0}}};module.exports=Object.freeze(Args)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const utils_1=__webpack_require__(32);let AmqpMessage=(()=>{class AmqpMessage{constructor(opts){this.blackListed=()=>!(!this.discardMine||this.receiverId!==this.senderId||this.fromApi())||!(!this.discardFromApi||!this.fromApi()),this.fromApi=()=>this.message.properties.headers&&this.message.properties.headers[AmqpMessage.FROM_API_HEADER],this.ack=(opts={})=>{const{allUpTo:allUpTo=!1}=opts;this.channel.ack(this.message,allUpTo)},this.nack=(opts={})=>{const{allUpTo:allUpTo=!1,requeue:requeue=!0}=opts;this.channel.nack(this.message,allUpTo,requeue)},this.getContent=()=>this.content,this.getProperties=()=>this.message.properties,this.getFields=()=>this.message.fields,this.getChannelName=()=>this.channelName;const{message:message,receiverId:receiverId="",channel:channel,subscriptionOpts:subscriptionOpts={}}=opts,{discardMine:discardMine=!1,discardFromApi:discardFromApi=!1}=subscriptionOpts;this.message=message,this.content=utils_1.parseContent(message?message.content:{}),this.channel=channel;try{const[senderId,channelName]=this.message.fields.routingKey.split(".");this.senderId=senderId,this.channelName=channelName}catch(ex){console.error("Wrong routing key format")}this.receiverId=receiverId,this.discardMine=discardMine,this.discardFromApi=discardFromApi}}return AmqpMessage.FROM_API_HEADER="x-from-sb-api",AmqpMessage})();exports.default=AmqpMessage},function(module,exports,__webpack_require__){module.exports=__webpack_require__(196)},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(3),bind=__webpack_require__(82),Axios=__webpack_require__(197),mergeConfig=__webpack_require__(91);function createInstance(defaultConfig){var context=new Axios(defaultConfig),instance=bind(Axios.prototype.request,context);return utils.extend(instance,Axios.prototype,context),utils.extend(instance,context),instance}var axios=createInstance(__webpack_require__(84));axios.Axios=Axios,axios.create=function(instanceConfig){return createInstance(mergeConfig(axios.defaults,instanceConfig))},axios.Cancel=__webpack_require__(92),axios.CancelToken=__webpack_require__(216),axios.isCancel=__webpack_require__(83),axios.all=function(promises){return Promise.all(promises)},axios.spread=__webpack_require__(217),module.exports=axios,module.exports.default=axios},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(3),buildURL=__webpack_require__(51),InterceptorManager=__webpack_require__(198),dispatchRequest=__webpack_require__(199),mergeConfig=__webpack_require__(91);function Axios(instanceConfig){this.defaults=instanceConfig,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios.prototype.request=function(config){"string"==typeof config?(config=arguments[1]||{}).url=arguments[0]:config=config||{},(config=mergeConfig(this.defaults,config)).method?config.method=config.method.toLowerCase():this.defaults.method?config.method=this.defaults.method.toLowerCase():config.method="get";var chain=[dispatchRequest,void 0],promise=Promise.resolve(config);for(this.interceptors.request.forEach((function(interceptor){chain.unshift(interceptor.fulfilled,interceptor.rejected)})),this.interceptors.response.forEach((function(interceptor){chain.push(interceptor.fulfilled,interceptor.rejected)}));chain.length;)promise=promise.then(chain.shift(),chain.shift());return promise},Axios.prototype.getUri=function(config){return config=mergeConfig(this.defaults,config),buildURL(config.url,config.params,config.paramsSerializer).replace(/^\?/,"")},utils.forEach(["delete","get","head","options"],(function(method){Axios.prototype[method]=function(url,config){return this.request(utils.merge(config||{},{method:method,url:url}))}})),utils.forEach(["post","put","patch"],(function(method){Axios.prototype[method]=function(url,data,config){return this.request(utils.merge(config||{},{method:method,url:url,data:data}))}})),module.exports=Axios},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(3);function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function(fulfilled,rejected){return this.handlers.push({fulfilled:fulfilled,rejected:rejected}),this.handlers.length-1},InterceptorManager.prototype.eject=function(id){this.handlers[id]&&(this.handlers[id]=null)},InterceptorManager.prototype.forEach=function(fn){utils.forEach(this.handlers,(function(h){null!==h&&fn(h)}))},module.exports=InterceptorManager},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(3),transformData=__webpack_require__(200),isCancel=__webpack_require__(83),defaults=__webpack_require__(84);function throwIfCancellationRequested(config){config.cancelToken&&config.cancelToken.throwIfRequested()}module.exports=function(config){return throwIfCancellationRequested(config),config.headers=config.headers||{},config.data=transformData(config.data,config.headers,config.transformRequest),config.headers=utils.merge(config.headers.common||{},config.headers[config.method]||{},config.headers),utils.forEach(["delete","get","head","post","put","patch","common"],(function(method){delete config.headers[method]})),(config.adapter||defaults.adapter)(config).then((function(response){return throwIfCancellationRequested(config),response.data=transformData(response.data,response.headers,config.transformResponse),response}),(function(reason){return isCancel(reason)||(throwIfCancellationRequested(config),reason&&reason.response&&(reason.response.data=transformData(reason.response.data,reason.response.headers,config.transformResponse))),Promise.reject(reason)}))}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(3);module.exports=function(data,headers,fns){return utils.forEach(fns,(function(fn){data=fn(data,headers)})),data}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(3);module.exports=function(headers,normalizedName){utils.forEach(headers,(function(value,name){name!==normalizedName&&name.toUpperCase()===normalizedName.toUpperCase()&&(headers[normalizedName]=value,delete headers[name])}))}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(3),settle=__webpack_require__(85),buildURL=__webpack_require__(51),buildFullPath=__webpack_require__(87),parseHeaders=__webpack_require__(205),isURLSameOrigin=__webpack_require__(206),createError=__webpack_require__(52);module.exports=function(config){return new Promise((function(resolve,reject){var requestData=config.data,requestHeaders=config.headers;utils.isFormData(requestData)&&delete requestHeaders["Content-Type"];var request=new XMLHttpRequest;if(config.auth){var username=config.auth.username||"",password=config.auth.password||"";requestHeaders.Authorization="Basic "+btoa(username+":"+password)}var fullPath=buildFullPath(config.baseURL,config.url);if(request.open(config.method.toUpperCase(),buildURL(fullPath,config.params,config.paramsSerializer),!0),request.timeout=config.timeout,request.onreadystatechange=function(){if(request&&4===request.readyState&&(0!==request.status||request.responseURL&&0===request.responseURL.indexOf("file:"))){var responseHeaders="getAllResponseHeaders"in request?parseHeaders(request.getAllResponseHeaders()):null,response={data:config.responseType&&"text"!==config.responseType?request.response:request.responseText,status:request.status,statusText:request.statusText,headers:responseHeaders,config:config,request:request};settle(resolve,reject,response),request=null}},request.onabort=function(){request&&(reject(createError("Request aborted",config,"ECONNABORTED",request)),request=null)},request.onerror=function(){reject(createError("Network Error",config,null,request)),request=null},request.ontimeout=function(){var timeoutErrorMessage="timeout of "+config.timeout+"ms exceeded";config.timeoutErrorMessage&&(timeoutErrorMessage=config.timeoutErrorMessage),reject(createError(timeoutErrorMessage,config,"ECONNABORTED",request)),request=null},utils.isStandardBrowserEnv()){var cookies=__webpack_require__(207),xsrfValue=(config.withCredentials||isURLSameOrigin(fullPath))&&config.xsrfCookieName?cookies.read(config.xsrfCookieName):void 0;xsrfValue&&(requestHeaders[config.xsrfHeaderName]=xsrfValue)}if("setRequestHeader"in request&&utils.forEach(requestHeaders,(function(val,key){void 0===requestData&&"content-type"===key.toLowerCase()?delete requestHeaders[key]:request.setRequestHeader(key,val)})),utils.isUndefined(config.withCredentials)||(request.withCredentials=!!config.withCredentials),config.responseType)try{request.responseType=config.responseType}catch(e){if("json"!==config.responseType)throw e}"function"==typeof config.onDownloadProgress&&request.addEventListener("progress",config.onDownloadProgress),"function"==typeof config.onUploadProgress&&request.upload&&request.upload.addEventListener("progress",config.onUploadProgress),config.cancelToken&&config.cancelToken.promise.then((function(cancel){request&&(request.abort(),reject(cancel),request=null)})),void 0===requestData&&(requestData=null),request.send(requestData)}))}},function(module,exports,__webpack_require__){"use strict";module.exports=function(url){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(baseURL,relativeURL){return relativeURL?baseURL.replace(/\/+$/,"")+"/"+relativeURL.replace(/^\/+/,""):baseURL}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(3),ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(headers){var key,val,i,parsed={};return headers?(utils.forEach(headers.split("\n"),(function(line){if(i=line.indexOf(":"),key=utils.trim(line.substr(0,i)).toLowerCase(),val=utils.trim(line.substr(i+1)),key){if(parsed[key]&&ignoreDuplicateOf.indexOf(key)>=0)return;parsed[key]="set-cookie"===key?(parsed[key]?parsed[key]:[]).concat([val]):parsed[key]?parsed[key]+", "+val:val}})),parsed):parsed}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(3);module.exports=utils.isStandardBrowserEnv()?function(){var originURL,msie=/(msie|trident)/i.test(navigator.userAgent),urlParsingNode=document.createElement("a");function resolveURL(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}return originURL=resolveURL(window.location.href),function(requestURL){var parsed=utils.isString(requestURL)?resolveURL(requestURL):requestURL;return parsed.protocol===originURL.protocol&&parsed.host===originURL.host}}():function(){return!0}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(3);module.exports=utils.isStandardBrowserEnv()?{write:function(name,value,expires,path,domain,secure){var cookie=[];cookie.push(name+"="+encodeURIComponent(value)),utils.isNumber(expires)&&cookie.push("expires="+new Date(expires).toGMTString()),utils.isString(path)&&cookie.push("path="+path),utils.isString(domain)&&cookie.push("domain="+domain),!0===secure&&cookie.push("secure"),document.cookie=cookie.join("; ")},read:function(name){var match=document.cookie.match(new RegExp("(^|;\\s*)("+name+")=([^;]*)"));return match?decodeURIComponent(match[3]):null},remove:function(name){this.write(name,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(3),settle=__webpack_require__(85),buildFullPath=__webpack_require__(87),buildURL=__webpack_require__(51),http=__webpack_require__(36),https=__webpack_require__(53),httpFollow=__webpack_require__(88).http,httpsFollow=__webpack_require__(88).https,url=__webpack_require__(20),zlib=__webpack_require__(90),pkg=__webpack_require__(215),createError=__webpack_require__(52),enhanceError=__webpack_require__(86),isHttps=/https:?/;module.exports=function(config){return new Promise((function(resolvePromise,rejectPromise){var resolve=function(value){resolvePromise(value)},reject=function(value){rejectPromise(value)},data=config.data,headers=config.headers;if(headers["User-Agent"]||headers["user-agent"]||(headers["User-Agent"]="axios/"+pkg.version),data&&!utils.isStream(data)){if(Buffer.isBuffer(data));else if(utils.isArrayBuffer(data))data=Buffer.from(new Uint8Array(data));else{if(!utils.isString(data))return reject(createError("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",config));data=Buffer.from(data,"utf-8")}headers["Content-Length"]=data.length}var auth=void 0;config.auth&&(auth=(config.auth.username||"")+":"+(config.auth.password||""));var fullPath=buildFullPath(config.baseURL,config.url),parsed=url.parse(fullPath),protocol=parsed.protocol||"http:";if(!auth&&parsed.auth){var urlAuth=parsed.auth.split(":");auth=(urlAuth[0]||"")+":"+(urlAuth[1]||"")}auth&&delete headers.Authorization;var isHttpsRequest=isHttps.test(protocol),agent=isHttpsRequest?config.httpsAgent:config.httpAgent,options={path:buildURL(parsed.path,config.params,config.paramsSerializer).replace(/^\?/,""),method:config.method.toUpperCase(),headers:headers,agent:agent,agents:{http:config.httpAgent,https:config.httpsAgent},auth:auth};config.socketPath?options.socketPath=config.socketPath:(options.hostname=parsed.hostname,options.port=parsed.port);var transport,proxy=config.proxy;if(!proxy&&!1!==proxy){var proxyEnv=protocol.slice(0,-1)+"_proxy",proxyUrl=process.env[proxyEnv]||process.env[proxyEnv.toUpperCase()];if(proxyUrl){var parsedProxyUrl=url.parse(proxyUrl),noProxyEnv=process.env.no_proxy||process.env.NO_PROXY,shouldProxy=!0;if(noProxyEnv)shouldProxy=!noProxyEnv.split(",").map((function(s){return s.trim()})).some((function(proxyElement){return!!proxyElement&&("*"===proxyElement||("."===proxyElement[0]&&parsed.hostname.substr(parsed.hostname.length-proxyElement.length)===proxyElement||parsed.hostname===proxyElement))}));if(shouldProxy&&(proxy={host:parsedProxyUrl.hostname,port:parsedProxyUrl.port},parsedProxyUrl.auth)){var proxyUrlAuth=parsedProxyUrl.auth.split(":");proxy.auth={username:proxyUrlAuth[0],password:proxyUrlAuth[1]}}}}if(proxy&&(options.hostname=proxy.host,options.host=proxy.host,options.headers.host=parsed.hostname+(parsed.port?":"+parsed.port:""),options.port=proxy.port,options.path=protocol+"//"+parsed.hostname+(parsed.port?":"+parsed.port:"")+options.path,proxy.auth)){var base64=Buffer.from(proxy.auth.username+":"+proxy.auth.password,"utf8").toString("base64");options.headers["Proxy-Authorization"]="Basic "+base64}var isHttpsProxy=isHttpsRequest&&(!proxy||isHttps.test(proxy.protocol));config.transport?transport=config.transport:0===config.maxRedirects?transport=isHttpsProxy?https:http:(config.maxRedirects&&(options.maxRedirects=config.maxRedirects),transport=isHttpsProxy?httpsFollow:httpFollow),config.maxContentLength&&config.maxContentLength>-1&&(options.maxBodyLength=config.maxContentLength);var req=transport.request(options,(function(res){if(!req.aborted){var stream=res;switch(res.headers["content-encoding"]){case"gzip":case"compress":case"deflate":stream=204===res.statusCode?stream:stream.pipe(zlib.createUnzip()),delete res.headers["content-encoding"]}var lastRequest=res.req||req,response={status:res.statusCode,statusText:res.statusMessage,headers:res.headers,config:config,request:lastRequest};if("stream"===config.responseType)response.data=stream,settle(resolve,reject,response);else{var responseBuffer=[];stream.on("data",(function(chunk){responseBuffer.push(chunk),config.maxContentLength>-1&&Buffer.concat(responseBuffer).length>config.maxContentLength&&(stream.destroy(),reject(createError("maxContentLength size of "+config.maxContentLength+" exceeded",config,null,lastRequest)))})),stream.on("error",(function(err){req.aborted||reject(enhanceError(err,config,null,lastRequest))})),stream.on("end",(function(){var responseData=Buffer.concat(responseBuffer);"arraybuffer"!==config.responseType&&(responseData=responseData.toString(config.responseEncoding)),response.data=responseData,settle(resolve,reject,response)}))}}}));req.on("error",(function(err){req.aborted||reject(enhanceError(err,config,null,req))})),config.timeout&&req.setTimeout(config.timeout,(function(){req.abort(),reject(createError("timeout of "+config.timeout+"ms exceeded",config,"ECONNABORTED",req))})),config.cancelToken&&config.cancelToken.promise.then((function(cancel){req.aborted||(req.abort(),reject(cancel))})),utils.isStream(data)?data.on("error",(function(err){reject(enhanceError(err,config,null,req))})).pipe(req):req.end(data)}))}},function(module,exports,__webpack_require__){"undefined"==typeof process||"renderer"===process.type?module.exports=__webpack_require__(210):module.exports=__webpack_require__(212)},function(module,exports,__webpack_require__){function load(){var r;try{r=exports.storage.debug}catch(e){}return!r&&"undefined"!=typeof process&&"env"in process&&(r=process.env.DEBUG),r}(exports=module.exports=__webpack_require__(89)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},exports.formatArgs=function(args){var useColors=this.useColors;if(args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff),!useColors)return;var c="color: "+this.color;args.splice(1,0,c,"color: inherit");var index=0,lastC=0;args[0].replace(/%[a-zA-Z%]/g,(function(match){"%%"!==match&&(index++,"%c"===match&&(lastC=index))})),args.splice(lastC,0,c)},exports.save=function(namespaces){try{null==namespaces?exports.storage.removeItem("debug"):exports.storage.debug=namespaces}catch(e){}},exports.load=load,exports.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},exports.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],exports.formatters.j=function(v){try{return JSON.stringify(v)}catch(err){return"[UnexpectedJSONParseError]: "+err.message}},exports.enable(load())},function(module,exports){var s=1e3,m=6e4,h=60*m,d=24*h;function plural(ms,n,name){if(!(ms<n))return ms<1.5*n?Math.floor(ms/n)+" "+name:Math.ceil(ms/n)+" "+name+"s"}module.exports=function(val,options){options=options||{};var ms,type=typeof val;if("string"===type&&val.length>0)return function(str){if((str=String(str)).length>100)return;var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(!match)return;var n=parseFloat(match[1]);switch((match[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(val);if("number"===type&&!1===isNaN(val))return options.long?plural(ms=val,d,"day")||plural(ms,h,"hour")||plural(ms,m,"minute")||plural(ms,s,"second")||ms+" ms":function(ms){if(ms>=d)return Math.round(ms/d)+"d";if(ms>=h)return Math.round(ms/h)+"h";if(ms>=m)return Math.round(ms/m)+"m";if(ms>=s)return Math.round(ms/s)+"s";return ms+"ms"}(val);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(val))}},function(module,exports,__webpack_require__){var tty=__webpack_require__(46),util=__webpack_require__(0);(exports=module.exports=__webpack_require__(89)).init=function(debug){debug.inspectOpts={};for(var keys=Object.keys(exports.inspectOpts),i=0;i<keys.length;i++)debug.inspectOpts[keys[i]]=exports.inspectOpts[keys[i]]},exports.log=function(){return process.stderr.write(util.format.apply(util,arguments)+"\n")},exports.formatArgs=function(args){var name=this.namespace;if(this.useColors){var c=this.color,colorCode="[3"+(c<8?c:"8;5;"+c),prefix="  "+colorCode+";1m"+name+" [0m";args[0]=prefix+args[0].split("\n").join("\n"+prefix),args.push(colorCode+"m+"+exports.humanize(this.diff)+"[0m")}else args[0]=(exports.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+name+" "+args[0]},exports.save=function(namespaces){null==namespaces?delete process.env.DEBUG:process.env.DEBUG=namespaces},exports.load=load,exports.useColors=function(){return"colors"in exports.inspectOpts?Boolean(exports.inspectOpts.colors):tty.isatty(process.stderr.fd)},exports.colors=[6,2,3,4,5,1];try{var supportsColor=__webpack_require__(213);supportsColor&&supportsColor.level>=2&&(exports.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(err){}function load(){return process.env.DEBUG}exports.inspectOpts=Object.keys(process.env).filter((function(key){return/^debug_/i.test(key)})).reduce((function(obj,key){var prop=key.substring(6).toLowerCase().replace(/_([a-z])/g,(function(_,k){return k.toUpperCase()})),val=process.env[key];return val=!!/^(yes|on|true|enabled)$/i.test(val)||!/^(no|off|false|disabled)$/i.test(val)&&("null"===val?null:Number(val)),obj[prop]=val,obj}),{}),exports.formatters.o=function(v){return this.inspectOpts.colors=this.useColors,util.inspect(v,this.inspectOpts).split("\n").map((function(str){return str.trim()})).join(" ")},exports.formatters.O=function(v){return this.inspectOpts.colors=this.useColors,util.inspect(v,this.inspectOpts)},exports.enable(load())},function(module,exports,__webpack_require__){"use strict";const os=__webpack_require__(54),tty=__webpack_require__(46),hasFlag=__webpack_require__(214),{env:env}=process;let forceColor;function translateLevel(level){return 0!==level&&{level:level,hasBasic:!0,has256:level>=2,has16m:level>=3}}function supportsColor(haveStream,streamIsTTY){if(0===forceColor)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(haveStream&&!streamIsTTY&&void 0===forceColor)return 0;const min=forceColor||0;if("dumb"===env.TERM)return min;if("win32"===process.platform){const osRelease=os.release().split(".");return Number(osRelease[0])>=10&&Number(osRelease[2])>=10586?Number(osRelease[2])>=14931?3:2:1}if("CI"in env)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(sign=>sign in env)||"codeship"===env.CI_NAME?1:min;if("TEAMCITY_VERSION"in env)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in env)return 1;if("truecolor"===env.COLORTERM)return 3;if("TERM_PROGRAM"in env){const version=parseInt((env.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env.TERM_PROGRAM){case"iTerm.app":return version>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)||"COLORTERM"in env?1:min}hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")||hasFlag("color=never")?forceColor=0:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(forceColor=1),"FORCE_COLOR"in env&&(forceColor="true"===env.FORCE_COLOR?1:"false"===env.FORCE_COLOR?0:0===env.FORCE_COLOR.length?1:Math.min(parseInt(env.FORCE_COLOR,10),3)),module.exports={supportsColor:function(stream){return translateLevel(supportsColor(stream,stream&&stream.isTTY))},stdout:translateLevel(supportsColor(!0,tty.isatty(1))),stderr:translateLevel(supportsColor(!0,tty.isatty(2)))}},function(module,exports,__webpack_require__){"use strict";module.exports=(flag,argv=process.argv)=>{const prefix=flag.startsWith("-")?"":1===flag.length?"-":"--",position=argv.indexOf(prefix+flag),terminatorPosition=argv.indexOf("--");return-1!==position&&(-1===terminatorPosition||position<terminatorPosition)}},function(module){module.exports=JSON.parse('{"name":"axios","version":"0.19.2","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test && bundlesize","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://github.com/axios/axios","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"typings":"./index.d.ts","dependencies":{"follow-redirects":"1.5.10"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(module,exports,__webpack_require__){"use strict";var Cancel=__webpack_require__(92);function CancelToken(executor){if("function"!=typeof executor)throw new TypeError("executor must be a function.");var resolvePromise;this.promise=new Promise((function(resolve){resolvePromise=resolve}));var token=this;executor((function(message){token.reason||(token.reason=new Cancel(message),resolvePromise(token.reason))}))}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.source=function(){var cancel;return{token:new CancelToken((function(c){cancel=c})),cancel:cancel}},module.exports=CancelToken},function(module,exports,__webpack_require__){"use strict";module.exports=function(callback){return function(arr){return callback.apply(null,arr)}}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,_processKeys,camelize,pascalize,decamelize,toString,_isFunction,_isObject,_isArray,_isDate,_isRegExp,_isBoolean,_isNumerical,_processor;_processKeys=function(convert,obj,options){if(!_isObject(obj)||_isDate(obj)||_isRegExp(obj)||_isBoolean(obj)||_isFunction(obj))return obj;var output,i=0,l=0;if(_isArray(obj))for(output=[],l=obj.length;i<l;i++)output.push(_processKeys(convert,obj[i],options));else for(var key in output={},obj)Object.prototype.hasOwnProperty.call(obj,key)&&(output[convert(key,options)]=_processKeys(convert,obj[key],options));return output},camelize=function(string){return _isNumerical(string)?string:(string=string.replace(/[\-_\s]+(.)?/g,(function(match,chr){return chr?chr.toUpperCase():""}))).substr(0,1).toLowerCase()+string.substr(1)},pascalize=function(string){var camelized=camelize(string);return camelized.substr(0,1).toUpperCase()+camelized.substr(1)},decamelize=function(string,options){return function(string,options){var separator=(options=options||{}).separator||"_",split=options.split||/(?=[A-Z])/;return string.split(split).join(separator)}(string,options).toLowerCase()},toString=Object.prototype.toString,_isFunction=function(obj){return"function"==typeof obj},_isObject=function(obj){return obj===Object(obj)},_isArray=function(obj){return"[object Array]"==toString.call(obj)},_isDate=function(obj){return"[object Date]"==toString.call(obj)},_isRegExp=function(obj){return"[object RegExp]"==toString.call(obj)},_isBoolean=function(obj){return"[object Boolean]"==toString.call(obj)},_isNumerical=function(obj){return(obj-=0)==obj},_processor=function(convert,options){var callback=options&&"process"in options?options.process:options;return"function"!=typeof callback?convert:function(string,options){return callback(string,convert,options)}},void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__={camelize:camelize,decamelize:decamelize,pascalize:pascalize,depascalize:decamelize,camelizeKeys:function(object,options){return _processKeys(_processor(camelize,options),object)},decamelizeKeys:function(object,options){return _processKeys(_processor(decamelize,options),object,options)},pascalizeKeys:function(object,options){return _processKeys(_processor(pascalize,options),object)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}})?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,definition;definition=function(){function normalize(strArray){var resultArray=[];if(0===strArray.length)return"";if("string"!=typeof strArray[0])throw new TypeError("Url must be a string. Received "+strArray[0]);if(strArray[0].match(/^[^/:]+:\/*$/)&&strArray.length>1){var first=strArray.shift();strArray[0]=first+strArray[0]}strArray[0].match(/^file:\/\/\//)?strArray[0]=strArray[0].replace(/^([^/:]+):\/*/,"$1:///"):strArray[0]=strArray[0].replace(/^([^/:]+):\/*/,"$1://");for(var i=0;i<strArray.length;i++){var component=strArray[i];if("string"!=typeof component)throw new TypeError("Url must be a string. Received "+component);""!==component&&(i>0&&(component=component.replace(/^[\/]+/,"")),component=i<strArray.length-1?component.replace(/[\/]+$/,""):component.replace(/[\/]+$/,"/"),resultArray.push(component))}var str=resultArray.join("/"),parts=(str=str.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return str=parts.shift()+(parts.length>0?"?":"")+parts.join("&")}return function(){return normalize("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},module.exports?module.exports=definition():void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=definition)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports){exports=module.exports=function(){for(var value,ret="",i=0;i<32;i++)value=16*exports.random()|0,i>4&&i<21&&!(i%4)&&(ret+="-"),ret+=(12===i?4:16===i?3&value|8:value).toString(16);return ret};var uuidRegex=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/;exports.isUUID=function(uuid){return uuidRegex.test(uuid)},exports.random=function(){return Math.random()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(11),util_1=__webpack_require__(0),amqpClient_1=tslib_1.__importDefault(__webpack_require__(67));class AmqpStreamClient extends amqpClient_1.default{constructor(opts={}){super(opts),this.streamFrom=(streamHooks=[],opts={})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){const hooks=Array.isArray(streamHooks)?streamHooks:[streamHooks],names=[];for(let index=0;index<hooks.length;index+=1){const streamHook=hooks[index],name=this.addAmqpStreamListener(streamHook,opts);yield this.bindAmqpStreamListener(name),names.push(name)}return names})),this.removeAmqpStreamListener=name=>tslib_1.__awaiter(this,void 0,void 0,(function*(){util_1.isNullOrUndefined(this.amqpStreamListeners[name])?this.log("error",`AMQP listener ${name} does not exist.`):(yield this.unsubscribe(this.amqpStreamListeners[name].consumerTag),delete this.amqpStreamListeners[name])})),this.clearStreamConsumers=()=>{const names=Object.keys(this.amqpStreamListeners);for(let index=0;index<names.length;index+=1){const name=names[index];delete this.amqpStreamListeners[name].consumerTag}},this.addAmqpStreamListener=(streamHook,opts={})=>{const name="subscription-"+(new Date).getTime();return this.amqpStreamListeners[name]={streamHook:streamHook,opts:opts},name},this.bindAmqpStreamListeners=()=>tslib_1.__awaiter(this,void 0,void 0,(function*(){const names=Object.keys(this.amqpStreamListeners);for(let index=0;index<names.length;index+=1){const name=names[index];yield this.bindAmqpStreamListener(name)}})),this.bindAmqpStreamListener=name=>tslib_1.__awaiter(this,void 0,void 0,(function*(){if(util_1.isNullOrUndefined(this.amqpStreamListeners[name]))return void this.log("error",`Listner ${name} does not exist.`);if(!util_1.isNullOrUndefined(this.amqpStreamListeners[name].consumerTag))return void this.log("warn",`Listner ${name} already bound to a consumer.`);const{streamHook:streamHook,opts:opts}=this.amqpStreamListeners[name],{stream:stream,deviceId:deviceId,channel:channel,cache:cache=!0,topic:topic,routingKey:routingKey,callback:callback}=streamHook,noAck=util_1.isNullOrUndefined(opts.ack);if(util_1.isNullOrUndefined(stream)&&(util_1.isNullOrUndefined(channel)||util_1.isNullOrUndefined(deviceId)))throw new Error(this.getClassName()+" - Missing Stream or Device ID and Channel");if(util_1.isNullOrUndefined(callback))throw new Error(this.getClassName()+" - Missing Callback");const currentTime=(new Date).getTime();let tempQueue,streamName;const ch=yield this.createChannel("input");try{if(stream){if(!this.liveStreamExists(stream))throw new Error(`${this.getClassName()} - Stream ${stream} does not exist`);if(cache)tempQueue=this.cachedStreamQueue(stream),streamName=tempQueue,yield ch.checkQueue(tempQueue);else{const streamExchange=this.exchangeName(stream,this.liveStreamSuffix);streamName=streamExchange,tempQueue=this.tempQueue(stream,this.liveStreamSuffix,currentTime),yield ch.checkExchange(streamExchange),yield ch.assertQueue(tempQueue,this.streamQueueArguments),yield ch.bindQueue(tempQueue,streamExchange,routingKey)}}else{const channelExchangeName=this.exchangeName(deviceId,channel);streamName=channelExchangeName,tempQueue=this.tempQueue(deviceId,channel,currentTime),yield ch.checkExchange(channelExchangeName),yield ch.assertQueue(tempQueue,this.streamQueueArguments),yield ch.bindQueue(tempQueue,channelExchangeName,this.streamRoutingKeyFor({deviceId:deviceId,channel:channel,routingKey:routingKey,topic:topic}))}const{consumerTag:consumerTag}=yield ch.consume(tempQueue,this.consumeCallback.bind(this,ch,callback,opts),{noAck:noAck});this.log("debug",`Streaming from ${streamName}..`),this.amqpStreamListeners[name].consumerTag=consumerTag}catch(error){throw this.log("error","Error adding stream hook",streamHook),error}})),this.cachedStreamQueue=streamName=>`${streamName}.${this.liveStreamSuffix}`,this.streamRoutingKeyFor=(opts={})=>{const{deviceId:deviceId="",channel:channel="",routingKey:routingKey="",topic:topic=""}=opts;if(0===routingKey.length&&0===deviceId.length)return this.defaultStreamRoutingKey;if(routingKey.length>0)return routingKey;let streamRoutingKey=deviceId||"";return channel&&(streamRoutingKey+="."+channel),topic&&(streamRoutingKey+="."+topic),""+streamRoutingKey},this.defaultStreamRoutingKey="#",this.streamQueueArguments={exclusive:!0,autoDelete:!0,durable:!1},this.amqpStreamListeners={},this.on("connect",()=>{this.bindAmqpStreamListeners()}),this.on("disconnect",()=>{this.amqpStreamListeners={}}),this.on("channelClose",()=>{this.clearStreamConsumers()})}}delete AmqpStreamClient.prototype.onMessage,delete AmqpStreamClient.prototype.publish,exports.default=AmqpStreamClient},function(module,exports,__webpack_require__){"use strict";const mqtt=__webpack_require__(55);mqtt.MqttClient.prototype;class AsyncClient{constructor(client){this._client=client}set handleMessage(newHandler){this._client.handleMessage=newHandler}get handleMessage(){return this._client.handleMessage}get connected(){return this._client.connected}get reconnecting(){return this._client.reconnecting}publish(...args){return new Promise((resolve,reject)=>{this._client.publish(...args,(err,result)=>{err?reject(err):resolve(result)})})}subscribe(...args){return new Promise((resolve,reject)=>{this._client.subscribe(...args,(err,result)=>{err?reject(err):resolve(result)})})}unsubscribe(...args){return new Promise((resolve,reject)=>{this._client.unsubscribe(...args,(err,result)=>{err?reject(err):resolve(result)})})}end(...args){return new Promise((resolve,reject)=>{this._client.end(...args,(err,result)=>{err?reject(err):resolve(result)})})}reconnect(...args){return this._client.reconnect(...args)}addListener(...args){return this._client.addListener(...args)}emit(...args){return this._client.emit(...args)}eventNames(...args){return this._client.eventNames(...args)}getLastMessageId(...args){return this._client.getLastMessageId(...args)}getMaxListeners(...args){return this._client.getMaxListeners(...args)}listenerCount(...args){return this._client.listenerCount(...args)}listeners(...args){return this._client.listeners(...args)}off(...args){return this._client.off(...args)}on(...args){return this._client.on(...args)}once(...args){return this._client.once(...args)}prependListener(...args){return this._client.prependListener(...args)}prependOnceListener(...args){return this._client.prependOnceListener(...args)}rawListeners(...args){return this._client.rawListeners(...args)}removeAllListeners(...args){return this._client.removeAllListeners(...args)}removeListener(...args){return this._client.removeListener(...args)}removeOutgoingMessage(...args){return this._client.removeOutgoingMessage(...args)}setMaxListeners(...args){return this._client.setMaxListeners(...args)}}module.exports={connect(brokerURL,opts){const client=mqtt.connect(brokerURL,opts);return new AsyncClient(client)},connectAsync(brokerURL,opts,allowRetries=!0){const client=mqtt.connect(brokerURL,opts),asyncClient=new AsyncClient(client);return new Promise((resolve,reject)=>{const promiseResolutionListeners={connect:connack=>{removePromiseResolutionListeners(),resolve(asyncClient)},end:()=>{removePromiseResolutionListeners(),resolve(asyncClient)},error:err=>{removePromiseResolutionListeners(),client.end(),reject(err)}};!1===allowRetries&&(promiseResolutionListeners.close=()=>{promiseResolutionListeners.error("Couldn't connect to server")});const removePromiseResolutionListeners=()=>{Object.keys(promiseResolutionListeners).forEach(eventName=>{client.removeListener(eventName,promiseResolutionListeners[eventName])})};Object.keys(promiseResolutionListeners).forEach(eventName=>{client.on(eventName,promiseResolutionListeners[eventName])})})},AsyncClient:AsyncClient}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(37).Buffer,util=__webpack_require__(0);module.exports=function(){function BufferList(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length},BufferList.prototype.unshift=function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret},BufferList.prototype.concat=function(n){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var src,target,offset,ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)src=p.data,target=ret,offset=i,src.copy(target,offset),i+=p.data.length,p=p.next;return ret},BufferList}(),util&&util.inspect&&util.inspect.custom&&(module.exports.prototype[util.inspect.custom]=function(){var obj=util.inspect({length:this.length});return this.constructor.name+" "+obj})},function(module,exports,__webpack_require__){module.exports=__webpack_require__(0).deprecate},function(module,exports,__webpack_require__){"use strict";module.exports=PassThrough;var Transform=__webpack_require__(100),util=Object.create(__webpack_require__(8));function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}util.inherits=__webpack_require__(2),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(228)()?Map:__webpack_require__(229)},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var map,result;if("function"!=typeof Map)return!1;try{map=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(e){return!1}return"[object Map]"===String(map)&&(3===map.size&&("function"==typeof map.clear&&("function"==typeof map.delete&&("function"==typeof map.entries&&("function"==typeof map.forEach&&("function"==typeof map.get&&("function"==typeof map.has&&("function"==typeof map.keys&&("function"==typeof map.set&&("function"==typeof map.values&&(!1===(result=map.entries().next()).done&&(!!result.value&&("raz"===result.value[0]&&"one"===result.value[1])))))))))))))}},function(module,exports,__webpack_require__){"use strict";var MapPoly,clear=__webpack_require__(101),eIndexOf=__webpack_require__(231),setPrototypeOf=__webpack_require__(38),callable=__webpack_require__(17),validValue=__webpack_require__(10),d=__webpack_require__(9),ee=__webpack_require__(250),Symbol=__webpack_require__(14),iterator=__webpack_require__(109),forOf=__webpack_require__(260),Iterator=__webpack_require__(278),isNative=__webpack_require__(281),call=Function.prototype.call,defineProperties=Object.defineProperties,getPrototypeOf=Object.getPrototypeOf;module.exports=MapPoly=function(){var keys,values,self,iterable=arguments[0];if(!(this instanceof MapPoly))throw new TypeError("Constructor requires 'new'");return self=isNative&&setPrototypeOf&&Map!==MapPoly?setPrototypeOf(new Map,getPrototypeOf(this)):this,null!=iterable&&iterator(iterable),defineProperties(self,{__mapKeysData__:d("c",keys=[]),__mapValuesData__:d("c",values=[])}),iterable?(forOf(iterable,(function(value){var key=validValue(value)[0];value=value[1],-1===eIndexOf.call(keys,key)&&(keys.push(key),values.push(value))}),self),self):self},isNative&&(setPrototypeOf&&setPrototypeOf(MapPoly,Map),MapPoly.prototype=Object.create(Map.prototype,{constructor:d(MapPoly)})),ee(defineProperties(MapPoly.prototype,{clear:d((function(){this.__mapKeysData__.length&&(clear.call(this.__mapKeysData__),clear.call(this.__mapValuesData__),this.emit("_clear"))})),delete:d((function(key){var index=eIndexOf.call(this.__mapKeysData__,key);return-1!==index&&(this.__mapKeysData__.splice(index,1),this.__mapValuesData__.splice(index,1),this.emit("_delete",index,key),!0)})),entries:d((function(){return new Iterator(this,"key+value")})),forEach:d((function(cb){var iterator,result,thisArg=arguments[1];for(callable(cb),result=(iterator=this.entries())._next();void 0!==result;)call.call(cb,thisArg,this.__mapValuesData__[result],this.__mapKeysData__[result],this),result=iterator._next()})),get:d((function(key){var index=eIndexOf.call(this.__mapKeysData__,key);if(-1!==index)return this.__mapValuesData__[index]})),has:d((function(key){return-1!==eIndexOf.call(this.__mapKeysData__,key)})),keys:d((function(){return new Iterator(this,"key")})),set:d((function(key,value){var emit,index=eIndexOf.call(this.__mapKeysData__,key);return-1===index&&(index=this.__mapKeysData__.push(key)-1,emit=!0),this.__mapValuesData__[index]=value,emit&&this.emit("_add",index,key),this})),size:d.gs((function(){return this.__mapKeysData__.length})),values:d((function(){return new Iterator(this,"value")})),toString:d((function(){return"[object Map]"}))})),Object.defineProperty(MapPoly.prototype,Symbol.iterator,d((function(){return this.entries()}))),Object.defineProperty(MapPoly.prototype,Symbol.toStringTag,d("c","Map"))},function(module,exports,__webpack_require__){"use strict";module.exports=function(){}},function(module,exports,__webpack_require__){"use strict";var numberIsNaN=__webpack_require__(232),toPosInt=__webpack_require__(102),value=__webpack_require__(10),indexOf=Array.prototype.indexOf,objHasOwnProperty=Object.prototype.hasOwnProperty,abs=Math.abs,floor=Math.floor;module.exports=function(searchElement){var i,length,fromIndex,val;if(!numberIsNaN(searchElement))return indexOf.apply(this,arguments);for(length=toPosInt(value(this).length),fromIndex=arguments[1],i=fromIndex=isNaN(fromIndex)?0:fromIndex>=0?floor(fromIndex):toPosInt(this.length)-floor(abs(fromIndex));i<length;++i)if(objHasOwnProperty.call(this,i)&&(val=this[i],numberIsNaN(val)))return i;return-1}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(233)()?Number.isNaN:__webpack_require__(234)},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var numberIsNaN=Number.isNaN;return"function"==typeof numberIsNaN&&(!numberIsNaN({})&&numberIsNaN(NaN)&&!numberIsNaN(34))}},function(module,exports,__webpack_require__){"use strict";module.exports=function(value){return value!=value}},function(module,exports,__webpack_require__){"use strict";var sign=__webpack_require__(236),abs=Math.abs,floor=Math.floor;module.exports=function(value){return isNaN(value)?0:0!==(value=Number(value))&&isFinite(value)?sign(value)*floor(abs(value)):value}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(237)()?Math.sign:__webpack_require__(238)},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var sign=Math.sign;return"function"==typeof sign&&(1===sign(10)&&-1===sign(-20))}},function(module,exports,__webpack_require__){"use strict";module.exports=function(value){return value=Number(value),isNaN(value)||0===value?value:value>0?1:-1}},function(module,exports,__webpack_require__){"use strict";var isValue=__webpack_require__(23),map={function:!0,object:!0};module.exports=function(value){return isValue(value)&&map[typeof value]||!1}},function(module,exports,__webpack_require__){"use strict";var shim,nullObject,polyProps,desc,create=Object.create;__webpack_require__(103)()||(shim=__webpack_require__(104)),module.exports=shim?1!==shim.level?create:(nullObject={},polyProps={},desc={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(name){polyProps[name]="__proto__"!==name?desc:{configurable:!0,enumerable:!1,writable:!0,value:void 0}})),Object.defineProperties(nullObject,polyProps),Object.defineProperty(shim,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:nullObject}),function(prototype,props){return create(null===prototype?nullObject:prototype,props)}):create},function(module,exports,__webpack_require__){"use strict";var isPrototype=__webpack_require__(242);module.exports=function(value){if("function"!=typeof value)return!1;if(!hasOwnProperty.call(value,"length"))return!1;try{if("number"!=typeof value.length)return!1;if("function"!=typeof value.call)return!1;if("function"!=typeof value.apply)return!1}catch(error){return!1}return!isPrototype(value)}},function(module,exports,__webpack_require__){"use strict";var isObject=__webpack_require__(57);module.exports=function(value){if(!isObject(value))return!1;try{return!!value.constructor&&value.constructor.prototype===value}catch(error){return!1}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var obj,assign=Object.assign;return"function"==typeof assign&&(assign(obj={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),obj.foo+obj.bar+obj.trzy==="razdwatrzy")}},function(module,exports,__webpack_require__){"use strict";var keys=__webpack_require__(245),value=__webpack_require__(10),max=Math.max;module.exports=function(dest,src){var error,i,assign,length=max(arguments.length,2);for(dest=Object(value(dest)),assign=function(key){try{dest[key]=src[key]}catch(e){error||(error=e)}},i=1;i<length;++i)src=arguments[i],keys(src).forEach(assign);if(void 0!==error)throw error;return dest}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(246)()?Object.keys:__webpack_require__(247)},function(module,exports,__webpack_require__){"use strict";module.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(module,exports,__webpack_require__){"use strict";var isValue=__webpack_require__(23),keys=Object.keys;module.exports=function(object){return keys(isValue(object)?Object(object):object)}},function(module,exports,__webpack_require__){"use strict";var str="razdwatrzy";module.exports=function(){return"function"==typeof str.contains&&(!0===str.contains("dwa")&&!1===str.contains("foo"))}},function(module,exports,__webpack_require__){"use strict";var indexOf=String.prototype.indexOf;module.exports=function(searchString){return indexOf.call(this,searchString,arguments[1])>-1}},function(module,exports,__webpack_require__){"use strict";var on,once,off,emit,methods,descriptors,base,d=__webpack_require__(9),callable=__webpack_require__(17),apply=Function.prototype.apply,call=Function.prototype.call,create=Object.create,defineProperty=Object.defineProperty,defineProperties=Object.defineProperties,hasOwnProperty=Object.prototype.hasOwnProperty,descriptor={configurable:!0,enumerable:!1,writable:!0};once=function(type,listener){var once,self;return callable(listener),self=this,on.call(this,type,once=function(){off.call(self,type,once),apply.call(listener,this,arguments)}),once.__eeOnceListener__=listener,this},methods={on:on=function(type,listener){var data;return callable(listener),hasOwnProperty.call(this,"__ee__")?data=this.__ee__:(data=descriptor.value=create(null),defineProperty(this,"__ee__",descriptor),descriptor.value=null),data[type]?"object"==typeof data[type]?data[type].push(listener):data[type]=[data[type],listener]:data[type]=listener,this},once:once,off:off=function(type,listener){var data,listeners,candidate,i;if(callable(listener),!hasOwnProperty.call(this,"__ee__"))return this;if(!(data=this.__ee__)[type])return this;if("object"==typeof(listeners=data[type]))for(i=0;candidate=listeners[i];++i)candidate!==listener&&candidate.__eeOnceListener__!==listener||(2===listeners.length?data[type]=listeners[i?0:1]:listeners.splice(i,1));else listeners!==listener&&listeners.__eeOnceListener__!==listener||delete data[type];return this},emit:emit=function(type){var i,l,listener,listeners,args;if(hasOwnProperty.call(this,"__ee__")&&(listeners=this.__ee__[type]))if("object"==typeof listeners){for(l=arguments.length,args=new Array(l-1),i=1;i<l;++i)args[i-1]=arguments[i];for(listeners=listeners.slice(),i=0;listener=listeners[i];++i)apply.call(listener,this,args)}else switch(arguments.length){case 1:call.call(listeners,this);break;case 2:call.call(listeners,this,arguments[1]);break;case 3:call.call(listeners,this,arguments[1],arguments[2]);break;default:for(l=arguments.length,args=new Array(l-1),i=1;i<l;++i)args[i-1]=arguments[i];apply.call(listeners,this,args)}}},descriptors={on:d(on),once:d(once),off:d(off),emit:d(emit)},base=defineProperties({},descriptors),module.exports=exports=function(o){return null==o?create(base):defineProperties(Object(o),descriptors)},exports.methods=methods},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(39),validTypes={object:!0,symbol:!0};module.exports=function(){var symbol,Symbol=global.Symbol;if("function"!=typeof Symbol)return!1;symbol=Symbol("test symbol");try{String(symbol)}catch(e){return!1}return!!validTypes[typeof Symbol.iterator]&&(!!validTypes[typeof Symbol.toPrimitive]&&!!validTypes[typeof Symbol.toStringTag])}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){return"object"==typeof globalThis&&(!!globalThis&&globalThis.Array===Array)}},function(module,exports){var naiveFallback=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};module.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(error){return naiveFallback()}try{return __global__||naiveFallback()}finally{delete Object.prototype.__global__}}()},function(module,exports,__webpack_require__){"use strict";var SymbolPolyfill,HiddenSymbol,isNativeSafe,d=__webpack_require__(9),validateSymbol=__webpack_require__(108),NativeSymbol=__webpack_require__(39).Symbol,generateName=__webpack_require__(256),setupStandardSymbols=__webpack_require__(257),setupSymbolRegistry=__webpack_require__(258),create=Object.create,defineProperties=Object.defineProperties,defineProperty=Object.defineProperty;if("function"==typeof NativeSymbol)try{String(NativeSymbol()),isNativeSafe=!0}catch(ignore){}else NativeSymbol=null;HiddenSymbol=function(description){if(this instanceof HiddenSymbol)throw new TypeError("Symbol is not a constructor");return SymbolPolyfill(description)},module.exports=SymbolPolyfill=function Symbol(description){var symbol;if(this instanceof Symbol)throw new TypeError("Symbol is not a constructor");return isNativeSafe?NativeSymbol(description):(symbol=create(HiddenSymbol.prototype),description=void 0===description?"":String(description),defineProperties(symbol,{__description__:d("",description),__name__:d("",generateName(description))}))},setupStandardSymbols(SymbolPolyfill),setupSymbolRegistry(SymbolPolyfill),defineProperties(HiddenSymbol.prototype,{constructor:d(SymbolPolyfill),toString:d("",(function(){return this.__name__}))}),defineProperties(SymbolPolyfill.prototype,{toString:d((function(){return"Symbol ("+validateSymbol(this).__description__+")"})),valueOf:d((function(){return validateSymbol(this)}))}),defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toPrimitive,d("",(function(){var symbol=validateSymbol(this);return"symbol"==typeof symbol?symbol:symbol.toString()}))),defineProperty(SymbolPolyfill.prototype,SymbolPolyfill.toStringTag,d("c","Symbol")),defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toStringTag,d("c",SymbolPolyfill.prototype[SymbolPolyfill.toStringTag])),defineProperty(HiddenSymbol.prototype,SymbolPolyfill.toPrimitive,d("c",SymbolPolyfill.prototype[SymbolPolyfill.toPrimitive]))},function(module,exports,__webpack_require__){"use strict";module.exports=function(value){return!!value&&("symbol"==typeof value||!!value.constructor&&("Symbol"===value.constructor.name&&"Symbol"===value[value.constructor.toStringTag]))}},function(module,exports,__webpack_require__){"use strict";var d=__webpack_require__(9),create=Object.create,defineProperty=Object.defineProperty,objPrototype=Object.prototype,created=create(null);module.exports=function(desc){for(var name,ie11BugWorkaround,postfix=0;created[desc+(postfix||"")];)++postfix;return created[desc+=postfix||""]=!0,defineProperty(objPrototype,name="@@"+desc,d.gs(null,(function(value){ie11BugWorkaround||(ie11BugWorkaround=!0,defineProperty(this,name,d(value)),ie11BugWorkaround=!1)}))),name}},function(module,exports,__webpack_require__){"use strict";var d=__webpack_require__(9),NativeSymbol=__webpack_require__(39).Symbol;module.exports=function(SymbolPolyfill){return Object.defineProperties(SymbolPolyfill,{hasInstance:d("",NativeSymbol&&NativeSymbol.hasInstance||SymbolPolyfill("hasInstance")),isConcatSpreadable:d("",NativeSymbol&&NativeSymbol.isConcatSpreadable||SymbolPolyfill("isConcatSpreadable")),iterator:d("",NativeSymbol&&NativeSymbol.iterator||SymbolPolyfill("iterator")),match:d("",NativeSymbol&&NativeSymbol.match||SymbolPolyfill("match")),replace:d("",NativeSymbol&&NativeSymbol.replace||SymbolPolyfill("replace")),search:d("",NativeSymbol&&NativeSymbol.search||SymbolPolyfill("search")),species:d("",NativeSymbol&&NativeSymbol.species||SymbolPolyfill("species")),split:d("",NativeSymbol&&NativeSymbol.split||SymbolPolyfill("split")),toPrimitive:d("",NativeSymbol&&NativeSymbol.toPrimitive||SymbolPolyfill("toPrimitive")),toStringTag:d("",NativeSymbol&&NativeSymbol.toStringTag||SymbolPolyfill("toStringTag")),unscopables:d("",NativeSymbol&&NativeSymbol.unscopables||SymbolPolyfill("unscopables"))})}},function(module,exports,__webpack_require__){"use strict";var d=__webpack_require__(9),validateSymbol=__webpack_require__(108),registry=Object.create(null);module.exports=function(SymbolPolyfill){return Object.defineProperties(SymbolPolyfill,{for:d((function(key){return registry[key]?registry[key]:registry[key]=SymbolPolyfill(String(key))})),keyFor:d((function(symbol){var key;for(key in validateSymbol(symbol),registry)if(registry[key]===symbol)return key}))})}},function(module,exports,__webpack_require__){"use strict";var isArguments=__webpack_require__(40),isValue=__webpack_require__(23),isString=__webpack_require__(41),iteratorSymbol=__webpack_require__(14).iterator,isArray=Array.isArray;module.exports=function(value){return!!isValue(value)&&(!!isArray(value)||(!!isString(value)||(!!isArguments(value)||"function"==typeof value[iteratorSymbol])))}},function(module,exports,__webpack_require__){"use strict";var isArguments=__webpack_require__(40),callable=__webpack_require__(17),isString=__webpack_require__(41),get=__webpack_require__(261),isArray=Array.isArray,call=Function.prototype.call,some=Array.prototype.some;module.exports=function(iterable,cb){var mode,result,doBreak,broken,i,length,char,code,thisArg=arguments[2];if(isArray(iterable)||isArguments(iterable)?mode="array":isString(iterable)?mode="string":iterable=get(iterable),callable(cb),doBreak=function(){broken=!0},"array"!==mode)if("string"!==mode)for(result=iterable.next();!result.done;){if(call.call(cb,thisArg,result.value,doBreak),broken)return;result=iterable.next()}else for(length=iterable.length,i=0;i<length&&(char=iterable[i],i+1<length&&(code=char.charCodeAt(0))>=55296&&code<=56319&&(char+=iterable[++i]),call.call(cb,thisArg,char,doBreak),!broken);++i);else some.call(iterable,(function(value){return call.call(cb,thisArg,value,doBreak),broken}))}},function(module,exports,__webpack_require__){"use strict";var isArguments=__webpack_require__(40),isString=__webpack_require__(41),ArrayIterator=__webpack_require__(262),StringIterator=__webpack_require__(277),iterable=__webpack_require__(109),iteratorSymbol=__webpack_require__(14).iterator;module.exports=function(obj){return"function"==typeof iterable(obj)[iteratorSymbol]?obj[iteratorSymbol]():isArguments(obj)?new ArrayIterator(obj):isString(obj)?new StringIterator(obj):new ArrayIterator(obj)}},function(module,exports,__webpack_require__){"use strict";var ArrayIterator,setPrototypeOf=__webpack_require__(38),contains=__webpack_require__(107),d=__webpack_require__(9),Symbol=__webpack_require__(14),Iterator=__webpack_require__(59),defineProperty=Object.defineProperty;ArrayIterator=module.exports=function(arr,kind){if(!(this instanceof ArrayIterator))throw new TypeError("Constructor requires 'new'");Iterator.call(this,arr),kind=kind?contains.call(kind,"key+value")?"key+value":contains.call(kind,"key")?"key":"value":"value",defineProperty(this,"__kind__",d("",kind))},setPrototypeOf&&setPrototypeOf(ArrayIterator,Iterator),delete ArrayIterator.prototype.constructor,ArrayIterator.prototype=Object.create(Iterator.prototype,{_resolve:d((function(i){return"value"===this.__kind__?this.__list__[i]:"key+value"===this.__kind__?[i,this.__list__[i]]:i}))}),defineProperty(ArrayIterator.prototype,Symbol.toStringTag,d("c","Array Iterator"))},function(module,exports,__webpack_require__){"use strict";var define,isValue=__webpack_require__(24),ensureValue=__webpack_require__(264),ensurePlainFunction=__webpack_require__(268),copy=__webpack_require__(269),normalizeOptions=__webpack_require__(106),map=__webpack_require__(274),bind=Function.prototype.bind,defineProperty=Object.defineProperty,hasOwnProperty=Object.prototype.hasOwnProperty;define=function(name,desc,options){var dgs,value=ensureValue(desc)&&ensurePlainFunction(desc.value);return delete(dgs=copy(desc)).writable,delete dgs.value,dgs.get=function(){return!options.overwriteDefinition&&hasOwnProperty.call(this,name)?value:(desc.value=bind.call(value,options.resolveContext?options.resolveContext(this):this),defineProperty(this,name,desc),this[name])},dgs},module.exports=function(props){var options=normalizeOptions(arguments[1]);return isValue(options.resolveContext)&&ensurePlainFunction(options.resolveContext),map(props,(function(desc,name){return define(name,desc,options)}))}},function(module,exports,__webpack_require__){"use strict";var resolveException=__webpack_require__(110),is=__webpack_require__(24);module.exports=function(value){return is(value)?value:resolveException(value,"Cannot use %v",arguments[1])}},function(module,exports,__webpack_require__){"use strict";var isValue=__webpack_require__(24),isObject=__webpack_require__(57),objectToString=Object.prototype.toString;module.exports=function(value){if(!isValue(value))return null;if(isObject(value)){var valueToString=value.toString;if("function"!=typeof valueToString)return null;if(valueToString===objectToString)return null}try{return""+value}catch(error){return null}}},function(module,exports,__webpack_require__){"use strict";var safeToString=__webpack_require__(267),reNewLine=/[\n\r\u2028\u2029]/g;module.exports=function(value){var string=safeToString(value);return null===string?"<Non-coercible to string value>":(string.length>100&&(string=string.slice(0,99)+"…"),string=string.replace(reNewLine,(function(char){switch(char){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}})))}},function(module,exports,__webpack_require__){"use strict";module.exports=function(value){try{return value.toString()}catch(error){try{return String(value)}catch(error2){return null}}}},function(module,exports,__webpack_require__){"use strict";var resolveException=__webpack_require__(110),is=__webpack_require__(105);module.exports=function(value){return is(value)?value:resolveException(value,"%v is not a plain function",arguments[1])}},function(module,exports,__webpack_require__){"use strict";var aFrom=__webpack_require__(270),assign=__webpack_require__(58),value=__webpack_require__(10);module.exports=function(obj){var copy=Object(value(obj)),propertyNames=arguments[1],options=Object(arguments[2]);if(copy!==obj&&!propertyNames)return copy;var result={};return propertyNames?aFrom(propertyNames,(function(propertyName){(options.ensure||propertyName in obj)&&(result[propertyName]=obj[propertyName])})):assign(result,obj),result}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(271)()?Array.from:__webpack_require__(272)},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var arr,result,from=Array.from;return"function"==typeof from&&(result=from(arr=["raz","dwa"]),Boolean(result&&result!==arr&&"dwa"===result[1]))}},function(module,exports,__webpack_require__){"use strict";var iteratorSymbol=__webpack_require__(14).iterator,isArguments=__webpack_require__(40),isFunction=__webpack_require__(273),toPosInt=__webpack_require__(102),callable=__webpack_require__(17),validValue=__webpack_require__(10),isValue=__webpack_require__(23),isString=__webpack_require__(41),isArray=Array.isArray,call=Function.prototype.call,desc={configurable:!0,enumerable:!0,writable:!0,value:null},defineProperty=Object.defineProperty;module.exports=function(arrayLike){var Context,i,j,arr,length,code,iterator,result,getIterator,value,mapFn=arguments[1],thisArg=arguments[2];if(arrayLike=Object(validValue(arrayLike)),isValue(mapFn)&&callable(mapFn),this&&this!==Array&&isFunction(this))Context=this;else{if(!mapFn){if(isArguments(arrayLike))return 1!==(length=arrayLike.length)?Array.apply(null,arrayLike):((arr=new Array(1))[0]=arrayLike[0],arr);if(isArray(arrayLike)){for(arr=new Array(length=arrayLike.length),i=0;i<length;++i)arr[i]=arrayLike[i];return arr}}arr=[]}if(!isArray(arrayLike))if(void 0!==(getIterator=arrayLike[iteratorSymbol])){for(iterator=callable(getIterator).call(arrayLike),Context&&(arr=new Context),result=iterator.next(),i=0;!result.done;)value=mapFn?call.call(mapFn,thisArg,result.value,i):result.value,Context?(desc.value=value,defineProperty(arr,i,desc)):arr[i]=value,result=iterator.next(),++i;length=i}else if(isString(arrayLike)){for(length=arrayLike.length,Context&&(arr=new Context),i=0,j=0;i<length;++i)value=arrayLike[i],i+1<length&&(code=value.charCodeAt(0))>=55296&&code<=56319&&(value+=arrayLike[++i]),value=mapFn?call.call(mapFn,thisArg,value,j):value,Context?(desc.value=value,defineProperty(arr,j,desc)):arr[j]=value,++j;length=j}if(void 0===length)for(length=toPosInt(arrayLike.length),Context&&(arr=new Context(length)),i=0;i<length;++i)value=mapFn?call.call(mapFn,thisArg,arrayLike[i],i):arrayLike[i],Context?(desc.value=value,defineProperty(arr,i,desc)):arr[i]=value;return Context&&(desc.value=null,arr.length=length),arr}},function(module,exports,__webpack_require__){"use strict";var objToString=Object.prototype.toString,isFunctionStringTag=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);module.exports=function(value){return"function"==typeof value&&isFunctionStringTag(objToString.call(value))}},function(module,exports,__webpack_require__){"use strict";var callable=__webpack_require__(17),forEach=__webpack_require__(275),call=Function.prototype.call;module.exports=function(obj,cb){var result={},thisArg=arguments[2];return callable(cb),forEach(obj,(function(value,key,targetObj,index){result[key]=call.call(cb,thisArg,value,key,targetObj,index)})),result}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(276)("forEach")},function(module,exports,__webpack_require__){"use strict";var callable=__webpack_require__(17),value=__webpack_require__(10),bind=Function.prototype.bind,call=Function.prototype.call,keys=Object.keys,objPropertyIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(method,defVal){return function(obj,cb){var list,thisArg=arguments[2],compareFn=arguments[3];return obj=Object(value(obj)),callable(cb),list=keys(obj),compareFn&&list.sort("function"==typeof compareFn?bind.call(compareFn,obj):void 0),"function"!=typeof method&&(method=list[method]),call.call(method,list,(function(key,index){return objPropertyIsEnumerable.call(obj,key)?call.call(cb,thisArg,obj[key],key,obj,index):defVal}))}}},function(module,exports,__webpack_require__){"use strict";var StringIterator,setPrototypeOf=__webpack_require__(38),d=__webpack_require__(9),Symbol=__webpack_require__(14),Iterator=__webpack_require__(59),defineProperty=Object.defineProperty;StringIterator=module.exports=function(str){if(!(this instanceof StringIterator))throw new TypeError("Constructor requires 'new'");str=String(str),Iterator.call(this,str),defineProperty(this,"__length__",d("",str.length))},setPrototypeOf&&setPrototypeOf(StringIterator,Iterator),delete StringIterator.prototype.constructor,StringIterator.prototype=Object.create(Iterator.prototype,{_next:d((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:d((function(i){var code,char=this.__list__[i];return this.__nextIndex__===this.__length__?char:(code=char.charCodeAt(0))>=55296&&code<=56319?char+this.__list__[this.__nextIndex__++]:char}))}),defineProperty(StringIterator.prototype,Symbol.toStringTag,d("c","String Iterator"))},function(module,exports,__webpack_require__){"use strict";var MapIterator,setPrototypeOf=__webpack_require__(38),d=__webpack_require__(9),Iterator=__webpack_require__(59),toStringTagSymbol=__webpack_require__(14).toStringTag,kinds=__webpack_require__(279),defineProperties=Object.defineProperties,unBind=Iterator.prototype._unBind;MapIterator=module.exports=function(map,kind){if(!(this instanceof MapIterator))return new MapIterator(map,kind);Iterator.call(this,map.__mapKeysData__,map),kind&&kinds[kind]||(kind="key+value"),defineProperties(this,{__kind__:d("",kind),__values__:d("w",map.__mapValuesData__)})},setPrototypeOf&&setPrototypeOf(MapIterator,Iterator),MapIterator.prototype=Object.create(Iterator.prototype,{constructor:d(MapIterator),_resolve:d((function(i){return"value"===this.__kind__?this.__values__[i]:"key"===this.__kind__?this.__list__[i]:[this.__list__[i],this.__values__[i]]})),_unBind:d((function(){this.__values__=null,unBind.call(this)})),toString:d((function(){return"[object Map Iterator]"}))}),Object.defineProperty(MapIterator.prototype,toStringTagSymbol,d("c","Map Iterator"))},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(280)("key","value","key+value")},function(module,exports,__webpack_require__){"use strict";var forEach=Array.prototype.forEach,create=Object.create;module.exports=function(arg){var set=create(null);return forEach.call(arguments,(function(name){set[name]=!0})),set}},function(module,exports,__webpack_require__){"use strict";module.exports="undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)},function(module,exports,__webpack_require__){"use strict";exports.parser=__webpack_require__(283),exports.generate=__webpack_require__(287),exports.writeToStream=__webpack_require__(113)},function(module,exports,__webpack_require__){"use strict";var bl=__webpack_require__(284),inherits=__webpack_require__(2),EE=__webpack_require__(5).EventEmitter,Packet=__webpack_require__(286),constants=__webpack_require__(112);function Parser(){if(!(this instanceof Parser))return new Parser;this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState()}inherits(Parser,EE),Parser.prototype._resetState=function(){this.packet=new Packet,this.error=null,this._list=bl(),this._stateCounter=0},Parser.prototype.parse=function(buf){for(this.error&&this._resetState(),this._list.append(buf);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,this._stateCounter>=this._states.length&&(this._stateCounter=0);return this._list.length},Parser.prototype._parseHeader=function(){var zero=this._list.readUInt8(0);return this.packet.cmd=constants.types[zero>>constants.CMD_SHIFT],this.packet.retain=0!=(zero&constants.RETAIN_MASK),this.packet.qos=zero>>constants.QOS_SHIFT&constants.QOS_MASK,this.packet.dup=0!=(zero&constants.DUP_MASK),this._list.consume(1),!0},Parser.prototype._parseLength=function(){for(var current,bytes=0,mul=1,length=0,result=!0;bytes<5&&(length+=mul*((current=this._list.readUInt8(bytes++))&constants.LENGTH_MASK),mul*=128,0!=(current&constants.LENGTH_FIN_MASK));)if(this._list.length<=bytes){result=!1;break}return result&&(this.packet.length=length,this._list.consume(bytes)),result},Parser.prototype._parsePayload=function(){var result=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseMessageId();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":case"disconnect":break;default:this._emitError(new Error("Not supported"))}result=!0}return result},Parser.prototype._parseConnect=function(){var protocolId,clientId,topic,payload,password,username,flags={},packet=this.packet;if(null===(protocolId=this._parseString()))return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==protocolId&&"MQIsdp"!==protocolId)return this._emitError(new Error("Invalid protocolId"));if(packet.protocolId=protocolId,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(packet.protocolVersion=this._list.readUInt8(this._pos),3!==packet.protocolVersion&&4!==packet.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(flags.username=this._list.readUInt8(this._pos)&constants.USERNAME_MASK,flags.password=this._list.readUInt8(this._pos)&constants.PASSWORD_MASK,flags.will=this._list.readUInt8(this._pos)&constants.WILL_FLAG_MASK,flags.will&&(packet.will={},packet.will.retain=0!=(this._list.readUInt8(this._pos)&constants.WILL_RETAIN_MASK),packet.will.qos=(this._list.readUInt8(this._pos)&constants.WILL_QOS_MASK)>>constants.WILL_QOS_SHIFT),packet.clean=0!=(this._list.readUInt8(this._pos)&constants.CLEAN_SESSION_MASK),this._pos++,packet.keepalive=this._parseNum(),-1===packet.keepalive)return this._emitError(new Error("Packet too short"));if(null===(clientId=this._parseString()))return this._emitError(new Error("Packet too short"));if(packet.clientId=clientId,flags.will){if(null===(topic=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if(packet.will.topic=topic,null===(payload=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));packet.will.payload=payload}if(flags.username){if(null===(username=this._parseString()))return this._emitError(new Error("Cannot parse username"));packet.username=username}if(flags.password){if(null===(password=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));packet.password=password}return packet},Parser.prototype._parseConnack=function(){var packet=this.packet;return this._list.length<2?null:(packet.sessionPresent=!!(this._list.readUInt8(this._pos++)&constants.SESSIONPRESENT_MASK),packet.returnCode=this._list.readUInt8(this._pos),-1===packet.returnCode?this._emitError(new Error("Cannot parse return code")):void 0)},Parser.prototype._parsePublish=function(){var packet=this.packet;if(packet.topic=this._parseString(),null===packet.topic)return this._emitError(new Error("Cannot parse topic"));packet.qos>0&&!this._parseMessageId()||(packet.payload=this._list.slice(this._pos,packet.length))},Parser.prototype._parseSubscribe=function(){var topic,qos,packet=this.packet;if(1!==packet.qos)return this._emitError(new Error("Wrong subscribe header"));if(packet.subscriptions=[],this._parseMessageId())for(;this._pos<packet.length;){if(null===(topic=this._parseString()))return this._emitError(new Error("Cannot parse topic"));if(this._pos>=packet.length)return this._emitError(new Error("Malformed Subscribe Payload"));qos=this._list.readUInt8(this._pos++),packet.subscriptions.push({topic:topic,qos:qos})}},Parser.prototype._parseSuback=function(){if(this.packet.granted=[],this._parseMessageId())for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))},Parser.prototype._parseUnsubscribe=function(){var packet=this.packet;if(packet.unsubscriptions=[],this._parseMessageId())for(;this._pos<packet.length;){var topic;if(null===(topic=this._parseString()))return this._emitError(new Error("Cannot parse topic"));packet.unsubscriptions.push(topic)}},Parser.prototype._parseUnsuback=function(){if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"))},Parser.prototype._parseMessageId=function(){var packet=this.packet;return packet.messageId=this._parseNum(),null!==packet.messageId||(this._emitError(new Error("Cannot parse messageId")),!1)},Parser.prototype._parseString=function(maybeBuffer){var result,length=this._parseNum(),end=length+this._pos;return-1===length||end>this._list.length||end>this.packet.length?null:(result=this._list.toString("utf8",this._pos,end),this._pos+=length,result)},Parser.prototype._parseBuffer=function(){var result,length=this._parseNum(),end=length+this._pos;return-1===length||end>this._list.length||end>this.packet.length?null:(result=this._list.slice(this._pos,end),this._pos+=length,result)},Parser.prototype._parseNum=function(){if(this._list.length-this._pos<2)return-1;var result=this._list.readUInt16BE(this._pos);return this._pos+=2,result},Parser.prototype._newPacket=function(){return this.packet&&(this._list.consume(this.packet.length),this.emit("packet",this.packet)),this.packet=new Packet,!0},Parser.prototype._emitError=function(err){this.error=err,this.emit("error",err)},module.exports=Parser},function(module,exports,__webpack_require__){var DuplexStream=__webpack_require__(285),util=__webpack_require__(0),Buffer=__webpack_require__(25).Buffer;function BufferList(callback){if(!(this instanceof BufferList))return new BufferList(callback);if(this._bufs=[],this.length=0,"function"==typeof callback){this._callback=callback;var piper=function(err){this._callback&&(this._callback(err),this._callback=null)}.bind(this);this.on("pipe",(function(src){src.on("error",piper)})),this.on("unpipe",(function(src){src.removeListener("error",piper)}))}else this.append(callback);DuplexStream.call(this)}util.inherits(BufferList,DuplexStream),BufferList.prototype._offset=function(offset){var _t,tot=0,i=0;if(0===offset)return[0,0];for(;i<this._bufs.length;i++){if(offset<(_t=tot+this._bufs[i].length)||i==this._bufs.length-1)return[i,offset-tot];tot=_t}},BufferList.prototype.append=function(buf){var i=0;if(Buffer.isBuffer(buf))this._appendBuffer(buf);else if(Array.isArray(buf))for(;i<buf.length;i++)this.append(buf[i]);else if(buf instanceof BufferList)for(;i<buf._bufs.length;i++)this.append(buf._bufs[i]);else null!=buf&&("number"==typeof buf&&(buf=buf.toString()),this._appendBuffer(Buffer.from(buf)));return this},BufferList.prototype._appendBuffer=function(buf){this._bufs.push(buf),this.length+=buf.length},BufferList.prototype._write=function(buf,encoding,callback){this._appendBuffer(buf),"function"==typeof callback&&callback()},BufferList.prototype._read=function(size){if(!this.length)return this.push(null);size=Math.min(size,this.length),this.push(this.slice(0,size)),this.consume(size)},BufferList.prototype.end=function(chunk){DuplexStream.prototype.end.call(this,chunk),this._callback&&(this._callback(null,this.slice()),this._callback=null)},BufferList.prototype.get=function(index){return this.slice(index,index+1)[0]},BufferList.prototype.slice=function(start,end){return"number"==typeof start&&start<0&&(start+=this.length),"number"==typeof end&&end<0&&(end+=this.length),this.copy(null,0,start,end)},BufferList.prototype.copy=function(dst,dstStart,srcStart,srcEnd){if(("number"!=typeof srcStart||srcStart<0)&&(srcStart=0),("number"!=typeof srcEnd||srcEnd>this.length)&&(srcEnd=this.length),srcStart>=this.length)return dst||Buffer.alloc(0);if(srcEnd<=0)return dst||Buffer.alloc(0);var l,i,copy=!!dst,off=this._offset(srcStart),len=srcEnd-srcStart,bytes=len,bufoff=copy&&dstStart||0,start=off[1];if(0===srcStart&&srcEnd==this.length){if(!copy)return 1===this._bufs.length?this._bufs[0]:Buffer.concat(this._bufs,this.length);for(i=0;i<this._bufs.length;i++)this._bufs[i].copy(dst,bufoff),bufoff+=this._bufs[i].length;return dst}if(bytes<=this._bufs[off[0]].length-start)return copy?this._bufs[off[0]].copy(dst,dstStart,start,start+bytes):this._bufs[off[0]].slice(start,start+bytes);for(copy||(dst=Buffer.allocUnsafe(len)),i=off[0];i<this._bufs.length;i++){if(!(bytes>(l=this._bufs[i].length-start))){this._bufs[i].copy(dst,bufoff,start,start+bytes);break}this._bufs[i].copy(dst,bufoff,start),bufoff+=l,bytes-=l,start&&(start=0)}return dst},BufferList.prototype.shallowSlice=function(start,end){start=start||0,end=end||this.length,start<0&&(start+=this.length),end<0&&(end+=this.length);var startOffset=this._offset(start),endOffset=this._offset(end),buffers=this._bufs.slice(startOffset[0],endOffset[0]+1);return 0==endOffset[1]?buffers.pop():buffers[buffers.length-1]=buffers[buffers.length-1].slice(0,endOffset[1]),0!=startOffset[1]&&(buffers[0]=buffers[0].slice(startOffset[1])),new BufferList(buffers)},BufferList.prototype.toString=function(encoding,start,end){return this.slice(start,end).toString(encoding)},BufferList.prototype.consume=function(bytes){for(;this._bufs.length;){if(!(bytes>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(bytes),this.length-=bytes;break}bytes-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},BufferList.prototype.duplicate=function(){for(var i=0,copy=new BufferList;i<this._bufs.length;i++)copy.append(this._bufs[i]);return copy},BufferList.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var methods={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var m in methods)!function(m){BufferList.prototype[m]=function(offset){return this.slice(offset,offset+methods[m])[m](0)}}(m)}(),module.exports=BufferList},function(module,exports,__webpack_require__){module.exports=__webpack_require__(7).Duplex},function(module,exports){module.exports=function(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(25).Buffer,writeToStream=__webpack_require__(113),EE=__webpack_require__(5).EventEmitter;function Accumulator(){this._array=new Array(20),this._i=0}__webpack_require__(2)(Accumulator,EE),Accumulator.prototype.write=function(chunk){return this._array[this._i++]=chunk,!0},Accumulator.prototype.concat=function(){var i,result,length=0,lengths=new Array(this._array.length),list=this._array,pos=0;for(i=0;i<list.length&&void 0!==list[i];i++)"string"!=typeof list[i]?lengths[i]=list[i].length:lengths[i]=Buffer.byteLength(list[i]),length+=lengths[i];for(result=Buffer.allocUnsafe(length),i=0;i<list.length&&void 0!==list[i];i++)"string"!=typeof list[i]?(list[i].copy(result,pos),pos+=lengths[i]):(result.write(list[i],pos),pos+=lengths[i]);return result},module.exports=function(packet){var stream=new Accumulator;return writeToStream(packet,stream),stream.concat()}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(25).Buffer,cache={};function generateBuffer(i){var buffer=Buffer.allocUnsafe(2);return buffer.writeUInt8(i>>8,0),buffer.writeUInt8(255&i,1),buffer}module.exports={cache:cache,generateCache:function(){for(var i=0;i<65536;i++)cache[i]=generateBuffer(i)},generateNumber:generateBuffer}},function(module,exports,__webpack_require__){"use strict";function ReInterval(callback,interval,args){var self=this;this._callback=callback,this._args=args,this._interval=setInterval(callback,interval,this._args),this.reschedule=function(interval){interval||(interval=self._interval),self._interval&&clearInterval(self._interval),self._interval=setInterval(self._callback,interval,self._args)},this.clear=function(){self._interval&&(clearInterval(self._interval),self._interval=void 0)},this.destroy=function(){self._interval&&clearInterval(self._interval),self._callback=void 0,self._interval=void 0,self._args=void 0}}module.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var args;if(arguments.length>0){args=new Array(arguments.length-2);for(var i=0;i<args.length;i++)args[i]=arguments[i+2]}return new ReInterval(arguments[0],arguments[1],args)}},function(module,exports,__webpack_require__){"use strict";function validateTopic(topic){for(var parts=topic.split("/"),i=0;i<parts.length;i++)if("+"!==parts[i]){if("#"===parts[i])return i===parts.length-1;if(-1!==parts[i].indexOf("+")||-1!==parts[i].indexOf("#"))return!1}return!0}module.exports={validateTopics:function(topics){if(0===topics.length)return"empty_topic_list";for(var i=0;i<topics.length;i++)if(!validateTopic(topics[i]))return topics[i];return null}}},function(module,exports,__webpack_require__){"use strict";var MqttClient=__webpack_require__(94),Store=__webpack_require__(56),url=__webpack_require__(20),xtend=__webpack_require__(21),protocols={};function connect(brokerUrl,opts){if("object"!=typeof brokerUrl||opts||(opts=brokerUrl,brokerUrl=null),opts=opts||{},brokerUrl){var parsed=url.parse(brokerUrl,!0);if(null!=parsed.port&&(parsed.port=Number(parsed.port)),null===(opts=xtend(parsed,opts)).protocol)throw new Error("Missing protocol");opts.protocol=opts.protocol.replace(/:$/,"")}if(function(opts){var matches;opts.auth&&((matches=opts.auth.match(/^(.+):(.+)$/))?(opts.username=matches[1],opts.password=matches[2]):opts.username=opts.auth)}(opts),opts.query&&"string"==typeof opts.query.clientId&&(opts.clientId=opts.query.clientId),opts.cert&&opts.key){if(!opts.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs"].indexOf(opts.protocol))switch(opts.protocol){case"mqtt":opts.protocol="mqtts";break;case"ws":opts.protocol="wss";break;case"wx":opts.protocol="wxs";break;default:throw new Error('Unknown protocol for secure connection: "'+opts.protocol+'"!')}}if(!protocols[opts.protocol]){var isSecure=-1!==["mqtts","wss"].indexOf(opts.protocol);opts.protocol=["mqtt","mqtts","ws","wss","wx","wxs"].filter((function(key,index){return(!isSecure||index%2!=0)&&"function"==typeof protocols[key]}))[0]}if(!1===opts.clean&&!opts.clientId)throw new Error("Missing clientId for unclean clients");return opts.protocol&&(opts.defaultProtocol=opts.protocol),new MqttClient((function(client){return opts.servers&&(client._reconnectCount&&client._reconnectCount!==opts.servers.length||(client._reconnectCount=0),opts.host=opts.servers[client._reconnectCount].host,opts.port=opts.servers[client._reconnectCount].port,opts.protocol=opts.servers[client._reconnectCount].protocol?opts.servers[client._reconnectCount].protocol:opts.defaultProtocol,opts.hostname=opts.host,client._reconnectCount++),protocols[opts.protocol](client,opts)}),opts)}"browser"!==process.title?(protocols.mqtt=__webpack_require__(114),protocols.tcp=__webpack_require__(114),protocols.ssl=__webpack_require__(60),protocols.tls=__webpack_require__(60),protocols.mqtts=__webpack_require__(60)):(protocols.wx=__webpack_require__(115),protocols.wxs=__webpack_require__(115)),protocols.ws=__webpack_require__(127),protocols.wss=__webpack_require__(127),module.exports=connect,module.exports.connect=connect,module.exports.MqttClient=MqttClient,module.exports.Store=Store},function(module,exports,__webpack_require__){"use strict";var WebSocketServer=__webpack_require__(117).Server,stream=__webpack_require__(125);class Server extends WebSocketServer{constructor(opts,cb){super(opts);var proxied=!1;this.on("newListener",(function(event){proxied||"stream"!==event||(proxied=!0,this.on("connection",(function(conn,req){this.emit("stream",stream(conn,opts),req)})))})),cb&&this.on("stream",cb)}}module.exports.Server=Server,module.exports.createServer=function(opts,cb){return new Server(opts,cb)}},function(module,exports,__webpack_require__){"use strict";function Queue(options){if(!(this instanceof Queue))return new Queue(options);options=options||{},this.concurrency=options.concurrency||1/0,this.pending=0,this.jobs=[],this.cbs=[],this._done=done.bind(this)}function done(){this.pending--,this._run()}["push","unshift","splice"].forEach((function(method){Queue.prototype[method]=function(){var methodResult=Array.prototype[method].apply(this.jobs,arguments);return this._run(),methodResult}})),Object.defineProperty(Queue.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),Queue.prototype._run=function(){if(this.pending!==this.concurrency){if(this.jobs.length){var job=this.jobs.shift();this.pending++,job(this._done),this._run()}if(0===this.pending)for(;0!==this.cbs.length;){var cb=this.cbs.pop();process.nextTick(cb)}}},Queue.prototype.onDone=function(cb){"function"==typeof cb&&(this.cbs.push(cb),this._run())},module.exports=Queue},function(module,exports,__webpack_require__){"use strict";try{module.exports=__webpack_require__(120)(__dirname)}catch(e){module.exports=__webpack_require__(295)}},function(module,exports,__webpack_require__){"use strict";module.exports={mask:(source,mask,output,offset,length)=>{for(var i=0;i<length;i++)output[offset+i]=source[i]^mask[3&i]},unmask:(buffer,mask)=>{const length=buffer.length;for(var i=0;i<length;i++)buffer[i]^=mask[3&i]}}},function(module,exports,__webpack_require__){"use strict";class Event{constructor(type,target){this.target=target,this.type=type}}class MessageEvent extends Event{constructor(data,target){super("message",target),this.data=data}}class CloseEvent extends Event{constructor(code,reason,target){super("close",target),this.wasClean=target._closeFrameReceived&&target._closeFrameSent,this.reason=reason,this.code=code}}class OpenEvent extends Event{constructor(target){super("open",target)}}const EventTarget={addEventListener(method,listener){function onMessage(data){listener.call(this,new MessageEvent(data,this))}function onClose(code,message){listener.call(this,new CloseEvent(code,message,this))}function onError(event){event.type="error",event.target=this,listener.call(this,event)}function onOpen(){listener.call(this,new OpenEvent(this))}"function"==typeof listener&&("message"===method?(onMessage._listener=listener,this.on(method,onMessage)):"close"===method?(onClose._listener=listener,this.on(method,onClose)):"error"===method?(onError._listener=listener,this.on(method,onError)):"open"===method?(onOpen._listener=listener,this.on(method,onOpen)):this.on(method,listener))},removeEventListener(method,listener){const listeners=this.listeners(method);for(var i=0;i<listeners.length;i++)listeners[i]!==listener&&listeners[i]._listener!==listener||this.removeListener(method,listeners[i])}};module.exports=EventTarget},function(module,exports,__webpack_require__){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */try{const isValidUTF8=__webpack_require__(298);module.exports="object"==typeof isValidUTF8?isValidUTF8.Validation.isValidUTF8:isValidUTF8}catch(e){module.exports=()=>!0}},function(module,exports,__webpack_require__){"use strict";try{module.exports=__webpack_require__(120)(__dirname)}catch(e){module.exports=__webpack_require__(299)}},function(module,exports,__webpack_require__){"use strict";module.exports=buf=>{for(var len=buf.length,i=0;i<len;)if(buf[i]<128)i++;else if(192==(224&buf[i])){if(i+1===len||128!=(192&buf[i+1])||192==(254&buf[i]))return!1;i+=2}else if(224==(240&buf[i])){if(i+2>=len||128!=(192&buf[i+1])||128!=(192&buf[i+2])||224===buf[i]&&128==(224&buf[i+1])||237===buf[i]&&160==(224&buf[i+1]))return!1;i+=3}else{if(240!=(248&buf[i]))return!1;if(i+3>=len||128!=(192&buf[i+1])||128!=(192&buf[i+2])||128!=(192&buf[i+3])||240===buf[i]&&128==(240&buf[i+1])||244===buf[i]&&buf[i+1]>143||buf[i]>244)return!1;i+=4}return!0}},function(module,exports,__webpack_require__){"use strict";
/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */const safeBuffer=__webpack_require__(26),EventEmitter=__webpack_require__(5),crypto=__webpack_require__(61),Ultron=__webpack_require__(119),http=__webpack_require__(36),url=__webpack_require__(20),PerMessageDeflate=__webpack_require__(43),Extensions=__webpack_require__(121),constants=__webpack_require__(44),WebSocket=__webpack_require__(118),Buffer=safeBuffer.Buffer;function socketError(){this.destroy()}function abortConnection(socket,code,message){socket.writable&&(message=message||http.STATUS_CODES[code],socket.write(`HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\r\nConnection: close\r\nContent-type: text/html\r\nContent-Length: ${Buffer.byteLength(message)}\r\n\r\n`+message)),socket.removeListener("error",socketError),socket.destroy()}module.exports=class extends EventEmitter{constructor(options,callback){if(super(),null==(options=Object.assign({maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},options)).port&&!options.server&&!options.noServer)throw new TypeError("missing or invalid options");null!=options.port?(this._server=http.createServer((req,res)=>{const body=http.STATUS_CODES[426];res.writeHead(426,{"Content-Length":body.length,"Content-Type":"text/plain"}),res.end(body)}),this._server.listen(options.port,options.host,options.backlog,callback)):options.server&&(this._server=options.server),this._server&&(this._ultron=new Ultron(this._server),this._ultron.on("listening",()=>this.emit("listening")),this._ultron.on("error",err=>this.emit("error",err)),this._ultron.on("upgrade",(req,socket,head)=>{this.handleUpgrade(req,socket,head,client=>{this.emit("connection",client,req)})})),!0===options.perMessageDeflate&&(options.perMessageDeflate={}),options.clientTracking&&(this.clients=new Set),this.options=options}close(cb){if(this.clients)for(const client of this.clients)client.terminate();const server=this._server;if(server&&(this._ultron.destroy(),this._ultron=this._server=null,null!=this.options.port))return server.close(cb);cb&&cb()}shouldHandle(req){return!this.options.path||url.parse(req.url).pathname===this.options.path}handleUpgrade(req,socket,head,cb){socket.on("error",socketError);const version=+req.headers["sec-websocket-version"],extensions={};if("GET"!==req.method||"websocket"!==req.headers.upgrade.toLowerCase()||!req.headers["sec-websocket-key"]||8!==version&&13!==version||!this.shouldHandle(req))return abortConnection(socket,400);if(this.options.perMessageDeflate){const perMessageDeflate=new PerMessageDeflate(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const offers=Extensions.parse(req.headers["sec-websocket-extensions"]);offers[PerMessageDeflate.extensionName]&&(perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]),extensions[PerMessageDeflate.extensionName]=perMessageDeflate)}catch(err){return abortConnection(socket,400)}}var protocol=(req.headers["sec-websocket-protocol"]||"").split(/, */);if(this.options.handleProtocols){if(!1===(protocol=this.options.handleProtocols(protocol,req)))return abortConnection(socket,401)}else protocol=protocol[0];if(this.options.verifyClient){const info={origin:req.headers[""+(8===version?"sec-websocket-origin":"origin")],secure:!(!req.connection.authorized&&!req.connection.encrypted),req:req};if(2===this.options.verifyClient.length)return void this.options.verifyClient(info,(verified,code,message)=>{if(!verified)return abortConnection(socket,code||401,message);this.completeUpgrade(protocol,extensions,version,req,socket,head,cb)});if(!this.options.verifyClient(info))return abortConnection(socket,401)}this.completeUpgrade(protocol,extensions,version,req,socket,head,cb)}completeUpgrade(protocol,extensions,version,req,socket,head,cb){if(!socket.readable||!socket.writable)return socket.destroy();const headers=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+crypto.createHash("sha1").update(req.headers["sec-websocket-key"]+constants.GUID,"binary").digest("base64")];if(protocol&&headers.push("Sec-WebSocket-Protocol: "+protocol),extensions[PerMessageDeflate.extensionName]){const params=extensions[PerMessageDeflate.extensionName].params,value=Extensions.format({[PerMessageDeflate.extensionName]:[params]});headers.push("Sec-WebSocket-Extensions: "+value)}this.emit("headers",headers,req),socket.write(headers.concat("\r\n").join("\r\n"));const client=new WebSocket([socket,head],null,{maxPayload:this.options.maxPayload,protocolVersion:version,extensions:extensions,protocol:protocol});this.clients&&(this.clients.add(client),client.on("close",()=>this.clients.delete(client))),socket.removeListener("error",socketError),cb(client)}}},function(module,exports){module.exports=function(stream){var rs=stream._readableState;return rs?rs.objectMode||"number"==typeof stream._duplexState?stream.read():stream.read(function(state){if(state.buffer.length)return state.buffer.head?state.buffer.head.data.length:state.buffer[0].length;return state.length}(rs)):null}},function(module,exports,__webpack_require__){"use strict";var leven=__webpack_require__(303);function Command(options){this.string=options.command,this.strict=options.strict,this.parts=this.string.split(" "),this.length=this.parts.length,this.func=options.func,this.parts.forEach((function(part){if(part.length<3)throw new Error("command words must be at least 3 chars: "+options.command)}))}function CommandMatch(cmd,array){this.cmd=cmd,this.distances=cmd.parts.map((function(elem,i){return void 0!==array[i]?cmd.strict?elem===array[i]?0:void 0:leven(elem,array[i]):void 0})).filter((function(distance,i){return void 0!==distance&&distance<cmd.parts[i].length-2})),this.partsNotMatched=cmd.length-this.distances.length,this.inputNotMatched=array.length-this.distances.length,this.totalDistance=this.distances.reduce((function(acc,i){return acc+i}),0)}Command.prototype.call=function(argv){this.func(argv.slice(this.length))},Command.prototype.match=function(string){return new CommandMatch(this,string)},module.exports=function(){var commands=[];function lookup(array){return"string"==typeof array&&(array=array.split(" ")),commands.map((function(cmd){return cmd.match(array)})).filter((function(match){return 0===match.partsNotMatched})).sort((function(a,b){return a.inputNotMatched>b.inputNotMatched||a.inputNotMatched===b.inputNotMatched&&a.totalDistance>b.totalDistance?1:-1})).map((function(match){return match.cmd}))}return{register:function(inputCommand,func){var commandOptions={command:inputCommand,strict:!1,func:func};return"object"==typeof inputCommand&&(commandOptions=Object.assign(commandOptions,inputCommand)),lookup(commandOptions.command).forEach((function(match){if(match.string===commandOptions.command)throw new Error("command already registered: "+commandOptions.command)})),commands.push(new Command(commandOptions)),this},parse:function(args){var matching=lookup(args);return matching.length>0?(matching[0].call(args),null):args},lookup:lookup}}},function(module,exports,__webpack_require__){"use strict";var arr=[],charCodeCache=[];module.exports=function(a,b){if(a===b)return 0;var swap=a;a.length>b.length&&(a=b,b=swap);var aLen=a.length,bLen=b.length;if(0===aLen)return bLen;if(0===bLen)return aLen;for(;aLen>0&&a.charCodeAt(~-aLen)===b.charCodeAt(~-bLen);)aLen--,bLen--;if(0===aLen)return bLen;for(var bCharCode,ret,tmp,tmp2,start=0;start<aLen&&a.charCodeAt(start)===b.charCodeAt(start);)start++;if(bLen-=start,0===(aLen-=start))return bLen;for(var i=0,j=0;i<aLen;)charCodeCache[start+i]=a.charCodeAt(start+i),arr[i]=++i;for(;j<bLen;)for(bCharCode=b.charCodeAt(start+j),tmp=j++,ret=j,i=0;i<aLen;i++)tmp2=bCharCode===charCodeCache[start+i]?tmp:tmp+1,tmp=arr[i],ret=arr[i]=tmp>ret?tmp2>ret?ret+1:tmp2:tmp2>tmp?tmp+1:tmp2;return ret}},function(module,exports,__webpack_require__){"use strict";var Combine=__webpack_require__(305),unique=__webpack_require__(306),pumpify=__webpack_require__(309),isNegatedGlob=__webpack_require__(128),extend=__webpack_require__(129),GlobStream=__webpack_require__(311);function toGlob(obj){return obj.glob}module.exports=function(globs,opt){opt||(opt={});var ourOpt=extend({},opt),ignore=ourOpt.ignore;ourOpt.cwd="string"==typeof ourOpt.cwd?ourOpt.cwd:process.cwd(),ourOpt.dot="boolean"==typeof ourOpt.dot&&ourOpt.dot,ourOpt.silent="boolean"!=typeof ourOpt.silent||ourOpt.silent,ourOpt.cwdbase="boolean"==typeof ourOpt.cwdbase&&ourOpt.cwdbase,ourOpt.uniqueBy="string"==typeof ourOpt.uniqueBy||"function"==typeof ourOpt.uniqueBy?ourOpt.uniqueBy:"path",ourOpt.cwdbase&&(ourOpt.base=ourOpt.cwd),"string"==typeof ignore&&(ignore=[ignore]),Array.isArray(ignore)||(ignore=[]),Array.isArray(globs)||(globs=[globs]);var positives=[],negatives=[];if(globs.forEach((function(globString,index){if("string"!=typeof globString)throw new Error("Invalid glob at index "+index);var glob=isNegatedGlob(globString);(glob.negated?negatives:positives).push({index:index,glob:glob.pattern})})),0===positives.length)throw new Error("Missing positive glob");var streams=positives.map((function(positive){var negativeGlobs=negatives.filter((index=positive.index,function(obj){return obj.index>index})).map(toGlob).concat(ignore);var index;return new GlobStream(positive.glob,negativeGlobs,ourOpt)})),aggregate=new Combine(streams),uniqueStream=unique(ourOpt.uniqueBy);return pumpify.obj(aggregate,uniqueStream)}},function(module,exports,__webpack_require__){var Readable=__webpack_require__(7);function addStream(streams,stream){if(!function(stream){return"function"==typeof stream.pipe&&(!!stream.readable&&("function"==typeof stream._read&&!!stream._readableState))}(stream))throw new Error("All input streams must be readable");var self=this;stream._buffer=[],stream.on("readable",(function(){for(var chunk=stream.read();chunk;)this===streams[0]?self.push(chunk):this._buffer.push(chunk),chunk=stream.read()})),stream.on("end",(function(){for(var stream=streams[0];stream&&stream._readableState.ended;stream=streams[0]){for(;stream._buffer.length;)self.push(stream._buffer.shift());streams.shift()}streams.length||self.push(null)})),stream.on("error",this.emit.bind(this,"error")),streams.push(stream)}function OrderedStreams(streams,options){if(!(this instanceof OrderedStreams))return new OrderedStreams(streams,options);if(streams=streams||[],(options=options||{}).objectMode=!0,Readable.call(this,options),Array.isArray(streams)||(streams=[streams]),!streams.length)return this.push(null);var addStreamBinded=addStream.bind(this,[]);streams.forEach((function(item){Array.isArray(item)?item.forEach(addStreamBinded):addStreamBinded(item)}))}__webpack_require__(0).inherits(OrderedStreams,Readable),OrderedStreams.prototype._read=function(){},module.exports=OrderedStreams},function(module,exports,__webpack_require__){"use strict";var ES6Set,filter=__webpack_require__(307).obj,stringify=__webpack_require__(308);ES6Set="function"==typeof global.Set?global.Set:function(){this.keys=[],this.has=function(val){return-1!==this.keys.indexOf(val)},this.add=function(val){this.keys.push(val)}},module.exports=function(propName,keyStore){keyStore=keyStore||new ES6Set;var keyfn=stringify;"string"==typeof propName?keyfn=function(propName){return function(data){return data[propName]}}(propName):"function"==typeof propName&&(keyfn=propName);return filter((function(data){var key=keyfn(data);return!keyStore.has(key)&&(keyStore.add(key),!0)}))}},function(module,exports,__webpack_require__){"use strict";module.exports=make,module.exports.ctor=ctor,module.exports.objCtor=function(options,fn){"function"==typeof options&&(fn=options,options={});return ctor(options=xtend({objectMode:!0,highWaterMark:16},options),fn)},module.exports.obj=function(options,fn){"function"==typeof options&&(fn=options,options={});return make(options=xtend({objectMode:!0,highWaterMark:16},options),fn)};var through2=__webpack_require__(64),xtend=__webpack_require__(21);function ctor(options,fn){"function"==typeof options&&(fn=options,options={});var Filter=through2.ctor(options,(function(chunk,encoding,callback){this.options.wantStrings&&(chunk=chunk.toString());try{return fn.call(this,chunk,this._index++)&&this.push(chunk),callback()}catch(e){return callback(e)}}));return Filter.prototype._index=0,Filter}function make(options,fn){return ctor(options,fn)()}},function(module,exports){module.exports=function(obj,opts){opts||(opts={}),"function"==typeof opts&&(opts={cmp:opts});var space=opts.space||"";"number"==typeof space&&(space=Array(space+1).join(" "));var f,cycles="boolean"==typeof opts.cycles&&opts.cycles,replacer=opts.replacer||function(key,value){return value},cmp=opts.cmp&&(f=opts.cmp,function(node){return function(a,b){var aobj={key:a,value:node[a]},bobj={key:b,value:node[b]};return f(aobj,bobj)}}),seen=[];return function stringify(parent,key,node,level){var indent=space?"\n"+new Array(level+1).join(space):"",colonSeparator=space?": ":":";if(node&&node.toJSON&&"function"==typeof node.toJSON&&(node=node.toJSON()),void 0!==(node=replacer.call(parent,key,node))){if("object"!=typeof node||null===node)return JSON.stringify(node);if(isArray(node)){for(var out=[],i=0;i<node.length;i++){var item=stringify(node,i,node[i],level+1)||JSON.stringify(null);out.push(indent+space+item)}return"["+out.join(",")+indent+"]"}if(-1!==seen.indexOf(node)){if(cycles)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}seen.push(node);var keys=objectKeys(node).sort(cmp&&cmp(node));for(out=[],i=0;i<keys.length;i++){var value=stringify(node,key=keys[i],node[key],level+1);if(value){var keyValue=JSON.stringify(key)+colonSeparator+value;out.push(indent+space+keyValue)}}return seen.splice(seen.indexOf(node),1),"{"+out.join(",")+indent+"}"}}({"":obj},"",obj,0)};var isArray=Array.isArray||function(x){return"[object Array]"==={}.toString.call(x)},objectKeys=Object.keys||function(obj){var has=Object.prototype.hasOwnProperty||function(){return!0},keys=[];for(var key in obj)has.call(obj,key)&&keys.push(key);return keys}},function(module,exports,__webpack_require__){var pump=__webpack_require__(310),inherits=__webpack_require__(2),Duplexify=__webpack_require__(126),toArray=function(args){return args.length?Array.isArray(args[0])?args[0]:Array.prototype.slice.call(args):[]},define=function(opts){var Pumpify=function(){var streams=toArray(arguments);if(!(this instanceof Pumpify))return new Pumpify(streams);Duplexify.call(this,null,null,opts),streams.length&&this.setPipeline(streams)};return inherits(Pumpify,Duplexify),Pumpify.prototype.setPipeline=function(){var streams=toArray(arguments),self=this,ended=!1,w=streams[0],r=streams[streams.length-1];r=r.readable?r:null,w=w.writable?w:null;var onclose=function(){streams[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",onclose),this.on("prefinish",(function(){ended||self.cork()})),pump(streams,(function(err){if(self.removeListener("close",onclose),err)return self.destroy("premature close"===err.message?null:err);ended=!0,!1===self._autoDestroy&&(self._autoDestroy=!0),self.uncork()})),this.destroyed)return onclose();this.setWritable(w),this.setReadable(r)},Pumpify};module.exports=define({autoDestroy:!1,destroy:!1}),module.exports.obj=define({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16}),module.exports.ctor=define},function(module,exports,__webpack_require__){var once=__webpack_require__(34),eos=__webpack_require__(42),fs=__webpack_require__(4),noop=function(){},ancient=/^v?\.0/.test(process.version),isFn=function(fn){return"function"==typeof fn},destroyer=function(stream,reading,writing,callback){callback=once(callback);var closed=!1;stream.on("close",(function(){closed=!0})),eos(stream,{readable:reading,writable:writing},(function(err){if(err)return callback(err);closed=!0,callback()}));var destroyed=!1;return function(err){if(!closed&&!destroyed)return destroyed=!0,function(stream){return!!ancient&&(!!fs&&((stream instanceof(fs.ReadStream||noop)||stream instanceof(fs.WriteStream||noop))&&isFn(stream.close)))}(stream)?stream.close(noop):function(stream){return stream.setHeader&&isFn(stream.abort)}(stream)?stream.abort():isFn(stream.destroy)?stream.destroy():void callback(err||new Error("stream was destroyed"))}},call=function(fn){fn()},pipe=function(from,to){return from.pipe(to)};module.exports=function(){var error,streams=Array.prototype.slice.call(arguments),callback=isFn(streams[streams.length-1]||noop)&&streams.pop()||noop;if(Array.isArray(streams[0])&&(streams=streams[0]),streams.length<2)throw new Error("pump requires two streams per minimum");var destroys=streams.map((function(stream,i){var reading=i<streams.length-1;return destroyer(stream,reading,i>0,(function(err){error||(error=err),err&&destroys.forEach(call),reading||(destroys.forEach(call),callback(error))}))}));streams.reduce(pipe)}},function(module,exports,__webpack_require__){"use strict";var inherits=__webpack_require__(0).inherits,glob=__webpack_require__(130),extend=__webpack_require__(129),Readable=__webpack_require__(7).Readable,globParent=__webpack_require__(318),toAbsoluteGlob=__webpack_require__(322),removeTrailingSeparator=__webpack_require__(328);function GlobStream(ourGlob,negatives,opt){if(!(this instanceof GlobStream))return new GlobStream(ourGlob,negatives,opt);var ourOpt=extend({},opt);Readable.call(this,{objectMode:!0,highWaterMark:ourOpt.highWaterMark||16}),delete ourOpt.highWaterMark;var self=this;var ourNegatives=negatives.map((function(negative){return toAbsoluteGlob(negative,ourOpt)}));ourOpt.ignore=ourNegatives;var cwd=ourOpt.cwd,allowEmpty=ourOpt.allowEmpty||!1,basePath=ourOpt.base||function(ourGlob,opt){return globParent(toAbsoluteGlob(ourGlob,opt))}(ourGlob,ourOpt);ourGlob=toAbsoluteGlob(ourGlob,ourOpt),delete ourOpt.root;var globber=new glob.Glob(ourGlob,ourOpt);this._globber=globber;var found=!1;globber.on("match",(function(filepath){found=!0;var obj={cwd:cwd,base:basePath,path:removeTrailingSeparator(filepath)};self.push(obj)||globber.pause()})),globber.once("end",(function(){if(!0!==allowEmpty&&!found&&function(glob){var globSet=glob.minimatch.set;return 1===globSet.length&&globSet[0].every((function(value){return"string"==typeof value}))}(globber)){var err=new Error("File not found with singular glob: "+ourGlob+" (if this was purposeful, use `allowEmpty` option)");return self.destroy(err)}self.push(null)})),globber.once("error",(function(err){self.destroy(err)}))}inherits(GlobStream,Readable),GlobStream.prototype._read=function(){this._globber.resume()},GlobStream.prototype.destroy=function(err){var self=this;this._globber.abort(),process.nextTick((function(){err&&self.emit("error",err),self.emit("close")}))},module.exports=GlobStream},function(module,exports,__webpack_require__){var pathModule=__webpack_require__(6),isWindows="win32"===process.platform,fs=__webpack_require__(4),DEBUG=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function maybeCallback(cb){return"function"==typeof cb?cb:function(){var callback;if(DEBUG){var backtrace=new Error;callback=function(err){err&&(backtrace.message=err.message,missingCallback(err=backtrace))}}else callback=missingCallback;return callback;function missingCallback(err){if(err){if(process.throwDeprecation)throw err;if(!process.noDeprecation){var msg="fs: missing callback "+(err.stack||err.message);process.traceDeprecation?console.trace(msg):console.error(msg)}}}}()}pathModule.normalize;if(isWindows)var nextPartRe=/(.*?)(?:[\/\\]+|$)/g;else nextPartRe=/(.*?)(?:[\/]+|$)/g;if(isWindows)var splitRootRe=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else splitRootRe=/^[\/]*/;exports.realpathSync=function(p,cache){if(p=pathModule.resolve(p),cache&&Object.prototype.hasOwnProperty.call(cache,p))return cache[p];var pos,current,base,previous,original=p,seenLinks={},knownHard={};function start(){var m=splitRootRe.exec(p);pos=m[0].length,current=m[0],base=m[0],previous="",isWindows&&!knownHard[base]&&(fs.lstatSync(base),knownHard[base]=!0)}for(start();pos<p.length;){nextPartRe.lastIndex=pos;var result=nextPartRe.exec(p);if(previous=current,current+=result[0],base=previous+result[1],pos=nextPartRe.lastIndex,!(knownHard[base]||cache&&cache[base]===base)){var resolvedLink;if(cache&&Object.prototype.hasOwnProperty.call(cache,base))resolvedLink=cache[base];else{var stat=fs.lstatSync(base);if(!stat.isSymbolicLink()){knownHard[base]=!0,cache&&(cache[base]=base);continue}var linkTarget=null;if(!isWindows){var id=stat.dev.toString(32)+":"+stat.ino.toString(32);seenLinks.hasOwnProperty(id)&&(linkTarget=seenLinks[id])}null===linkTarget&&(fs.statSync(base),linkTarget=fs.readlinkSync(base)),resolvedLink=pathModule.resolve(previous,linkTarget),cache&&(cache[base]=resolvedLink),isWindows||(seenLinks[id]=linkTarget)}p=pathModule.resolve(resolvedLink,p.slice(pos)),start()}}return cache&&(cache[original]=p),p},exports.realpath=function(p,cache,cb){if("function"!=typeof cb&&(cb=maybeCallback(cache),cache=null),p=pathModule.resolve(p),cache&&Object.prototype.hasOwnProperty.call(cache,p))return process.nextTick(cb.bind(null,null,cache[p]));var pos,current,base,previous,original=p,seenLinks={},knownHard={};function start(){var m=splitRootRe.exec(p);pos=m[0].length,current=m[0],base=m[0],previous="",isWindows&&!knownHard[base]?fs.lstat(base,(function(err){if(err)return cb(err);knownHard[base]=!0,LOOP()})):process.nextTick(LOOP)}function LOOP(){if(pos>=p.length)return cache&&(cache[original]=p),cb(null,p);nextPartRe.lastIndex=pos;var result=nextPartRe.exec(p);return previous=current,current+=result[0],base=previous+result[1],pos=nextPartRe.lastIndex,knownHard[base]||cache&&cache[base]===base?process.nextTick(LOOP):cache&&Object.prototype.hasOwnProperty.call(cache,base)?gotResolvedLink(cache[base]):fs.lstat(base,gotStat)}function gotStat(err,stat){if(err)return cb(err);if(!stat.isSymbolicLink())return knownHard[base]=!0,cache&&(cache[base]=base),process.nextTick(LOOP);if(!isWindows){var id=stat.dev.toString(32)+":"+stat.ino.toString(32);if(seenLinks.hasOwnProperty(id))return gotTarget(null,seenLinks[id],base)}fs.stat(base,(function(err){if(err)return cb(err);fs.readlink(base,(function(err,target){isWindows||(seenLinks[id]=target),gotTarget(err,target)}))}))}function gotTarget(err,target,base){if(err)return cb(err);var resolvedLink=pathModule.resolve(previous,target);cache&&(cache[base]=resolvedLink),gotResolvedLink(resolvedLink)}function gotResolvedLink(resolvedLink){p=pathModule.resolve(resolvedLink,p.slice(pos)),start()}start()}},function(module,exports,__webpack_require__){var concatMap=__webpack_require__(314),balanced=__webpack_require__(315);module.exports=function(str){if(!str)return[];"{}"===str.substr(0,2)&&(str="\\{\\}"+str.substr(2));return function expand(str,isTop){var expansions=[],m=balanced("{","}",str);if(!m||/\$$/.test(m.pre))return[str];var n,isNumericSequence=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(m.body),isAlphaSequence=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(m.body),isSequence=isNumericSequence||isAlphaSequence,isOptions=m.body.indexOf(",")>=0;if(!isSequence&&!isOptions)return m.post.match(/,.*\}/)?(str=m.pre+"{"+m.body+escClose+m.post,expand(str)):[str];if(isSequence)n=m.body.split(/\.\./);else{if(1===(n=function parseCommaParts(str){if(!str)return[""];var parts=[],m=balanced("{","}",str);if(!m)return str.split(",");var pre=m.pre,body=m.body,post=m.post,p=pre.split(",");p[p.length-1]+="{"+body+"}";var postParts=parseCommaParts(post);post.length&&(p[p.length-1]+=postParts.shift(),p.push.apply(p,postParts));return parts.push.apply(parts,p),parts}(m.body)).length)if(1===(n=expand(n[0],!1).map(embrace)).length)return(post=m.post.length?expand(m.post,!1):[""]).map((function(p){return m.pre+n[0]+p}))}var N,pre=m.pre,post=m.post.length?expand(m.post,!1):[""];if(isSequence){var x=numeric(n[0]),y=numeric(n[1]),width=Math.max(n[0].length,n[1].length),incr=3==n.length?Math.abs(numeric(n[2])):1,test=lte;y<x&&(incr*=-1,test=gte);var pad=n.some(isPadded);N=[];for(var i=x;test(i,y);i+=incr){var c;if(isAlphaSequence)"\\"===(c=String.fromCharCode(i))&&(c="");else if(c=String(i),pad){var need=width-c.length;if(need>0){var z=new Array(need+1).join("0");c=i<0?"-"+z+c.slice(1):z+c}}N.push(c)}}else N=concatMap(n,(function(el){return expand(el,!1)}));for(var j=0;j<N.length;j++)for(var k=0;k<post.length;k++){var expansion=pre+N[j]+post[k];(!isTop||isSequence||expansion)&&expansions.push(expansion)}return expansions}(function(str){return str.split("\\\\").join(escSlash).split("\\{").join(escOpen).split("\\}").join(escClose).split("\\,").join(escComma).split("\\.").join(escPeriod)}(str),!0).map(unescapeBraces)};var escSlash="\0SLASH"+Math.random()+"\0",escOpen="\0OPEN"+Math.random()+"\0",escClose="\0CLOSE"+Math.random()+"\0",escComma="\0COMMA"+Math.random()+"\0",escPeriod="\0PERIOD"+Math.random()+"\0";function numeric(str){return parseInt(str,10)==str?parseInt(str,10):str.charCodeAt(0)}function unescapeBraces(str){return str.split(escSlash).join("\\").split(escOpen).join("{").split(escClose).join("}").split(escComma).join(",").split(escPeriod).join(".")}function embrace(str){return"{"+str+"}"}function isPadded(el){return/^-?0\d/.test(el)}function lte(i,y){return i<=y}function gte(i,y){return i>=y}},function(module,exports){module.exports=function(xs,fn){for(var res=[],i=0;i<xs.length;i++){var x=fn(xs[i],i);isArray(x)?res.push.apply(res,x):res.push(x)}return res};var isArray=Array.isArray||function(xs){return"[object Array]"===Object.prototype.toString.call(xs)}},function(module,exports,__webpack_require__){"use strict";function balanced(a,b,str){a instanceof RegExp&&(a=maybeMatch(a,str)),b instanceof RegExp&&(b=maybeMatch(b,str));var r=range(a,b,str);return r&&{start:r[0],end:r[1],pre:str.slice(0,r[0]),body:str.slice(r[0]+a.length,r[1]),post:str.slice(r[1]+b.length)}}function maybeMatch(reg,str){var m=str.match(reg);return m?m[0]:null}function range(a,b,str){var begs,beg,left,right,result,ai=str.indexOf(a),bi=str.indexOf(b,ai+1),i=ai;if(ai>=0&&bi>0){for(begs=[],left=str.length;i>=0&&!result;)i==ai?(begs.push(i),ai=str.indexOf(a,i+1)):1==begs.length?result=[begs.pop(),bi]:((beg=begs.pop())<left&&(left=beg,right=bi),bi=str.indexOf(b,i+1)),i=ai<bi&&ai>=0?ai:bi;begs.length&&(result=[left,right])}return result}module.exports=balanced,balanced.range=range},function(module,exports,__webpack_require__){module.exports=globSync,globSync.GlobSync=GlobSync;var fs=__webpack_require__(4),rp=__webpack_require__(131),minimatch=__webpack_require__(65),path=(minimatch.Minimatch,__webpack_require__(130).Glob,__webpack_require__(0),__webpack_require__(6)),assert=__webpack_require__(30),isAbsolute=__webpack_require__(66),common=__webpack_require__(132),setopts=(common.alphasort,common.alphasorti,common.setopts),ownProp=common.ownProp,childrenIgnored=common.childrenIgnored,isIgnored=common.isIgnored;function globSync(pattern,options){if("function"==typeof options||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new GlobSync(pattern,options).found}function GlobSync(pattern,options){if(!pattern)throw new Error("must provide pattern");if("function"==typeof options||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof GlobSync))return new GlobSync(pattern,options);if(setopts(this,pattern,options),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var i=0;i<n;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}GlobSync.prototype._finish=function(){if(assert(this instanceof GlobSync),this.realpath){var self=this;this.matches.forEach((function(matchset,index){var set=self.matches[index]=Object.create(null);for(var p in matchset)try{p=self._makeAbs(p),set[rp.realpathSync(p,self.realpathCache)]=!0}catch(er){if("stat"!==er.syscall)throw er;set[self._makeAbs(p)]=!0}}))}common.finish(this)},GlobSync.prototype._process=function(pattern,index,inGlobStar){assert(this instanceof GlobSync);for(var prefix,n=0;"string"==typeof pattern[n];)n++;switch(n){case pattern.length:return void this._processSimple(pattern.join("/"),index);case 0:prefix=null;break;default:prefix=pattern.slice(0,n).join("/")}var read,remain=pattern.slice(n);null===prefix?read=".":isAbsolute(prefix)||isAbsolute(pattern.join("/"))?(prefix&&isAbsolute(prefix)||(prefix="/"+prefix),read=prefix):read=prefix;var abs=this._makeAbs(read);childrenIgnored(this,read)||(remain[0]===minimatch.GLOBSTAR?this._processGlobStar(prefix,read,abs,remain,index,inGlobStar):this._processReaddir(prefix,read,abs,remain,index,inGlobStar))},GlobSync.prototype._processReaddir=function(prefix,read,abs,remain,index,inGlobStar){var entries=this._readdir(abs,inGlobStar);if(entries){for(var pn=remain[0],negate=!!this.minimatch.negate,rawGlob=pn._glob,dotOk=this.dot||"."===rawGlob.charAt(0),matchedEntries=[],i=0;i<entries.length;i++){if("."!==(e=entries[i]).charAt(0)||dotOk)(negate&&!prefix?!e.match(pn):e.match(pn))&&matchedEntries.push(e)}var len=matchedEntries.length;if(0!==len)if(1!==remain.length||this.mark||this.stat){remain.shift();for(i=0;i<len;i++){var newPattern;e=matchedEntries[i];newPattern=prefix?[prefix,e]:[e],this._process(newPattern.concat(remain),index,inGlobStar)}}else{this.matches[index]||(this.matches[index]=Object.create(null));for(var i=0;i<len;i++){var e=matchedEntries[i];prefix&&(e="/"!==prefix.slice(-1)?prefix+"/"+e:prefix+e),"/"!==e.charAt(0)||this.nomount||(e=path.join(this.root,e)),this._emitMatch(index,e)}}}},GlobSync.prototype._emitMatch=function(index,e){if(!isIgnored(this,e)){var abs=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=abs),!this.matches[index][e]){if(this.nodir){var c=this.cache[abs];if("DIR"===c||Array.isArray(c))return}this.matches[index][e]=!0,this.stat&&this._stat(e)}}},GlobSync.prototype._readdirInGlobStar=function(abs){if(this.follow)return this._readdir(abs,!1);var entries,lstat;try{lstat=fs.lstatSync(abs)}catch(er){if("ENOENT"===er.code)return null}var isSym=lstat&&lstat.isSymbolicLink();return this.symlinks[abs]=isSym,isSym||!lstat||lstat.isDirectory()?entries=this._readdir(abs,!1):this.cache[abs]="FILE",entries},GlobSync.prototype._readdir=function(abs,inGlobStar){if(inGlobStar&&!ownProp(this.symlinks,abs))return this._readdirInGlobStar(abs);if(ownProp(this.cache,abs)){var c=this.cache[abs];if(!c||"FILE"===c)return null;if(Array.isArray(c))return c}try{return this._readdirEntries(abs,fs.readdirSync(abs))}catch(er){return this._readdirError(abs,er),null}},GlobSync.prototype._readdirEntries=function(abs,entries){if(!this.mark&&!this.stat)for(var i=0;i<entries.length;i++){var e=entries[i];e="/"===abs?abs+e:abs+"/"+e,this.cache[e]=!0}return this.cache[abs]=entries,entries},GlobSync.prototype._readdirError=function(f,er){switch(er.code){case"ENOTSUP":case"ENOTDIR":var abs=this._makeAbs(f);if(this.cache[abs]="FILE",abs===this.cwdAbs){var error=new Error(er.code+" invalid cwd "+this.cwd);throw error.path=this.cwd,error.code=er.code,error}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(f)]=!1;break;default:if(this.cache[this._makeAbs(f)]=!1,this.strict)throw er;this.silent||console.error("glob error",er)}},GlobSync.prototype._processGlobStar=function(prefix,read,abs,remain,index,inGlobStar){var entries=this._readdir(abs,inGlobStar);if(entries){var remainWithoutGlobStar=remain.slice(1),gspref=prefix?[prefix]:[],noGlobStar=gspref.concat(remainWithoutGlobStar);this._process(noGlobStar,index,!1);var len=entries.length;if(!this.symlinks[abs]||!inGlobStar)for(var i=0;i<len;i++){if("."!==entries[i].charAt(0)||this.dot){var instead=gspref.concat(entries[i],remainWithoutGlobStar);this._process(instead,index,!0);var below=gspref.concat(entries[i],remain);this._process(below,index,!0)}}}},GlobSync.prototype._processSimple=function(prefix,index){var exists=this._stat(prefix);if(this.matches[index]||(this.matches[index]=Object.create(null)),exists){if(prefix&&isAbsolute(prefix)&&!this.nomount){var trail=/[\/\\]$/.test(prefix);"/"===prefix.charAt(0)?prefix=path.join(this.root,prefix):(prefix=path.resolve(this.root,prefix),trail&&(prefix+="/"))}"win32"===process.platform&&(prefix=prefix.replace(/\\/g,"/")),this._emitMatch(index,prefix)}},GlobSync.prototype._stat=function(f){var abs=this._makeAbs(f),needDir="/"===f.slice(-1);if(f.length>this.maxLength)return!1;if(!this.stat&&ownProp(this.cache,abs)){var c=this.cache[abs];if(Array.isArray(c)&&(c="DIR"),!needDir||"DIR"===c)return c;if(needDir&&"FILE"===c)return!1}var stat=this.statCache[abs];if(!stat){var lstat;try{lstat=fs.lstatSync(abs)}catch(er){if(er&&("ENOENT"===er.code||"ENOTDIR"===er.code))return this.statCache[abs]=!1,!1}if(lstat&&lstat.isSymbolicLink())try{stat=fs.statSync(abs)}catch(er){stat=lstat}else stat=lstat}this.statCache[abs]=stat;c=!0;return stat&&(c=stat.isDirectory()?"DIR":"FILE"),this.cache[abs]=this.cache[abs]||c,(!needDir||"FILE"!==c)&&c},GlobSync.prototype._mark=function(p){return common.mark(this,p)},GlobSync.prototype._makeAbs=function(f){return common.makeAbs(this,f)}},function(module,exports,__webpack_require__){var wrappy=__webpack_require__(111),reqs=Object.create(null),once=__webpack_require__(34);function slice(args){for(var length=args.length,array=[],i=0;i<length;i++)array[i]=args[i];return array}module.exports=wrappy((function(key,cb){return reqs[key]?(reqs[key].push(cb),null):(reqs[key]=[cb],function(key){return once((function RES(){var cbs=reqs[key],len=cbs.length,args=slice(arguments);try{for(var i=0;i<len;i++)cbs[i].apply(null,args)}finally{cbs.length>len?(cbs.splice(0,len),process.nextTick((function(){RES.apply(null,args)}))):delete reqs[key]}}))}(key))}))},function(module,exports,__webpack_require__){"use strict";__webpack_require__(6);var isglob=__webpack_require__(319),pathDirname=__webpack_require__(321),isWin32="win32"===__webpack_require__(54).platform();module.exports=function(str){isWin32&&str.indexOf("/")<0&&(str=str.split("\\").join("/")),/[\{\[].*[\/]*.*[\}\]]$/.test(str)&&(str+="/"),str+="a";do{str=pathDirname.posix(str)}while(isglob(str)||/(^|[^\\])([\{\[]|\([^\)]+$)/.test(str));return str.replace(/\\([\*\?\|\[\]\(\)\{\}])/g,"$1")}},function(module,exports,__webpack_require__){
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
var isExtglob=__webpack_require__(320);module.exports=function(str){if("string"!=typeof str||""===str)return!1;if(isExtglob(str))return!0;for(var match,regex=/(\\).|([*?]|\[.*\]|\{.*\}|\(.*\|.*\)|^!)/;match=regex.exec(str);){if(match[2])return!0;str=str.slice(match.index+match[0].length)}return!1}},function(module,exports){
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
module.exports=function(str){if("string"!=typeof str||""===str)return!1;for(var match;match=/(\\).|([@?!+*]\(.*\))/g.exec(str);){if(match[2])return!0;str=str.slice(match.index+match[0].length)}return!1}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(6);var inspect=__webpack_require__(0).inspect;function assertPath(path){if("string"!=typeof path)throw new TypeError("Path must be a string. Received "+inspect(path))}function posix(path){if(assertPath(path),0===path.length)return".";for(var code=path.charCodeAt(0),hasRoot=47===code,end=-1,matchedSlash=!0,i=path.length-1;i>=1;--i)if(47===(code=path.charCodeAt(i))){if(!matchedSlash){end=i;break}}else matchedSlash=!1;return-1===end?hasRoot?"/":".":hasRoot&&1===end?"//":path.slice(0,end)}function win32(path){assertPath(path);var len=path.length;if(0===len)return".";var rootEnd=-1,end=-1,matchedSlash=!0,offset=0,code=path.charCodeAt(0);if(len>1)if(47===code||92===code){if(rootEnd=offset=1,47===(code=path.charCodeAt(1))||92===code){for(var j=2,last=j;j<len&&(47!==(code=path.charCodeAt(j))&&92!==code);++j);if(j<len&&j!==last){for(last=j;j<len&&(47===(code=path.charCodeAt(j))||92===code);++j);if(j<len&&j!==last){for(last=j;j<len&&(47!==(code=path.charCodeAt(j))&&92!==code);++j);if(j===len)return path;j!==last&&(rootEnd=offset=j+1)}}}}else(code>=65&&code<=90||code>=97&&code<=122)&&(code=path.charCodeAt(1),58===path.charCodeAt(1)&&(rootEnd=offset=2,len>2&&(47!==(code=path.charCodeAt(2))&&92!==code||(rootEnd=offset=3))));else if(47===code||92===code)return path[0];for(var i=len-1;i>=offset;--i)if(47===(code=path.charCodeAt(i))||92===code){if(!matchedSlash){end=i;break}}else matchedSlash=!1;if(-1===end){if(-1===rootEnd)return".";end=rootEnd}return path.slice(0,end)}module.exports="win32"===process.platform?win32:posix,module.exports.posix=posix,module.exports.win32=win32},function(module,exports,__webpack_require__){"use strict";var path=__webpack_require__(6),isNegated=__webpack_require__(128),isAbsolute=__webpack_require__(323);function unixify(filepath){return filepath.replace(/\\/g,"/")}function join(dir,glob){return"/"===dir.charAt(dir.length-1)&&(dir=dir.slice(0,-1)),"/"===glob.charAt(0)&&(glob=glob.slice(1)),glob?dir+"/"+glob:dir}module.exports=function(glob,options){var opts=options||{},cwd=path.resolve(opts.cwd?opts.cwd:process.cwd());cwd=unixify(cwd);var rootDir=opts.root;rootDir&&(rootDir=unixify(rootDir),"win32"!==process.platform&&isAbsolute(rootDir)||(rootDir=unixify(path.resolve(rootDir)))),"./"===glob.slice(0,2)&&(glob=glob.slice(2)),1===glob.length&&"."===glob&&(glob="");var suffix=glob.slice(-1),ing=isNegated(glob);return glob=ing.pattern,rootDir&&"/"===glob.charAt(0)?glob=join(rootDir,glob):isAbsolute(glob)&&"\\"!==glob.slice(0,1)||(glob=join(cwd,glob)),"/"===suffix&&"/"!==glob.slice(-1)&&(glob+="/"),ing.negated?"!"+glob:glob}},function(module,exports,__webpack_require__){"use strict";var isRelative=__webpack_require__(324),isWindows=__webpack_require__(327);function isAbsolute(fp){if("string"!=typeof fp)throw new TypeError("isAbsolute expects a string.");return isWindows()?isAbsolute.win32(fp):isAbsolute.posix(fp)}module.exports=isAbsolute,isAbsolute.posix=function(fp){return"/"===fp.charAt(0)},isAbsolute.win32=function(fp){return!(!/[a-z]/i.test(fp.charAt(0))||":"!==fp.charAt(1)||"\\"!==fp.charAt(2))||("\\\\"===fp.slice(0,2)||!isRelative(fp))}},function(module,exports,__webpack_require__){"use strict";var isUncPath=__webpack_require__(325);module.exports=function(filepath){if("string"!=typeof filepath)throw new TypeError("expected filepath to be a string");return!isUncPath(filepath)&&!/^([a-z]:)?[\\\/]/i.test(filepath)}},function(module,exports,__webpack_require__){"use strict";var regex=__webpack_require__(326)();module.exports=function(filepath){if("string"!=typeof filepath)throw new TypeError("expected a string");return regex.test(filepath)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){return/^[\\\/]{2,}[^\\\/]+[\\\/]+[^\\\/]+/}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,factory;
/*!
 * is-windows <https://github.com/jonschlinkert/is-windows>
 *
 * Copyright © 2015-2018, Jon Schlinkert.
 * Released under the MIT License.
 */factory=function(){"use strict";return function(){return process&&("win32"===process.platform||/^(msys|cygwin)$/.test(process.env.OSTYPE))}},exports&&"object"==typeof exports&&void 0!==module?module.exports=factory():(__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=factory)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports){var isWin="win32"===process.platform;function isSeparator(str,i){var char=str[i];return i>0&&("/"===char||isWin&&"\\"===char)}module.exports=function(str){var i=str.length-1;if(i<2)return str;for(;isSeparator(str,i);)i--;return str.substr(0,i+1)}},function(module,exports,__webpack_require__){"use strict";var Writable=__webpack_require__(7).Writable;function CallbackStream(options,callback){if(!(this instanceof CallbackStream))return new CallbackStream(options,callback);"function"==typeof options&&(callback=options,options={}),Writable.call(this,options),this.results=[],this.callback=callback,this.on("finish",deliversCallback),this.once("pipe",handlePipe)}function deliversCallback(){this.callback(null,this.results)}function handlePipe(source){source.on("error",this.callback)}__webpack_require__(2)(CallbackStream,Writable),CallbackStream.prototype._write=function(data,encoding,done){this.results.push(data),done()},CallbackStream.obj=function(options,callback){return"function"==typeof options&&(callback=options,options={}),options.objectMode=!0,new CallbackStream(options,callback)},module.exports=CallbackStream},function(module,exports,__webpack_require__){"use strict";(function(module){var mqtt=__webpack_require__(55),pump=__webpack_require__(331),path=__webpack_require__(6),fs=__webpack_require__(4),concat=__webpack_require__(332),Writable=__webpack_require__(7).Writable,helpMe=__webpack_require__(63)({dir:path.join(__dirname,"..","doc")}),minimist=__webpack_require__(133),split2=__webpack_require__(335);function send(args){var client=mqtt.connect(args);client.on("connect",(function(){client.publish(args.topic,args.message,args,(function(err){err&&console.warn(err),client.end()}))})),client.on("error",(function(err){console.warn(err),client.end()}))}function start(args){if((args=minimist(args,{string:["hostname","username","password","key","cert","ca","message","clientId","i","id"],boolean:["stdin","retain","help","insecure","multiline"],alias:{port:"p",hostname:["h","host"],topic:"t",message:"m",qos:"q",clientId:["i","id"],retain:"r",username:"u",password:"P",stdin:"s",multiline:"M",protocol:["C","l"],help:"H",ca:"cafile"},default:{host:"localhost",qos:0,retain:!1,topic:"",message:""}})).help)return helpMe.toStdout("publish");if(args.key&&(args.key=fs.readFileSync(args.key)),args.cert&&(args.cert=fs.readFileSync(args.cert)),args.ca&&(args.ca=fs.readFileSync(args.ca)),args.key&&args.cert&&!args.protocol&&(args.protocol="mqtts"),args.port&&"number"!=typeof args.port)console.warn("# Port: number expected, '%s' was given.",typeof args.port);else{if(args["will-topic"]&&(args.will={},args.will.topic=args["will-topic"],args.will.payload=args["will-message"],args.will.qos=args["will-qos"],args.will.retain=args["will-retain"]),args.insecure&&(args.rejectUnauthorized=!1),args.topic=(args.topic||args._.shift()).toString(),args.message=(args.message||args._.shift()).toString(),!args.topic)return console.error("missing topic\n"),helpMe.toStdout("publish");args.stdin?args.multiline?function(args){var client=mqtt.connect(args),sender=new Writable({objectMode:!0});sender._write=function(line,enc,cb){client.publish(args.topic,line.trim(),args,cb)},client.on("connect",(function(){pump(process.stdin,split2(),sender,(function(err){if(client.end(),err)throw err}))}))}(args):process.stdin.pipe(concat((function(data){args.message=data,send(args)}))):send(args)}}module.exports=start,__webpack_require__.c[__webpack_require__.s]===module&&start(process.argv.slice(2))}).call(this,__webpack_require__(35)(module))},function(module,exports,__webpack_require__){var once=__webpack_require__(34),eos=__webpack_require__(42),fs=__webpack_require__(4),noop=function(){},ancient=/^v?\.0/.test(process.version),isFn=function(fn){return"function"==typeof fn},destroyer=function(stream,reading,writing,callback){callback=once(callback);var closed=!1;stream.on("close",(function(){closed=!0})),eos(stream,{readable:reading,writable:writing},(function(err){if(err)return callback(err);closed=!0,callback()}));var destroyed=!1;return function(err){if(!closed&&!destroyed)return destroyed=!0,function(stream){return!!ancient&&(!!fs&&((stream instanceof(fs.ReadStream||noop)||stream instanceof(fs.WriteStream||noop))&&isFn(stream.close)))}(stream)?stream.close(noop):function(stream){return stream.setHeader&&isFn(stream.abort)}(stream)?stream.abort():isFn(stream.destroy)?stream.destroy():void callback(err||new Error("stream was destroyed"))}},call=function(fn){fn()},pipe=function(from,to){return from.pipe(to)};module.exports=function(){var error,streams=Array.prototype.slice.call(arguments),callback=isFn(streams[streams.length-1]||noop)&&streams.pop()||noop;if(Array.isArray(streams[0])&&(streams=streams[0]),streams.length<2)throw new Error("pump requires two streams per minimum");var destroys=streams.map((function(stream,i){var reading=i<streams.length-1;return destroyer(stream,reading,i>0,(function(err){error||(error=err),err&&destroys.forEach(call),reading||(destroys.forEach(call),callback(error))}))}));return streams.reduce(pipe)}},function(module,exports,__webpack_require__){var Writable=__webpack_require__(7).Writable,inherits=__webpack_require__(2),bufferFrom=__webpack_require__(333);if("undefined"==typeof Uint8Array)var U8=__webpack_require__(334).Uint8Array;else U8=Uint8Array;function ConcatStream(opts,cb){if(!(this instanceof ConcatStream))return new ConcatStream(opts,cb);"function"==typeof opts&&(cb=opts,opts={}),opts||(opts={});var encoding=opts.encoding,shouldInferEncoding=!1;encoding?"u8"!==(encoding=String(encoding).toLowerCase())&&"uint8"!==encoding||(encoding="uint8array"):shouldInferEncoding=!0,Writable.call(this,{objectMode:!0}),this.encoding=encoding,this.shouldInferEncoding=shouldInferEncoding,cb&&this.on("finish",(function(){cb(this.getBody())})),this.body=[]}module.exports=ConcatStream,inherits(ConcatStream,Writable),ConcatStream.prototype._write=function(chunk,enc,next){this.body.push(chunk),next()},ConcatStream.prototype.inferEncoding=function(buff){var firstBuffer=void 0===buff?this.body[0]:buff;return Buffer.isBuffer(firstBuffer)?"buffer":"undefined"!=typeof Uint8Array&&firstBuffer instanceof Uint8Array?"uint8array":Array.isArray(firstBuffer)?"array":"string"==typeof firstBuffer?"string":"[object Object]"===Object.prototype.toString.call(firstBuffer)?"object":"buffer"},ConcatStream.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?function(parts){for(var res=[],i=0;i<parts.length;i++)res.push.apply(res,parts[i]);return res}(this.body):"string"===this.encoding?function(parts){for(var strings=[],i=0;i<parts.length;i++){var p=parts[i];"string"==typeof p||Buffer.isBuffer(p)?strings.push(p):isBufferish(p)?strings.push(bufferFrom(p)):strings.push(bufferFrom(String(p)))}strings=Buffer.isBuffer(parts[0])?(strings=Buffer.concat(strings)).toString("utf8"):strings.join("");return strings}(this.body):"buffer"===this.encoding?function(parts){for(var bufs=[],i=0;i<parts.length;i++){var p=parts[i];Buffer.isBuffer(p)?bufs.push(p):isBufferish(p)?bufs.push(bufferFrom(p)):bufs.push(bufferFrom(String(p)))}return Buffer.concat(bufs)}(this.body):"uint8array"===this.encoding?function(parts){for(var len=0,i=0;i<parts.length;i++)"string"==typeof parts[i]&&(parts[i]=bufferFrom(parts[i])),len+=parts[i].length;for(var u8=new U8(len),offset=(i=0,0);i<parts.length;i++)for(var part=parts[i],j=0;j<part.length;j++)u8[offset++]=part[j];return u8}(this.body):this.body):[]};Array.isArray;function isBufferish(p){return"string"==typeof p||(arr=p,/Array\]$/.test(Object.prototype.toString.call(arr)))||p&&"function"==typeof p.subarray;var arr}},function(module,exports){var toString=Object.prototype.toString,isModern="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;module.exports=function(value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return input=value,"ArrayBuffer"===toString.call(input).slice(8,-1)?function(obj,byteOffset,length){byteOffset>>>=0;var maxLength=obj.byteLength-byteOffset;if(maxLength<0)throw new RangeError("'offset' is out of bounds");if(void 0===length)length=maxLength;else if((length>>>=0)>maxLength)throw new RangeError("'length' is out of bounds");return isModern?Buffer.from(obj.slice(byteOffset,byteOffset+length)):new Buffer(new Uint8Array(obj.slice(byteOffset,byteOffset+length)))}(value,encodingOrOffset,length):"string"==typeof value?function(string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');return isModern?Buffer.from(string,encoding):new Buffer(string,encoding)}(value,encodingOrOffset):isModern?Buffer.from(value):new Buffer(value);var input}},function(module,exports){var opts,ophop,defineProp,ECMAScript=(opts=Object.prototype.toString,ophop=Object.prototype.hasOwnProperty,{Class:function(v){return opts.call(v).replace(/^\[object *|\]$/g,"")},HasProperty:function(o,p){return p in o},HasOwnProperty:function(o,p){return ophop.call(o,p)},IsCallable:function(o){return"function"==typeof o},ToInt32:function(v){return v>>0},ToUint32:function(v){return v>>>0}}),LN2=Math.LN2,abs=Math.abs,floor=Math.floor,log=Math.log,min=Math.min,pow=Math.pow,round=Math.round;function configureProperties(obj){if(getOwnPropNames&&defineProp){var i,props=getOwnPropNames(obj);for(i=0;i<props.length;i+=1)defineProp(obj,props[i],{value:obj[props[i]],writable:!1,enumerable:!1,configurable:!1})}}defineProp=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()?Object.defineProperty:function(o,p,desc){if(!o===Object(o))throw new TypeError("Object.defineProperty called on non-object");return ECMAScript.HasProperty(desc,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(o,p,desc.get),ECMAScript.HasProperty(desc,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(o,p,desc.set),ECMAScript.HasProperty(desc,"value")&&(o[p]=desc.value),o};var getOwnPropNames=Object.getOwnPropertyNames||function(o){if(o!==Object(o))throw new TypeError("Object.getOwnPropertyNames called on non-object");var p,props=[];for(p in o)ECMAScript.HasOwnProperty(o,p)&&props.push(p);return props};function makeArrayAccessors(obj){if(defineProp){if(obj.length>1e5)throw new RangeError("Array too large for polyfill");var i;for(i=0;i<obj.length;i+=1)makeArrayAccessor(i)}function makeArrayAccessor(index){defineProp(obj,index,{get:function(){return obj._getter(index)},set:function(v){obj._setter(index,v)},enumerable:!0,configurable:!1})}}function as_signed(value,bits){var s=32-bits;return value<<s>>s}function as_unsigned(value,bits){var s=32-bits;return value<<s>>>s}function packI8(n){return[255&n]}function unpackI8(bytes){return as_signed(bytes[0],8)}function packU8(n){return[255&n]}function unpackU8(bytes){return as_unsigned(bytes[0],8)}function packU8Clamped(n){return[(n=round(Number(n)))<0?0:n>255?255:255&n]}function packI16(n){return[n>>8&255,255&n]}function unpackI16(bytes){return as_signed(bytes[0]<<8|bytes[1],16)}function packU16(n){return[n>>8&255,255&n]}function unpackU16(bytes){return as_unsigned(bytes[0]<<8|bytes[1],16)}function packI32(n){return[n>>24&255,n>>16&255,n>>8&255,255&n]}function unpackI32(bytes){return as_signed(bytes[0]<<24|bytes[1]<<16|bytes[2]<<8|bytes[3],32)}function packU32(n){return[n>>24&255,n>>16&255,n>>8&255,255&n]}function unpackU32(bytes){return as_unsigned(bytes[0]<<24|bytes[1]<<16|bytes[2]<<8|bytes[3],32)}function packIEEE754(v,ebits,fbits){var s,e,f,i,bits,str,bytes,bias=(1<<ebits-1)-1;function roundToEven(n){var w=floor(n),f=n-w;return f<.5?w:f>.5||w%2?w+1:w}for(v!=v?(e=(1<<ebits)-1,f=pow(2,fbits-1),s=0):v===1/0||v===-1/0?(e=(1<<ebits)-1,f=0,s=v<0?1:0):0===v?(e=0,f=0,s=1/v==-1/0?1:0):(s=v<0,(v=abs(v))>=pow(2,1-bias)?(e=min(floor(log(v)/LN2),1023),(f=roundToEven(v/pow(2,e)*pow(2,fbits)))/pow(2,fbits)>=2&&(e+=1,f=1),e>bias?(e=(1<<ebits)-1,f=0):(e+=bias,f-=pow(2,fbits))):(e=0,f=roundToEven(v/pow(2,1-bias-fbits)))),bits=[],i=fbits;i;i-=1)bits.push(f%2?1:0),f=floor(f/2);for(i=ebits;i;i-=1)bits.push(e%2?1:0),e=floor(e/2);for(bits.push(s?1:0),bits.reverse(),str=bits.join(""),bytes=[];str.length;)bytes.push(parseInt(str.substring(0,8),2)),str=str.substring(8);return bytes}function unpackIEEE754(bytes,ebits,fbits){var i,j,b,str,bias,s,e,f,bits=[];for(i=bytes.length;i;i-=1)for(b=bytes[i-1],j=8;j;j-=1)bits.push(b%2?1:0),b>>=1;return bits.reverse(),str=bits.join(""),bias=(1<<ebits-1)-1,s=parseInt(str.substring(0,1),2)?-1:1,e=parseInt(str.substring(1,1+ebits),2),f=parseInt(str.substring(1+ebits),2),e===(1<<ebits)-1?0!==f?NaN:s*(1/0):e>0?s*pow(2,e-bias)*(1+f/pow(2,fbits)):0!==f?s*pow(2,-(bias-1))*(f/pow(2,fbits)):s<0?-0:0}function unpackF64(b){return unpackIEEE754(b,11,52)}function packF64(v){return packIEEE754(v,11,52)}function unpackF32(b){return unpackIEEE754(b,8,23)}function packF32(v){return packIEEE754(v,8,23)}!function(){var ArrayBuffer=function(length){if((length=ECMAScript.ToInt32(length))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");var i;for(this.byteLength=length,this._bytes=[],this._bytes.length=length,i=0;i<this.byteLength;i+=1)this._bytes[i]=0;configureProperties(this)};exports.ArrayBuffer=exports.ArrayBuffer||ArrayBuffer;var ArrayBufferView=function(){};function makeConstructor(bytesPerElement,pack,unpack){var ctor;return(ctor=function(buffer,byteOffset,length){var array,sequence,i,s;if(arguments.length&&"number"!=typeof arguments[0])if("object"==typeof arguments[0]&&arguments[0].constructor===ctor)for(array=arguments[0],this.length=array.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new ArrayBuffer(this.byteLength),this.byteOffset=0,i=0;i<this.length;i+=1)this._setter(i,array._getter(i));else if("object"!=typeof arguments[0]||(arguments[0]instanceof ArrayBuffer||"ArrayBuffer"===ECMAScript.Class(arguments[0]))){if("object"!=typeof arguments[0]||!(arguments[0]instanceof ArrayBuffer||"ArrayBuffer"===ECMAScript.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=buffer,this.byteOffset=ECMAScript.ToUint32(byteOffset),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=ECMAScript.ToUint32(length),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(sequence=arguments[0],this.length=ECMAScript.ToUint32(sequence.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new ArrayBuffer(this.byteLength),this.byteOffset=0,i=0;i<this.length;i+=1)s=sequence[i],this._setter(i,Number(s));else{if(this.length=ECMAScript.ToInt32(arguments[0]),length<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new ArrayBuffer(this.byteLength),this.byteOffset=0}this.constructor=ctor,configureProperties(this),makeArrayAccessors(this)}).prototype=new ArrayBufferView,ctor.prototype.BYTES_PER_ELEMENT=bytesPerElement,ctor.prototype._pack=pack,ctor.prototype._unpack=unpack,ctor.BYTES_PER_ELEMENT=bytesPerElement,ctor.prototype._getter=function(index){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if(!((index=ECMAScript.ToUint32(index))>=this.length)){var i,o,bytes=[];for(i=0,o=this.byteOffset+index*this.BYTES_PER_ELEMENT;i<this.BYTES_PER_ELEMENT;i+=1,o+=1)bytes.push(this.buffer._bytes[o]);return this._unpack(bytes)}},ctor.prototype.get=ctor.prototype._getter,ctor.prototype._setter=function(index,value){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if(!((index=ECMAScript.ToUint32(index))>=this.length)){var i,o,bytes=this._pack(value);for(i=0,o=this.byteOffset+index*this.BYTES_PER_ELEMENT;i<this.BYTES_PER_ELEMENT;i+=1,o+=1)this.buffer._bytes[o]=bytes[i]}},ctor.prototype.set=function(index,value){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var array,sequence,offset,len,i,s,d,byteOffset,byteLength,tmp;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(array=arguments[0],(offset=ECMAScript.ToUint32(arguments[1]))+array.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(byteOffset=this.byteOffset+offset*this.BYTES_PER_ELEMENT,byteLength=array.length*this.BYTES_PER_ELEMENT,array.buffer===this.buffer){for(tmp=[],i=0,s=array.byteOffset;i<byteLength;i+=1,s+=1)tmp[i]=array.buffer._bytes[s];for(i=0,d=byteOffset;i<byteLength;i+=1,d+=1)this.buffer._bytes[d]=tmp[i]}else for(i=0,s=array.byteOffset,d=byteOffset;i<byteLength;i+=1,s+=1,d+=1)this.buffer._bytes[d]=array.buffer._bytes[s]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(sequence=arguments[0],len=ECMAScript.ToUint32(sequence.length),(offset=ECMAScript.ToUint32(arguments[1]))+len>this.length)throw new RangeError("Offset plus length of array is out of range");for(i=0;i<len;i+=1)s=sequence[i],this._setter(offset+i,Number(s))}},ctor.prototype.subarray=function(start,end){function clamp(v,min,max){return v<min?min:v>max?max:v}start=ECMAScript.ToInt32(start),end=ECMAScript.ToInt32(end),arguments.length<1&&(start=0),arguments.length<2&&(end=this.length),start<0&&(start=this.length+start),end<0&&(end=this.length+end),start=clamp(start,0,this.length);var len=(end=clamp(end,0,this.length))-start;return len<0&&(len=0),new this.constructor(this.buffer,this.byteOffset+start*this.BYTES_PER_ELEMENT,len)},ctor}var Int8Array=makeConstructor(1,packI8,unpackI8),Uint8Array=makeConstructor(1,packU8,unpackU8),Uint8ClampedArray=makeConstructor(1,packU8Clamped,unpackU8),Int16Array=makeConstructor(2,packI16,unpackI16),Uint16Array=makeConstructor(2,packU16,unpackU16),Int32Array=makeConstructor(4,packI32,unpackI32),Uint32Array=makeConstructor(4,packU32,unpackU32),Float32Array=makeConstructor(4,packF32,unpackF32),Float64Array=makeConstructor(8,packF64,unpackF64);exports.Int8Array=exports.Int8Array||Int8Array,exports.Uint8Array=exports.Uint8Array||Uint8Array,exports.Uint8ClampedArray=exports.Uint8ClampedArray||Uint8ClampedArray,exports.Int16Array=exports.Int16Array||Int16Array,exports.Uint16Array=exports.Uint16Array||Uint16Array,exports.Int32Array=exports.Int32Array||Int32Array,exports.Uint32Array=exports.Uint32Array||Uint32Array,exports.Float32Array=exports.Float32Array||Float32Array,exports.Float64Array=exports.Float64Array||Float64Array}(),function(){function r(array,index){return ECMAScript.IsCallable(array.get)?array.get(index):array[index]}var u16array,IS_BIG_ENDIAN=(u16array=new exports.Uint16Array([4660]),18===r(new exports.Uint8Array(u16array.buffer),0)),DataView=function(buffer,byteOffset,byteLength){if(0===arguments.length)buffer=new exports.ArrayBuffer(0);else if(!(buffer instanceof exports.ArrayBuffer||"ArrayBuffer"===ECMAScript.Class(buffer)))throw new TypeError("TypeError");if(this.buffer=buffer||new exports.ArrayBuffer(0),this.byteOffset=ECMAScript.ToUint32(byteOffset),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(arguments.length<3?this.byteLength=this.buffer.byteLength-this.byteOffset:this.byteLength=ECMAScript.ToUint32(byteLength),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");configureProperties(this)};function makeGetter(arrayType){return function(byteOffset,littleEndian){if((byteOffset=ECMAScript.ToUint32(byteOffset))+arrayType.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");byteOffset+=this.byteOffset;var i,uint8Array=new exports.Uint8Array(this.buffer,byteOffset,arrayType.BYTES_PER_ELEMENT),bytes=[];for(i=0;i<arrayType.BYTES_PER_ELEMENT;i+=1)bytes.push(r(uint8Array,i));return Boolean(littleEndian)===Boolean(IS_BIG_ENDIAN)&&bytes.reverse(),r(new arrayType(new exports.Uint8Array(bytes).buffer),0)}}function makeSetter(arrayType){return function(byteOffset,value,littleEndian){if((byteOffset=ECMAScript.ToUint32(byteOffset))+arrayType.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var i,typeArray=new arrayType([value]),byteArray=new exports.Uint8Array(typeArray.buffer),bytes=[];for(i=0;i<arrayType.BYTES_PER_ELEMENT;i+=1)bytes.push(r(byteArray,i));Boolean(littleEndian)===Boolean(IS_BIG_ENDIAN)&&bytes.reverse(),new exports.Uint8Array(this.buffer,byteOffset,arrayType.BYTES_PER_ELEMENT).set(bytes)}}DataView.prototype.getUint8=makeGetter(exports.Uint8Array),DataView.prototype.getInt8=makeGetter(exports.Int8Array),DataView.prototype.getUint16=makeGetter(exports.Uint16Array),DataView.prototype.getInt16=makeGetter(exports.Int16Array),DataView.prototype.getUint32=makeGetter(exports.Uint32Array),DataView.prototype.getInt32=makeGetter(exports.Int32Array),DataView.prototype.getFloat32=makeGetter(exports.Float32Array),DataView.prototype.getFloat64=makeGetter(exports.Float64Array),DataView.prototype.setUint8=makeSetter(exports.Uint8Array),DataView.prototype.setInt8=makeSetter(exports.Int8Array),DataView.prototype.setUint16=makeSetter(exports.Uint16Array),DataView.prototype.setInt16=makeSetter(exports.Int16Array),DataView.prototype.setUint32=makeSetter(exports.Uint32Array),DataView.prototype.setInt32=makeSetter(exports.Int32Array),DataView.prototype.setFloat32=makeSetter(exports.Float32Array),DataView.prototype.setFloat64=makeSetter(exports.Float64Array),exports.DataView=exports.DataView||DataView}()},function(module,exports,__webpack_require__){"use strict";var through=__webpack_require__(64),StringDecoder=__webpack_require__(336).StringDecoder;function transform(chunk,enc,cb){if(this._last+=this._decoder.write(chunk),this._last.length>this.maxLength)return cb(new Error("maximum buffer reached"));var list=this._last.split(this.matcher);this._last=list.pop();for(var i=0;i<list.length;i++)push(this,this.mapper(list[i]));cb()}function flush(cb){this._last+=this._decoder.end(),this._last&&push(this,this.mapper(this._last)),cb()}function push(self,val){void 0!==val&&self.push(val)}function noop(incoming){return incoming}module.exports=function(matcher,mapper,options){switch(matcher=matcher||/\r?\n/,mapper=mapper||noop,options=options||{},arguments.length){case 1:"function"==typeof matcher?(mapper=matcher,matcher=/\r?\n/):"object"!=typeof matcher||matcher instanceof RegExp||(options=matcher,matcher=/\r?\n/);break;case 2:"function"==typeof matcher?(options=mapper,mapper=matcher,matcher=/\r?\n/):"object"==typeof mapper&&(options=mapper,mapper=noop)}var stream=through(options,transform,flush);return stream._readableState.objectMode=!0,stream._readableState.highWaterMark&&!options.highWaterMark&&(stream._readableState.highWaterMark=16),stream._last="",stream._decoder=new StringDecoder("utf8"),stream.matcher=matcher,stream.mapper=mapper,stream.maxLength=options.maxLength,stream}},function(module,exports){module.exports=require("string_decoder")},function(module,exports,__webpack_require__){(function(module){var mqtt=__webpack_require__(55),path=__webpack_require__(6),fs=__webpack_require__(4),helpMe=__webpack_require__(63)({dir:path.join(__dirname,"..","doc")}),minimist=__webpack_require__(133);function start(args){if((args=minimist(args,{string:["hostname","username","password","key","cert","ca","clientId","i","id"],boolean:["stdin","help","clean","insecure"],alias:{port:"p",hostname:["h","host"],topic:"t",qos:"q",clean:"c",keepalive:"k",clientId:["i","id"],username:"u",password:"P",protocol:["C","l"],verbose:"v",help:"-H",ca:"cafile"},default:{host:"localhost",qos:0,retain:!1,clean:!0,keepAlive:30}})).help)return helpMe.toStdout("subscribe");if(args.topic=args.topic||args._.shift(),!args.topic)return console.error("missing topic\n"),helpMe.toStdout("subscribe");if(args.key&&(args.key=fs.readFileSync(args.key)),args.cert&&(args.cert=fs.readFileSync(args.cert)),args.ca&&(args.ca=fs.readFileSync(args.ca)),args.key&&args.cert&&!args.protocol&&(args.protocol="mqtts"),args.insecure&&(args.rejectUnauthorized=!1),args.port&&"number"!=typeof args.port)console.warn("# Port: number expected, '%s' was given.",typeof args.port);else{args["will-topic"]&&(args.will={},args.will.topic=args["will-topic"],args.will.payload=args["will-message"],args.will.qos=args["will-qos"],args.will.retain=args["will-retain"]),args.keepAlive=args["keep-alive"];var client=mqtt.connect(args);client.on("connect",(function(){client.subscribe(args.topic,{qos:args.qos},(function(err,result){err&&(console.error(err),process.exit(1)),result.forEach((function(sub){sub.qos>2&&(console.error("subscription negated to",sub.topic,"with code",sub.qos),process.exit(1))}))}))})),client.on("message",(function(topic,payload){args.verbose?console.log(topic,payload.toString()):console.log(payload.toString())})),client.on("error",(function(err){console.warn(err),client.end()}))}}module.exports=start,__webpack_require__.c[__webpack_require__.s]===module&&start(process.argv.slice(2))}).call(this,__webpack_require__(35)(module))},function(module){module.exports=JSON.parse('{"name":"mqtt","description":"A library for the MQTT protocol","version":"2.18.8","contributors":["Adam Rudd <adamvrr@gmail.com>","Matteo Collina <matteo.collina@gmail.com> (https://github.com/mcollina)"],"keywords":["mqtt","publish/subscribe","publish","subscribe"],"license":"MIT","repository":{"type":"git","url":"git://github.com/mqttjs/MQTT.js.git"},"main":"mqtt.js","types":"types/index.d.ts","scripts":{"test":"node_modules/.bin/istanbul cover ./node_modules/mocha/bin/_mocha --report lcovonly --","pretest":"standard | snazzy","tslint":"if [[ \\"`node -v`\\" != \\"v4.3.2\\" ]]; then tslint types/**/*.d.ts; fi","typescript-compile-test":"tsc -p test/typescript/tsconfig.json","typescript-compile-execute":"node test/typescript/*.js","typescript-test":"npm run typescript-compile-test && npm run typescript-compile-execute","prepare":"npm run browser-build","browser-build":"rimraf dist/ && mkdirp dist/ && browserify mqtt.js -s mqtt > dist/mqtt.js && uglifyjs < dist/mqtt.js > dist/mqtt.min.js","browser-test":"zuul --server test/browser/server.js --local --open test/browser/test.js","weapp-test":"zuul --server test/browser/server.js --local --open test/browser/wx.js","sauce-test":"zuul --server test/browser/server.js --tunnel ngrok -- test/browser/test.js","ci":"npm run tslint && npm run typescript-test && npm run test && codecov"},"pre-commit":["test","tslint"],"bin":{"mqtt_pub":"./bin/pub.js","mqtt_sub":"./bin/sub.js","mqtt":"./mqtt.js"},"files":["dist/","CONTRIBUTING.md","doc","lib","bin","examples","test","types","mqtt.js"],"engines":{"node":">=4.0.0"},"browser":{"./mqtt.js":"./lib/connect/index.js","fs":false,"tls":false,"net":false},"dependencies":{"commist":"^1.0.0","concat-stream":"^1.6.2","end-of-stream":"^1.4.1","es6-map":"^0.1.5","help-me":"^1.0.1","inherits":"^2.0.3","minimist":"^1.2.0","mqtt-packet":"^5.6.0","pump":"^3.0.0","readable-stream":"^2.3.6","reinterval":"^1.1.0","split2":"^2.1.1","websocket-stream":"^5.1.2","xtend":"^4.0.1"},"devDependencies":{"@types/node":"^8.10.21","browserify":"^16.2.2","codecov":"^3.0.4","global":"^4.3.2","istanbul":"^0.4.5","mkdirp":"^0.5.1","mocha":"^4.1.0","mqtt-connection":"^3.0.0","pre-commit":"^1.2.2","rimraf":"^2.6.2","safe-buffer":"^5.1.2","should":"^13.2.1","sinon":"~1.17.7","snazzy":"^7.1.1","standard":"^11.0.1","through2":"^2.0.3","tslint":"^5.11.0","tslint-config-standard":"^7.1.0","typescript":"^2.9.2","uglify-js":"^3.4.5","ws":"^3.3.3","zuul":"^3.12.0","zuul-ngrok":"^4.0.0"},"standard":{"env":["mocha"]}}')},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(11),util_1=__webpack_require__(0),mqttClient_1=tslib_1.__importDefault(__webpack_require__(93));class MqttStreamClient extends mqttClient_1.default{constructor(opts={}){super(opts),this.streamFrom=(streamHooks=[],opts={qos:1})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){const hooks=Array.isArray(streamHooks)?streamHooks:[streamHooks],promises=[];for(let index=0;index<hooks.length;index+=1){const streamHook=hooks[index],promise=this.addStreamHook(streamHook,opts);promises.push(promise)}return Promise.all(promises)})),this.addStreamHook=(streamHook,opts={qos:1})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){const{stream:stream,deviceId:deviceId,channel:channel,topic:topic,routingKey:routingKey,qos:qos,callback:callback,cache:cache=!0}=streamHook;if(util_1.isNullOrUndefined(stream)&&(util_1.isNullOrUndefined(channel)||util_1.isNullOrUndefined(deviceId)))return void this.log("error","Missing Stream or Device ID and Channel");if(util_1.isNullOrUndefined(callback))return void this.log("error","Missing Callback");let topicName=topic,topicQOS=qos||this.connectionOpts.qos;if(!util_1.isNullOrUndefined(stream)&&stream.length>0){if(!this.liveStreamExists(stream))return void console.error(`Stream ${stream||""} does not exist`);topicName=this.streamTopicFor(stream),topicQOS=cache?1:0}else topicName=this.streamChannelTopicFor({deviceId:deviceId,channel:channel,topic:topic,routingKey:routingKey});this.addMqttListener(topicName,callback,topicName),yield this.subscribe(topicName,Object.assign(Object.assign(Object.assign({},this.connectionOpts),opts),{qos:topicQOS}))})),this.streamChannelTopicFor=(params={})=>{const{deviceId:deviceId="",channel:channel="",routingKey:routingKey="",topic:topic=""}=params;if(0===routingKey.length&&0===deviceId.length)return this.defaultStreamRoutingKey;if(routingKey.length>0)return routingKey;let streamRoutingKey=deviceId||this.getDeviceId();return channel.length>0&&(streamRoutingKey+="/"+channel),topic.length>0&&(streamRoutingKey+="/"+topic),""+streamRoutingKey},this.streamTopicFor=(stream="")=>`${stream}/${this.liveStreamSuffix}`,this.defaultStreamRoutingKey="#"}}delete MqttStreamClient.prototype.onMessage,delete MqttStreamClient.prototype.publish,exports.default=MqttStreamClient},function(module,exports,__webpack_require__){var factory;"undefined"!=typeof self&&self,factory=function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}({"./src/byte.ts":
/*!*********************!*\
  !*** ./src/byte.ts ***!
  \*********************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BYTE={LF:"\n",NULL:"\0"}},"./src/client.ts":
/*!***********************!*\
  !*** ./src/client.ts ***!
  \***********************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P((function(resolve){resolve(value)}))).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!((t=(t=_.trys).length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,"__esModule",{value:!0});var stomp_handler_1=__webpack_require__(/*! ./stomp-handler */"./src/stomp-handler.ts"),versions_1=__webpack_require__(/*! ./versions */"./src/versions.ts"),web_socket_state_1=__webpack_require__(/*! ./web-socket-state */"./src/web-socket-state.ts"),Client=function(){function Client(conf){void 0===conf&&(conf={}),this.stompVersions=versions_1.Versions.default,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this._active=!1;var noOp=function(){};this.debug=noOp,this.beforeConnect=noOp,this.onConnect=noOp,this.onDisconnect=noOp,this.onUnhandledMessage=noOp,this.onUnhandledReceipt=noOp,this.onUnhandledFrame=noOp,this.onStompError=noOp,this.onWebSocketClose=noOp,this.onWebSocketError=noOp,this.logRawCommunication=!1,this.connectHeaders={},this._disconnectHeaders={},this.configure(conf)}return Object.defineProperty(Client.prototype,"webSocket",{get:function(){return this._webSocket},enumerable:!0,configurable:!0}),Object.defineProperty(Client.prototype,"disconnectHeaders",{get:function(){return this._disconnectHeaders},set:function(value){this._disconnectHeaders=value,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)},enumerable:!0,configurable:!0}),Object.defineProperty(Client.prototype,"connected",{get:function(){return!!this._stompHandler&&this._stompHandler.connected},enumerable:!0,configurable:!0}),Object.defineProperty(Client.prototype,"connectedVersion",{get:function(){return this._stompHandler?this._stompHandler.connectedVersion:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(Client.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),Client.prototype.configure=function(conf){Object.assign(this,conf)},Client.prototype.activate=function(){this._active=!0,this._connect()},Client.prototype._connect=function(){return __awaiter(this,void 0,void 0,(function(){var _this=this;return __generator(this,(function(_a){switch(_a.label){case 0:return this.connected?(this.debug("STOMP: already connected, nothing to do"),[2]):[4,this.beforeConnect()];case 1:return _a.sent(),this._active?(this.debug("Opening Web Socket..."),this._webSocket=this._createWebSocket(),this._stompHandler=new stomp_handler_1.StompHandler(this,this._webSocket,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,onConnect:function(frame){if(!_this._active)return _this.debug("STOMP got connected while deactivate was issued, will disconnect now"),void _this._disposeStompHandler();_this.onConnect(frame)},onDisconnect:function(frame){_this.onDisconnect(frame)},onStompError:function(frame){_this.onStompError(frame)},onWebSocketClose:function(evt){_this.onWebSocketClose(evt),_this._active&&_this._schedule_reconnect()},onWebSocketError:function(evt){_this.onWebSocketError(evt)},onUnhandledMessage:function(message){_this.onUnhandledMessage(message)},onUnhandledReceipt:function(frame){_this.onUnhandledReceipt(frame)},onUnhandledFrame:function(frame){_this.onUnhandledFrame(frame)}}),this._stompHandler.start(),[2]):(this.debug("Client has been marked inactive, will not attempt to connect"),[2])}}))}))},Client.prototype._createWebSocket=function(){var webSocket;return(webSocket=this.webSocketFactory?this.webSocketFactory():new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())).binaryType="arraybuffer",webSocket},Client.prototype._schedule_reconnect=function(){var _this=this;this.reconnectDelay>0&&(this.debug("STOMP: scheduling reconnection in "+this.reconnectDelay+"ms"),this._reconnector=setTimeout((function(){_this._connect()}),this.reconnectDelay))},Client.prototype.deactivate=function(){this._active=!1,this._reconnector&&clearTimeout(this._reconnector),this._disposeStompHandler()},Client.prototype.forceDisconnect=function(){this._webSocket&&(this._webSocket.readyState!==web_socket_state_1.WebSocketState.CONNECTING&&this._webSocket.readyState!==web_socket_state_1.WebSocketState.OPEN||this._stompHandler._closeWebsocket())},Client.prototype._disposeStompHandler=function(){this._stompHandler&&(this._stompHandler.dispose(),this._stompHandler=null)},Client.prototype.publish=function(params){this._stompHandler.publish(params)},Client.prototype.watchForReceipt=function(receiptId,callback){this._stompHandler.watchForReceipt(receiptId,callback)},Client.prototype.subscribe=function(destination,callback,headers){return void 0===headers&&(headers={}),this._stompHandler.subscribe(destination,callback,headers)},Client.prototype.unsubscribe=function(id,headers){void 0===headers&&(headers={}),this._stompHandler.unsubscribe(id,headers)},Client.prototype.begin=function(transactionId){return this._stompHandler.begin(transactionId)},Client.prototype.commit=function(transactionId){this._stompHandler.commit(transactionId)},Client.prototype.abort=function(transactionId){this._stompHandler.abort(transactionId)},Client.prototype.ack=function(messageId,subscriptionId,headers){void 0===headers&&(headers={}),this._stompHandler.ack(messageId,subscriptionId,headers)},Client.prototype.nack=function(messageId,subscriptionId,headers){void 0===headers&&(headers={}),this._stompHandler.nack(messageId,subscriptionId,headers)},Client}();exports.Client=Client},"./src/compatibility/compat-client.ts":
/*!********************************************!*\
  !*** ./src/compatibility/compat-client.ts ***!
  \********************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var client_1=__webpack_require__(/*! ../client */"./src/client.ts"),heartbeat_info_1=__webpack_require__(/*! ./heartbeat-info */"./src/compatibility/heartbeat-info.ts"),CompatClient=function(_super){function CompatClient(webSocketFactory){var _this=_super.call(this)||this;return _this.maxWebSocketFrameSize=16384,_this._heartbeatInfo=new heartbeat_info_1.HeartbeatInfo(_this),_this.reconnect_delay=0,_this.webSocketFactory=webSocketFactory,_this.debug=function(){for(var message=[],_i=0;_i<arguments.length;_i++)message[_i]=arguments[_i];console.log.apply(console,message)},_this}return __extends(CompatClient,_super),CompatClient.prototype._parseConnect=function(){for(var closeEventCallback,connectCallback,errorCallback,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var headers={};if(args.length<2)throw new Error("Connect requires at least 2 arguments");if("function"==typeof args[1])headers=args[0],connectCallback=args[1],errorCallback=args[2],closeEventCallback=args[3];else switch(args.length){case 6:headers.login=args[0],headers.passcode=args[1],connectCallback=args[2],errorCallback=args[3],closeEventCallback=args[4],headers.host=args[5];break;default:headers.login=args[0],headers.passcode=args[1],connectCallback=args[2],errorCallback=args[3],closeEventCallback=args[4]}return[headers,connectCallback,errorCallback,closeEventCallback]},CompatClient.prototype.connect=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var out=this._parseConnect.apply(this,args);out[0]&&(this.connectHeaders=out[0]),out[1]&&(this.onConnect=out[1]),out[2]&&(this.onStompError=out[2]),out[3]&&(this.onWebSocketClose=out[3]),_super.prototype.activate.call(this)},CompatClient.prototype.disconnect=function(disconnectCallback,headers){void 0===headers&&(headers={}),disconnectCallback&&(this.onDisconnect=disconnectCallback),this.disconnectHeaders=headers,_super.prototype.deactivate.call(this)},CompatClient.prototype.send=function(destination,headers,body){void 0===headers&&(headers={}),void 0===body&&(body="");var skipContentLengthHeader=!1===(headers=Object.assign({},headers))["content-length"];skipContentLengthHeader&&delete headers["content-length"],this.publish({destination:destination,headers:headers,body:body,skipContentLengthHeader:skipContentLengthHeader})},Object.defineProperty(CompatClient.prototype,"reconnect_delay",{set:function(value){this.reconnectDelay=value},enumerable:!0,configurable:!0}),Object.defineProperty(CompatClient.prototype,"ws",{get:function(){return this._webSocket},enumerable:!0,configurable:!0}),Object.defineProperty(CompatClient.prototype,"version",{get:function(){return this.connectedVersion},enumerable:!0,configurable:!0}),Object.defineProperty(CompatClient.prototype,"onreceive",{get:function(){return this.onUnhandledMessage},set:function(value){this.onUnhandledMessage=value},enumerable:!0,configurable:!0}),Object.defineProperty(CompatClient.prototype,"onreceipt",{get:function(){return this.onUnhandledReceipt},set:function(value){this.onUnhandledReceipt=value},enumerable:!0,configurable:!0}),Object.defineProperty(CompatClient.prototype,"heartbeat",{get:function(){return this._heartbeatInfo},set:function(value){this.heartbeatIncoming=value.incoming,this.heartbeatOutgoing=value.outgoing},enumerable:!0,configurable:!0}),CompatClient}(client_1.Client);exports.CompatClient=CompatClient},"./src/compatibility/heartbeat-info.ts":
/*!*********************************************!*\
  !*** ./src/compatibility/heartbeat-info.ts ***!
  \*********************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var HeartbeatInfo=function(){function HeartbeatInfo(client){this.client=client}return Object.defineProperty(HeartbeatInfo.prototype,"outgoing",{get:function(){return this.client.heartbeatOutgoing},set:function(value){this.client.heartbeatOutgoing=value},enumerable:!0,configurable:!0}),Object.defineProperty(HeartbeatInfo.prototype,"incoming",{get:function(){return this.client.heartbeatIncoming},set:function(value){this.client.heartbeatIncoming=value},enumerable:!0,configurable:!0}),HeartbeatInfo}();exports.HeartbeatInfo=HeartbeatInfo},"./src/compatibility/stomp.ts":
/*!************************************!*\
  !*** ./src/compatibility/stomp.ts ***!
  \************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var versions_1=__webpack_require__(/*! ../versions */"./src/versions.ts"),compat_client_1=__webpack_require__(/*! ./compat-client */"./src/compatibility/compat-client.ts"),Stomp=function(){function Stomp(){}return Stomp.client=function(url,protocols){return null==protocols&&(protocols=versions_1.Versions.default.protocolVersions()),new compat_client_1.CompatClient((function(){return new(Stomp.WebSocketClass||WebSocket)(url,protocols)}))},Stomp.over=function(ws){var wsFn;return"function"==typeof ws?wsFn=ws:(console.warn("Stomp.over did not receive a factory, auto reconnect will not work. Please see https://stomp-js.github.io/api-docs/latest/classes/Stomp.html#over"),wsFn=function(){return ws}),new compat_client_1.CompatClient(wsFn)},Stomp.WebSocketClass=null,Stomp}();exports.Stomp=Stomp},"./src/frame-impl.ts":
/*!***************************!*\
  !*** ./src/frame-impl.ts ***!
  \***************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var byte_1=__webpack_require__(/*! ./byte */"./src/byte.ts"),FrameImpl=function(){function FrameImpl(params){var command=params.command,headers=params.headers,body=params.body,binaryBody=params.binaryBody,escapeHeaderValues=params.escapeHeaderValues,skipContentLengthHeader=params.skipContentLengthHeader;this.command=command,this.headers=Object.assign({},headers||{}),binaryBody?(this._binaryBody=binaryBody,this.isBinaryBody=!0):(this._body=body||"",this.isBinaryBody=!1),this.escapeHeaderValues=escapeHeaderValues||!1,this.skipContentLengthHeader=skipContentLengthHeader||!1}return Object.defineProperty(FrameImpl.prototype,"body",{get:function(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body},enumerable:!0,configurable:!0}),Object.defineProperty(FrameImpl.prototype,"binaryBody",{get:function(){return this._binaryBody||this.isBinaryBody||(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody},enumerable:!0,configurable:!0}),FrameImpl.fromRawFrame=function(rawFrame,escapeHeaderValues){for(var headers={},trim=function(str){return str.replace(/^\s+|\s+$/g,"")},_i=0,_a=rawFrame.headers.reverse();_i<_a.length;_i++){var header=_a[_i],key=(header.indexOf(":"),trim(header[0])),value=trim(header[1]);escapeHeaderValues&&"CONNECT"!==rawFrame.command&&"CONNECTED"!==rawFrame.command&&(value=FrameImpl.hdrValueUnEscape(value)),headers[key]=value}return new FrameImpl({command:rawFrame.command,headers:headers,binaryBody:rawFrame.binaryBody,escapeHeaderValues:escapeHeaderValues})},FrameImpl.prototype.toString=function(){return this.serializeCmdAndHeaders()},FrameImpl.prototype.serialize=function(){var cmdAndHeaders=this.serializeCmdAndHeaders();return this.isBinaryBody?FrameImpl.toUnit8Array(cmdAndHeaders,this._binaryBody).buffer:cmdAndHeaders+this._body+byte_1.BYTE.NULL},FrameImpl.prototype.serializeCmdAndHeaders=function(){var lines=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(var _i=0,_a=Object.keys(this.headers||{});_i<_a.length;_i++){var name_1=_a[_i],value=this.headers[name_1];this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?lines.push(name_1+":"+FrameImpl.hdrValueEscape(""+value)):lines.push(name_1+":"+value)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&lines.push("content-length:"+this.bodyLength()),lines.join(byte_1.BYTE.LF)+byte_1.BYTE.LF+byte_1.BYTE.LF},FrameImpl.prototype.isBodyEmpty=function(){return 0===this.bodyLength()},FrameImpl.prototype.bodyLength=function(){var binaryBody=this.binaryBody;return binaryBody?binaryBody.length:0},FrameImpl.sizeOfUTF8=function(s){return s?(new TextEncoder).encode(s).length:0},FrameImpl.toUnit8Array=function(cmdAndHeaders,binaryBody){var uint8CmdAndHeaders=(new TextEncoder).encode(cmdAndHeaders),nullTerminator=new Uint8Array([0]),uint8Frame=new Uint8Array(uint8CmdAndHeaders.length+binaryBody.length+nullTerminator.length);return uint8Frame.set(uint8CmdAndHeaders),uint8Frame.set(binaryBody,uint8CmdAndHeaders.length),uint8Frame.set(nullTerminator,uint8CmdAndHeaders.length+binaryBody.length),uint8Frame},FrameImpl.marshall=function(params){return new FrameImpl(params).serialize()},FrameImpl.hdrValueEscape=function(str){return str.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")},FrameImpl.hdrValueUnEscape=function(str){return str.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")},FrameImpl}();exports.FrameImpl=FrameImpl},"./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(/*! ./client */"./src/client.ts")),__export(__webpack_require__(/*! ./frame-impl */"./src/frame-impl.ts")),__export(__webpack_require__(/*! ./parser */"./src/parser.ts")),__export(__webpack_require__(/*! ./stomp-config */"./src/stomp-config.ts")),__export(__webpack_require__(/*! ./stomp-headers */"./src/stomp-headers.ts")),__export(__webpack_require__(/*! ./stomp-subscription */"./src/stomp-subscription.ts")),__export(__webpack_require__(/*! ./versions */"./src/versions.ts")),__export(__webpack_require__(/*! ./web-socket-state */"./src/web-socket-state.ts")),__export(__webpack_require__(/*! ./compatibility/compat-client */"./src/compatibility/compat-client.ts")),__export(__webpack_require__(/*! ./compatibility/stomp */"./src/compatibility/stomp.ts"))},"./src/parser.ts":
/*!***********************!*\
  !*** ./src/parser.ts ***!
  \***********************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Parser=function(){function Parser(onFrame,onIncomingPing){this.onFrame=onFrame,this.onIncomingPing=onIncomingPing,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}return Parser.prototype.parseChunk=function(segment,appendMissingNULLonIncoming){var chunk;if(void 0===appendMissingNULLonIncoming&&(appendMissingNULLonIncoming=!1),chunk=segment instanceof ArrayBuffer?new Uint8Array(segment):this._encoder.encode(segment),appendMissingNULLonIncoming&&0!==chunk[chunk.length-1]){var chunkWithNull=new Uint8Array(chunk.length+1);chunkWithNull.set(chunk,0),chunkWithNull[chunk.length]=0,chunk=chunkWithNull}for(var i=0;i<chunk.length;i++){var byte=chunk[i];this._onByte(byte)}},Parser.prototype._collectFrame=function(byte){0!==byte&&13!==byte&&(10!==byte?(this._onByte=this._collectCommand,this._reinjectByte(byte)):this.onIncomingPing())},Parser.prototype._collectCommand=function(byte){if(13!==byte)return 10===byte?(this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders)):void this._consumeByte(byte)},Parser.prototype._collectHeaders=function(byte){13!==byte&&(10!==byte?(this._onByte=this._collectHeaderKey,this._reinjectByte(byte)):this._setupCollectBody())},Parser.prototype._reinjectByte=function(byte){this._onByte(byte)},Parser.prototype._collectHeaderKey=function(byte){if(58===byte)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(byte)},Parser.prototype._collectHeaderValue=function(byte){if(13!==byte)return 10===byte?(this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders)):void this._consumeByte(byte)},Parser.prototype._setupCollectBody=function(){var contentLengthHeader=this._results.headers.filter((function(header){return"content-length"===header[0]}))[0];contentLengthHeader?(this._bodyBytesRemaining=parseInt(contentLengthHeader[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated},Parser.prototype._collectBodyNullTerminated=function(byte){0!==byte?this._consumeByte(byte):this._retrievedBody()},Parser.prototype._collectBodyFixedSize=function(byte){0!=this._bodyBytesRemaining--?this._consumeByte(byte):this._retrievedBody()},Parser.prototype._retrievedBody=function(){this._results.binaryBody=this._consumeTokenAsRaw(),this.onFrame(this._results),this._initState()},Parser.prototype._consumeByte=function(byte){this._token.push(byte)},Parser.prototype._consumeTokenAsUTF8=function(){return this._decoder.decode(this._consumeTokenAsRaw())},Parser.prototype._consumeTokenAsRaw=function(){var rawResult=new Uint8Array(this._token);return this._token=[],rawResult},Parser.prototype._initState=function(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame},Parser}();exports.Parser=Parser},"./src/stomp-config.ts":
/*!*****************************!*\
  !*** ./src/stomp-config.ts ***!
  \*****************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var StompConfig=function(){};exports.StompConfig=StompConfig},"./src/stomp-handler.ts":
/*!******************************!*\
  !*** ./src/stomp-handler.ts ***!
  \******************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var byte_1=__webpack_require__(/*! ./byte */"./src/byte.ts"),frame_impl_1=__webpack_require__(/*! ./frame-impl */"./src/frame-impl.ts"),parser_1=__webpack_require__(/*! ./parser */"./src/parser.ts"),versions_1=__webpack_require__(/*! ./versions */"./src/versions.ts"),web_socket_state_1=__webpack_require__(/*! ./web-socket-state */"./src/web-socket-state.ts"),StompHandler=function(){function StompHandler(_client,_webSocket,config){var _this=this;void 0===config&&(config={}),this._client=_client,this._webSocket=_webSocket,this._serverFrameHandlers={CONNECTED:function(frame){_this.debug("connected to server "+frame.headers.server),_this._connected=!0,_this._connectedVersion=frame.headers.version,_this._connectedVersion===versions_1.Versions.V1_2&&(_this._escapeHeaderValues=!0),_this._setupHeartbeat(frame.headers),_this.onConnect(frame)},MESSAGE:function(frame){var subscription=frame.headers.subscription,onReceive=_this._subscriptions[subscription]||_this.onUnhandledMessage,message=frame,client=_this,messageId=_this._connectedVersion===versions_1.Versions.V1_2?message.headers.ack:message.headers["message-id"];message.ack=function(headers){return void 0===headers&&(headers={}),client.ack(messageId,subscription,headers)},message.nack=function(headers){return void 0===headers&&(headers={}),client.nack(messageId,subscription,headers)},onReceive(message)},RECEIPT:function(frame){var callback=_this._receiptWatchers[frame.headers["receipt-id"]];callback?(callback(frame),delete _this._receiptWatchers[frame.headers["receipt-id"]]):_this.onUnhandledReceipt(frame)},ERROR:function(frame){_this.onStompError(frame)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.configure(config)}return Object.defineProperty(StompHandler.prototype,"connectedVersion",{get:function(){return this._connectedVersion},enumerable:!0,configurable:!0}),Object.defineProperty(StompHandler.prototype,"connected",{get:function(){return this._connected},enumerable:!0,configurable:!0}),StompHandler.prototype.configure=function(conf){Object.assign(this,conf)},StompHandler.prototype.start=function(){var _this=this,parser=new parser_1.Parser((function(rawFrame){var frame=frame_impl_1.FrameImpl.fromRawFrame(rawFrame,_this._escapeHeaderValues);_this.logRawCommunication||_this.debug("<<< "+frame),(_this._serverFrameHandlers[frame.command]||_this.onUnhandledFrame)(frame)}),(function(){_this.debug("<<< PONG")}));this._webSocket.onmessage=function(evt){if(_this.debug("Received data"),_this._lastServerActivityTS=Date.now(),_this.logRawCommunication){var rawChunkAsString=evt.data instanceof ArrayBuffer?(new TextDecoder).decode(evt.data):evt.data;_this.debug("<<< "+rawChunkAsString)}parser.parseChunk(evt.data,_this.appendMissingNULLonIncoming)},this._webSocket.onclose=function(closeEvent){_this.debug("Connection closed to "+_this._webSocket.url),_this.onWebSocketClose(closeEvent),_this._cleanUp()},this._webSocket.onerror=function(errorEvent){_this.onWebSocketError(errorEvent)},this._webSocket.onopen=function(){var connectHeaders=Object.assign({},_this.connectHeaders);_this.debug("Web Socket Opened..."),connectHeaders["accept-version"]=_this.stompVersions.supportedVersions(),connectHeaders["heart-beat"]=[_this.heartbeatOutgoing,_this.heartbeatIncoming].join(","),_this._transmit({command:"CONNECT",headers:connectHeaders})}},StompHandler.prototype._setupHeartbeat=function(headers){var _this=this;if((headers.version===versions_1.Versions.V1_1||headers.version===versions_1.Versions.V1_2)&&headers["heart-beat"]){var _a=headers["heart-beat"].split(",").map((function(v){return parseInt(v,10)})),serverOutgoing=_a[0],serverIncoming=_a[1];if(0!==this.heartbeatOutgoing&&0!==serverIncoming){var ttl=Math.max(this.heartbeatOutgoing,serverIncoming);this.debug("send PING every "+ttl+"ms"),this._pinger=setInterval((function(){_this._webSocket.readyState===web_socket_state_1.WebSocketState.OPEN&&(_this._webSocket.send(byte_1.BYTE.LF),_this.debug(">>> PING"))}),ttl)}if(0!==this.heartbeatIncoming&&0!==serverOutgoing){var ttl_1=Math.max(this.heartbeatIncoming,serverOutgoing);this.debug("check PONG every "+ttl_1+"ms"),this._ponger=setInterval((function(){var delta=Date.now()-_this._lastServerActivityTS;delta>2*ttl_1&&(_this.debug("did not receive server activity for the last "+delta+"ms"),_this._closeWebsocket())}),ttl_1)}}},StompHandler.prototype._closeWebsocket=function(){this._webSocket.onmessage=function(){},this._webSocket.close()},StompHandler.prototype._transmit=function(params){var command=params.command,headers=params.headers,body=params.body,binaryBody=params.binaryBody,skipContentLengthHeader=params.skipContentLengthHeader,frame=new frame_impl_1.FrameImpl({command:command,headers:headers,body:body,binaryBody:binaryBody,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:skipContentLengthHeader}),rawChunk=frame.serialize();if(this.logRawCommunication?this.debug(">>> "+rawChunk):this.debug(">>> "+frame),this.forceBinaryWSFrames&&"string"==typeof rawChunk&&(rawChunk=(new TextEncoder).encode(rawChunk)),"string"==typeof rawChunk&&this.splitLargeFrames)for(var out=rawChunk;out.length>0;){var chunk=out.substring(0,this.maxWebSocketChunkSize);out=out.substring(this.maxWebSocketChunkSize),this._webSocket.send(chunk),this.debug("chunk sent = "+chunk.length+", remaining = "+out.length)}else this._webSocket.send(rawChunk)},StompHandler.prototype.dispose=function(){var _this=this;if(this.connected)try{var disconnectHeaders=Object.assign({},this.disconnectHeaders);disconnectHeaders.receipt||(disconnectHeaders.receipt="close-"+this._counter++),this.watchForReceipt(disconnectHeaders.receipt,(function(frame){_this._closeWebsocket(),_this._cleanUp(),_this.onDisconnect(frame)})),this._transmit({command:"DISCONNECT",headers:disconnectHeaders})}catch(error){this.debug("Ignoring error during disconnect "+error)}else this._webSocket.readyState!==web_socket_state_1.WebSocketState.CONNECTING&&this._webSocket.readyState!==web_socket_state_1.WebSocketState.OPEN||this._closeWebsocket()},StompHandler.prototype._cleanUp=function(){this._connected=!1,this._pinger&&clearInterval(this._pinger),this._ponger&&clearInterval(this._ponger)},StompHandler.prototype.publish=function(params){var destination=params.destination,headers=params.headers,body=params.body,binaryBody=params.binaryBody,skipContentLengthHeader=params.skipContentLengthHeader,hdrs=Object.assign({destination:destination},headers);this._transmit({command:"SEND",headers:hdrs,body:body,binaryBody:binaryBody,skipContentLengthHeader:skipContentLengthHeader})},StompHandler.prototype.watchForReceipt=function(receiptId,callback){this._receiptWatchers[receiptId]=callback},StompHandler.prototype.subscribe=function(destination,callback,headers){void 0===headers&&(headers={}),(headers=Object.assign({},headers)).id||(headers.id="sub-"+this._counter++),headers.destination=destination,this._subscriptions[headers.id]=callback,this._transmit({command:"SUBSCRIBE",headers:headers});var client=this;return{id:headers.id,unsubscribe:function(hdrs){return client.unsubscribe(headers.id,hdrs)}}},StompHandler.prototype.unsubscribe=function(id,headers){void 0===headers&&(headers={}),headers=Object.assign({},headers),delete this._subscriptions[id],headers.id=id,this._transmit({command:"UNSUBSCRIBE",headers:headers})},StompHandler.prototype.begin=function(transactionId){var txId=transactionId||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:txId}});var client=this;return{id:txId,commit:function(){client.commit(txId)},abort:function(){client.abort(txId)}}},StompHandler.prototype.commit=function(transactionId){this._transmit({command:"COMMIT",headers:{transaction:transactionId}})},StompHandler.prototype.abort=function(transactionId){this._transmit({command:"ABORT",headers:{transaction:transactionId}})},StompHandler.prototype.ack=function(messageId,subscriptionId,headers){void 0===headers&&(headers={}),headers=Object.assign({},headers),this._connectedVersion===versions_1.Versions.V1_2?headers.id=messageId:headers["message-id"]=messageId,headers.subscription=subscriptionId,this._transmit({command:"ACK",headers:headers})},StompHandler.prototype.nack=function(messageId,subscriptionId,headers){return void 0===headers&&(headers={}),headers=Object.assign({},headers),this._connectedVersion===versions_1.Versions.V1_2?headers.id=messageId:headers["message-id"]=messageId,headers.subscription=subscriptionId,this._transmit({command:"NACK",headers:headers})},StompHandler}();exports.StompHandler=StompHandler},"./src/stomp-headers.ts":
/*!******************************!*\
  !*** ./src/stomp-headers.ts ***!
  \******************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var StompHeaders=function(){};exports.StompHeaders=StompHeaders},"./src/stomp-subscription.ts":
/*!***********************************!*\
  !*** ./src/stomp-subscription.ts ***!
  \***********************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var StompSubscription=function(){};exports.StompSubscription=StompSubscription},"./src/versions.ts":
/*!*************************!*\
  !*** ./src/versions.ts ***!
  \*************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Versions=function(){function Versions(versions){this.versions=versions}return Versions.prototype.supportedVersions=function(){return this.versions.join(",")},Versions.prototype.protocolVersions=function(){return this.versions.map((function(x){return"v"+x.replace(".","")+".stomp"}))},Versions.V1_0="1.0",Versions.V1_1="1.1",Versions.V1_2="1.2",Versions.default=new Versions([Versions.V1_0,Versions.V1_1,Versions.V1_2]),Versions}();exports.Versions=Versions},"./src/web-socket-state.ts":
/*!*********************************!*\
  !*** ./src/web-socket-state.ts ***!
  \*********************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(WebSocketState){WebSocketState[WebSocketState.CONNECTING=0]="CONNECTING",WebSocketState[WebSocketState.OPEN=1]="OPEN",WebSocketState[WebSocketState.CLOSING=2]="CLOSING",WebSocketState[WebSocketState.CLOSED=3]="CLOSED"}(exports.WebSocketState||(exports.WebSocketState={}))},0:
/*!****************************!*\
  !*** multi ./src/index.ts ***!
  \****************************/
/*! no static exports found */function(module,exports,__webpack_require__){module.exports=__webpack_require__(/*! /home/kdeepak/MyWork/Tech/stomp/stompjs/src/index.ts */"./src/index.ts")}})},module.exports=factory()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const utils_1=__webpack_require__(32);let StompMessage=(()=>{class StompMessage{constructor(opts){this.blackListed=()=>!(!this.discardMine||this.receiverId!==this.senderId||this.fromApi())||!(!this.discardFromApi||!this.fromApi()),this.fromApi=()=>this.headers&&this.headers[StompMessage.FROM_API_HEADER],this.ack=()=>{this.message.ack()},this.nack=()=>{this.message.nack()},this.getChannelName=()=>this.channelName,this.getContent=()=>this.content;const{message:message,receiverId:receiverId="",subscriptionOpts:subscriptionOpts={}}=opts,{discardMine:discardMine=!1,discardFromApi:discardFromApi=!1}=subscriptionOpts;this.message=message;const body=message.body||"{}";this.content=utils_1.parseContent(body),this.headers=message.headers||{};const destination=this.headers.destination.split("/"),[senderId,channelName]=destination[destination.length-1].split(".");this.senderId=senderId,this.channelName=channelName,this.receiverId=receiverId,this.discardMine=discardMine,this.discardFromApi=discardFromApi}}return StompMessage.FROM_API_HEADER="x-from-sb-api",StompMessage})();exports.default=StompMessage},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=__webpack_require__(11),js_md5_1=tslib_1.__importDefault(__webpack_require__(343)),util_1=__webpack_require__(0),stompClient_1=tslib_1.__importDefault(__webpack_require__(134));class StompStreamClient extends stompClient_1.default{constructor(opts={}){super(opts),this.stompStreamListeners={},this.streamFrom=(streamHooks=[],opts={})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){const hooks=Array.isArray(streamHooks)?streamHooks:[streamHooks],names=[];for(let index=0;index<hooks.length;index+=1){const streamHook=hooks[index],name=this.addStompStreamListener(streamHook,opts);this.isConnected()&&(yield this.bindStompStreamListener(name)),names.push(name)}return names})),this.removeStompStreamListener=name=>tslib_1.__awaiter(this,void 0,void 0,(function*(){util_1.isNullOrUndefined(this.stompStreamListeners[name])?this.log("error",`STOMP listener ${name} does not exist.`):(yield this.unsubscribe(name),delete this.stompStreamListeners[name])})),this.disconnect=()=>new Promise((resolve,reject)=>{if(this.isConnected())try{const subscriptions=Object.keys(this.stompStreamListeners);for(let index=0;index<subscriptions.length;index+=1){const name=subscriptions[index],{subscription:subscription}=this.stompStreamListeners[name];util_1.isNullOrUndefined(subscription)||subscription.unsubscribe(),delete this.stompStreamListeners[name]}this.stompClient.deactivate(),this.stompClient=void 0,this.emit("disconnect")}catch(error){reject(error)}else resolve(!0)}),this.unsubscribe=name=>new Promise((resolve,reject)=>{if(this.isConnected()){const{subscription:subscription}=this.stompStreamListeners[name];util_1.isNullOrUndefined(subscription)?reject(new Error("Subscription not found")):(subscription.unsubscribe(),delete this.stompStreamListeners[name].subscription,resolve(!0))}else reject(new Error("Invalid connection"))}),this.addStompStreamListener=(streamHook,opts={})=>{const name="subscription-"+(new Date).getTime();return this.stompStreamListeners[name]={streamHook:streamHook,opts:opts},name},this.bindStompStreamListeners=()=>tslib_1.__awaiter(this,void 0,void 0,(function*(){const names=Object.keys(this.stompStreamListeners);for(let index=0;index<names.length;index+=1){const name=names[index];yield this.bindStompStreamListener(name)}})),this.bindStompStreamListener=name=>tslib_1.__awaiter(this,void 0,void 0,(function*(){if(util_1.isNullOrUndefined(this.stompStreamListeners[name]))this.log("error",`Listner ${name} does not exist.`);else{if(util_1.isNullOrUndefined(this.stompStreamListeners[name].subscription))return new Promise((resolve,reject)=>{try{const{streamHook:streamHook,opts:opts}=this.stompStreamListeners[name],{stream:stream,deviceId:deviceId,channel:channel,routingKey:routingKey,topic:topic,cache:cache=!0,callback:callback}=streamHook;if(util_1.isNullOrUndefined(stream)&&(util_1.isNullOrUndefined(channel)||util_1.isNullOrUndefined(deviceId)))return void this.log("error","Missing Stream or Device ID and Channel");if(util_1.isNullOrUndefined(callback))return void this.log("error","Missing Callback");let streamTopic="",tempQueue="";stream?(this.liveStreamExists(stream)||(console.error(`Stream ${stream} does not exist`),resolve(void 0)),cache?streamTopic=this.cachedStreamTopicFor({stream:stream}):(streamTopic=this.streamTopicFor({stream:stream,routingKey:routingKey,topic:topic}),tempQueue=this.tempQueue(stream,this.liveStreamSuffix))):(streamTopic=this.streamChannelTopicFor({deviceId:deviceId,channel:channel,routingKey:routingKey,topic:topic}),tempQueue=this.tempQueue(deviceId,channel));const subscriptionHeaders={};tempQueue&&(subscriptionHeaders["x-queue-name"]=tempQueue);const subscriptionId=js_md5_1.default(`${tempQueue}-${streamTopic}`),subscription=this.stompClient.subscribe(streamTopic,this.consumeCallback.bind(this,callback,opts),Object.assign(Object.assign({},subscriptionHeaders),{id:subscriptionId}));this.stompStreamListeners[name].subscription=subscription,this.log("info","Client subscribed to topic "+streamTopic),resolve(subscriptionId)}catch(error){this.log("error",error),reject(error)}});this.log("warn",`Listner ${name} already bound to a consumer.`)}})),this.streamChannelTopicFor=(params={})=>{const{deviceId:deviceId,channel:channel,type:type=this.defaultResource,routingKey:routingKey=this.defaultPattern,topic:topic}=params;let resource=deviceId||"";channel&&(resource+="."+channel);let finalTopic=resource;return topic?finalTopic+="."+topic:finalTopic=routingKey,`/${type}/${resource}/${finalTopic}`},this.cachedStreamTopicFor=(params={})=>{const{stream:stream,type:type=this.existingQueuePrefix}=params;return`/${type}/${stream||""}.${this.liveStreamSuffix}`},this.streamTopicFor=(params={})=>{const{stream:stream,type:type=this.defaultResource,routingKey:routingKey=this.defaultPattern}=params;return`/${type}/${stream||""}.${this.liveStreamSuffix}/${routingKey}`},this.defaultPattern="#",this.stompStreamListeners={},this.on("connect",()=>{this.bindStompStreamListeners()}),this.on("disconnect",()=>{this.stompStreamListeners={}})}}delete StompStreamClient.prototype.onMessage,delete StompStreamClient.prototype.publish,delete StompStreamClient.prototype.subcriptionFor,delete StompStreamClient.prototype.destinationFor,exports.default=StompStreamClient},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(344),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(obj){return"[object Array]"===Object.prototype.toString.call(obj)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(obj){return"object"==typeof obj&&obj.buffer&&obj.buffer.constructor===ArrayBuffer});var createOutputMethod=function(outputType){return function(message){return new Md5(!0).update(message)[outputType]()}},createMethod=function(){var method=createOutputMethod("hex");NODE_JS&&(method=nodeWrap(method)),method.create=function(){return new Md5},method.update=function(message){return method.create().update(message)};for(var i=0;i<OUTPUT_TYPES.length;++i){var type=OUTPUT_TYPES[i];method[type]=createOutputMethod(type)}return method},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(message){if("string"==typeof message)return crypto.createHash("md5").update(message,"utf8").digest("hex");if(null==message)throw ERROR;return message.constructor===ArrayBuffer&&(message=new Uint8Array(message)),Array.isArray(message)||ArrayBuffer.isView(message)||message.constructor===Buffer?crypto.createHash("md5").update(new Buffer(message)).digest("hex"):method(message)};return nodeMethod};function Md5(sharedMemory){if(sharedMemory)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);this.buffer8=new Uint8Array(buffer),this.blocks=new Uint32Array(buffer)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(message){if(!this.finalized){var notString,type=typeof message;if("string"!==type){if("object"!==type)throw ERROR;if(null===message)throw ERROR;if(ARRAY_BUFFER&&message.constructor===ArrayBuffer)message=new Uint8Array(message);else if(!(Array.isArray(message)||ARRAY_BUFFER&&ArrayBuffer.isView(message)))throw ERROR;notString=!0}for(var code,i,index=0,length=message.length,blocks=this.blocks,buffer8=this.buffer8;index<length;){if(this.hashed&&(this.hashed=!1,blocks[0]=blocks[16],blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0),notString)if(ARRAY_BUFFER)for(i=this.start;index<length&&i<64;++index)buffer8[i++]=message[index];else for(i=this.start;index<length&&i<64;++index)blocks[i>>2]|=message[index]<<SHIFT[3&i++];else if(ARRAY_BUFFER)for(i=this.start;index<length&&i<64;++index)(code=message.charCodeAt(index))<128?buffer8[i++]=code:code<2048?(buffer8[i++]=192|code>>6,buffer8[i++]=128|63&code):code<55296||code>=57344?(buffer8[i++]=224|code>>12,buffer8[i++]=128|code>>6&63,buffer8[i++]=128|63&code):(code=65536+((1023&code)<<10|1023&message.charCodeAt(++index)),buffer8[i++]=240|code>>18,buffer8[i++]=128|code>>12&63,buffer8[i++]=128|code>>6&63,buffer8[i++]=128|63&code);else for(i=this.start;index<length&&i<64;++index)(code=message.charCodeAt(index))<128?blocks[i>>2]|=code<<SHIFT[3&i++]:code<2048?(blocks[i>>2]|=(192|code>>6)<<SHIFT[3&i++],blocks[i>>2]|=(128|63&code)<<SHIFT[3&i++]):code<55296||code>=57344?(blocks[i>>2]|=(224|code>>12)<<SHIFT[3&i++],blocks[i>>2]|=(128|code>>6&63)<<SHIFT[3&i++],blocks[i>>2]|=(128|63&code)<<SHIFT[3&i++]):(code=65536+((1023&code)<<10|1023&message.charCodeAt(++index)),blocks[i>>2]|=(240|code>>18)<<SHIFT[3&i++],blocks[i>>2]|=(128|code>>12&63)<<SHIFT[3&i++],blocks[i>>2]|=(128|code>>6&63)<<SHIFT[3&i++],blocks[i>>2]|=(128|63&code)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var blocks=this.blocks,i=this.lastByteIndex;blocks[i>>2]|=EXTRA[3&i],i>=56&&(this.hashed||this.hash(),blocks[0]=blocks[16],blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0),blocks[14]=this.bytes<<3,blocks[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var a,b,c,d,bc,da,blocks=this.blocks;this.first?b=((b=((a=((a=blocks[0]-680876937)<<7|a>>>25)-271733879<<0)^(c=((c=(-271733879^(d=((d=(-1732584194^2004318071&a)+blocks[1]-117830708)<<12|d>>>20)+a<<0)&(-271733879^a))+blocks[2]-1126478375)<<17|c>>>15)+d<<0)&(d^a))+blocks[3]-1316259209)<<22|b>>>10)+c<<0:(a=this.h0,b=this.h1,c=this.h2,b=((b+=((a=((a+=((d=this.h3)^b&(c^d))+blocks[0]-680876936)<<7|a>>>25)+b<<0)^(c=((c+=(b^(d=((d+=(c^a&(b^c))+blocks[1]-389564586)<<12|d>>>20)+a<<0)&(a^b))+blocks[2]+606105819)<<17|c>>>15)+d<<0)&(d^a))+blocks[3]-1044525330)<<22|b>>>10)+c<<0),b=((b+=((a=((a+=(d^b&(c^d))+blocks[4]-176418897)<<7|a>>>25)+b<<0)^(c=((c+=(b^(d=((d+=(c^a&(b^c))+blocks[5]+1200080426)<<12|d>>>20)+a<<0)&(a^b))+blocks[6]-1473231341)<<17|c>>>15)+d<<0)&(d^a))+blocks[7]-45705983)<<22|b>>>10)+c<<0,b=((b+=((a=((a+=(d^b&(c^d))+blocks[8]+1770035416)<<7|a>>>25)+b<<0)^(c=((c+=(b^(d=((d+=(c^a&(b^c))+blocks[9]-1958414417)<<12|d>>>20)+a<<0)&(a^b))+blocks[10]-42063)<<17|c>>>15)+d<<0)&(d^a))+blocks[11]-1990404162)<<22|b>>>10)+c<<0,b=((b+=((a=((a+=(d^b&(c^d))+blocks[12]+1804603682)<<7|a>>>25)+b<<0)^(c=((c+=(b^(d=((d+=(c^a&(b^c))+blocks[13]-40341101)<<12|d>>>20)+a<<0)&(a^b))+blocks[14]-1502002290)<<17|c>>>15)+d<<0)&(d^a))+blocks[15]+1236535329)<<22|b>>>10)+c<<0,b=((b+=((d=((d+=(b^c&((a=((a+=(c^d&(b^c))+blocks[1]-165796510)<<5|a>>>27)+b<<0)^b))+blocks[6]-1069501632)<<9|d>>>23)+a<<0)^a&((c=((c+=(a^b&(d^a))+blocks[11]+643717713)<<14|c>>>18)+d<<0)^d))+blocks[0]-373897302)<<20|b>>>12)+c<<0,b=((b+=((d=((d+=(b^c&((a=((a+=(c^d&(b^c))+blocks[5]-701558691)<<5|a>>>27)+b<<0)^b))+blocks[10]+38016083)<<9|d>>>23)+a<<0)^a&((c=((c+=(a^b&(d^a))+blocks[15]-660478335)<<14|c>>>18)+d<<0)^d))+blocks[4]-405537848)<<20|b>>>12)+c<<0,b=((b+=((d=((d+=(b^c&((a=((a+=(c^d&(b^c))+blocks[9]+568446438)<<5|a>>>27)+b<<0)^b))+blocks[14]-1019803690)<<9|d>>>23)+a<<0)^a&((c=((c+=(a^b&(d^a))+blocks[3]-187363961)<<14|c>>>18)+d<<0)^d))+blocks[8]+1163531501)<<20|b>>>12)+c<<0,b=((b+=((d=((d+=(b^c&((a=((a+=(c^d&(b^c))+blocks[13]-1444681467)<<5|a>>>27)+b<<0)^b))+blocks[2]-51403784)<<9|d>>>23)+a<<0)^a&((c=((c+=(a^b&(d^a))+blocks[7]+1735328473)<<14|c>>>18)+d<<0)^d))+blocks[12]-1926607734)<<20|b>>>12)+c<<0,b=((b+=((da=(d=((d+=((bc=b^c)^(a=((a+=(bc^d)+blocks[5]-378558)<<4|a>>>28)+b<<0))+blocks[8]-2022574463)<<11|d>>>21)+a<<0)^a)^(c=((c+=(da^b)+blocks[11]+1839030562)<<16|c>>>16)+d<<0))+blocks[14]-35309556)<<23|b>>>9)+c<<0,b=((b+=((da=(d=((d+=((bc=b^c)^(a=((a+=(bc^d)+blocks[1]-1530992060)<<4|a>>>28)+b<<0))+blocks[4]+1272893353)<<11|d>>>21)+a<<0)^a)^(c=((c+=(da^b)+blocks[7]-155497632)<<16|c>>>16)+d<<0))+blocks[10]-1094730640)<<23|b>>>9)+c<<0,b=((b+=((da=(d=((d+=((bc=b^c)^(a=((a+=(bc^d)+blocks[13]+681279174)<<4|a>>>28)+b<<0))+blocks[0]-358537222)<<11|d>>>21)+a<<0)^a)^(c=((c+=(da^b)+blocks[3]-722521979)<<16|c>>>16)+d<<0))+blocks[6]+76029189)<<23|b>>>9)+c<<0,b=((b+=((da=(d=((d+=((bc=b^c)^(a=((a+=(bc^d)+blocks[9]-640364487)<<4|a>>>28)+b<<0))+blocks[12]-421815835)<<11|d>>>21)+a<<0)^a)^(c=((c+=(da^b)+blocks[15]+530742520)<<16|c>>>16)+d<<0))+blocks[2]-995338651)<<23|b>>>9)+c<<0,b=((b+=((d=((d+=(b^((a=((a+=(c^(b|~d))+blocks[0]-198630844)<<6|a>>>26)+b<<0)|~c))+blocks[7]+1126891415)<<10|d>>>22)+a<<0)^((c=((c+=(a^(d|~b))+blocks[14]-1416354905)<<15|c>>>17)+d<<0)|~a))+blocks[5]-57434055)<<21|b>>>11)+c<<0,b=((b+=((d=((d+=(b^((a=((a+=(c^(b|~d))+blocks[12]+1700485571)<<6|a>>>26)+b<<0)|~c))+blocks[3]-1894986606)<<10|d>>>22)+a<<0)^((c=((c+=(a^(d|~b))+blocks[10]-1051523)<<15|c>>>17)+d<<0)|~a))+blocks[1]-2054922799)<<21|b>>>11)+c<<0,b=((b+=((d=((d+=(b^((a=((a+=(c^(b|~d))+blocks[8]+1873313359)<<6|a>>>26)+b<<0)|~c))+blocks[15]-30611744)<<10|d>>>22)+a<<0)^((c=((c+=(a^(d|~b))+blocks[6]-1560198380)<<15|c>>>17)+d<<0)|~a))+blocks[13]+1309151649)<<21|b>>>11)+c<<0,b=((b+=((d=((d+=(b^((a=((a+=(c^(b|~d))+blocks[4]-145523070)<<6|a>>>26)+b<<0)|~c))+blocks[11]-1120210379)<<10|d>>>22)+a<<0)^((c=((c+=(a^(d|~b))+blocks[2]+718787259)<<15|c>>>17)+d<<0)|~a))+blocks[9]-343485551)<<21|b>>>11)+c<<0,this.first?(this.h0=a+1732584193<<0,this.h1=b-271733879<<0,this.h2=c-1732584194<<0,this.h3=d+271733878<<0,this.first=!1):(this.h0=this.h0+a<<0,this.h1=this.h1+b<<0,this.h2=this.h2+c<<0,this.h3=this.h3+d<<0)},Md5.prototype.hex=function(){this.finalize();var h0=this.h0,h1=this.h1,h2=this.h2,h3=this.h3;return HEX_CHARS[h0>>4&15]+HEX_CHARS[15&h0]+HEX_CHARS[h0>>12&15]+HEX_CHARS[h0>>8&15]+HEX_CHARS[h0>>20&15]+HEX_CHARS[h0>>16&15]+HEX_CHARS[h0>>28&15]+HEX_CHARS[h0>>24&15]+HEX_CHARS[h1>>4&15]+HEX_CHARS[15&h1]+HEX_CHARS[h1>>12&15]+HEX_CHARS[h1>>8&15]+HEX_CHARS[h1>>20&15]+HEX_CHARS[h1>>16&15]+HEX_CHARS[h1>>28&15]+HEX_CHARS[h1>>24&15]+HEX_CHARS[h2>>4&15]+HEX_CHARS[15&h2]+HEX_CHARS[h2>>12&15]+HEX_CHARS[h2>>8&15]+HEX_CHARS[h2>>20&15]+HEX_CHARS[h2>>16&15]+HEX_CHARS[h2>>28&15]+HEX_CHARS[h2>>24&15]+HEX_CHARS[h3>>4&15]+HEX_CHARS[15&h3]+HEX_CHARS[h3>>12&15]+HEX_CHARS[h3>>8&15]+HEX_CHARS[h3>>20&15]+HEX_CHARS[h3>>16&15]+HEX_CHARS[h3>>28&15]+HEX_CHARS[h3>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var h0=this.h0,h1=this.h1,h2=this.h2,h3=this.h3;return[255&h0,h0>>8&255,h0>>16&255,h0>>24&255,255&h1,h1>>8&255,h1>>16&255,h1>>24&255,255&h2,h2>>8&255,h2>>16&255,h2>>24&255,255&h3,h3>>8&255,h3>>16&255,h3>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var buffer=new ArrayBuffer(16),blocks=new Uint32Array(buffer);return blocks[0]=this.h0,blocks[1]=this.h1,blocks[2]=this.h2,blocks[3]=this.h3,buffer},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var v1,v2,v3,base64Str="",bytes=this.array(),i=0;i<15;)v1=bytes[i++],v2=bytes[i++],v3=bytes[i++],base64Str+=BASE64_ENCODE_CHAR[v1>>>2]+BASE64_ENCODE_CHAR[63&(v1<<4|v2>>>4)]+BASE64_ENCODE_CHAR[63&(v2<<2|v3>>>6)]+BASE64_ENCODE_CHAR[63&v3];return v1=bytes[i],base64Str+=BASE64_ENCODE_CHAR[v1>>>2]+BASE64_ENCODE_CHAR[v1<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()},function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(this,{})}])}));
//# sourceMappingURL=spacebunny.js.map